<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"junyiha.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="工作学习笔记">
<meta property="og:type" content="website">
<meta property="og:title" content="junyi&#39;s blog">
<meta property="og:url" content="https://junyiha.github.io/page/29/index.html">
<meta property="og:site_name" content="junyi&#39;s blog">
<meta property="og:description" content="工作学习笔记">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="zhang junyi">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://junyiha.github.io/page/29/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>junyi's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">junyi's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">hahahahaha</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_57_init/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_57_init/" class="post-title-link" itemprop="url">linux_2_57_init</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>init命令</li>
</ul>
<h2 id="linux-init命令-详解"><a href="#linux-init命令-详解" class="headerlink" title="linux init命令 详解"></a>linux init命令 详解</h2><p><code>init</code> 命令在 Linux 系统中用于启动系统初始化进程，是系统引导过程中的第一个用户空间进程。<code>init</code> 进程的主要任务是启动系统中的各种服务和进程，初始化系统环境，然后将控制权转交给其他运行级别（runlevel）对应的程序。以下是对 <code>init</code> 命令的详细说明：</p>
<h3 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init [runlevel]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>runlevel：</strong> 可选参数，指定要切换到的运行级别。如果省略该参数，则 <code>init</code> 将默认切换到运行级别 3。</li>
</ul>
<h3 id="运行级别（Runlevel）："><a href="#运行级别（Runlevel）：" class="headerlink" title="运行级别（Runlevel）："></a>运行级别（Runlevel）：</h3><p>运行级别是一种系统状态，代表了一组运行的服务和进程。不同的运行级别支持不同的功能和服务。在传统的 System V 初始化系统中，常见的运行级别包括：</p>
<ul>
<li><strong>0：</strong> 关机（系统停机）。</li>
<li><strong>1：</strong> 单用户模式（单用户维护模式）。</li>
<li><strong>2：</strong> 多用户模式，没有网络服务。</li>
<li><strong>3：</strong> 多用户模式，带有网络服务。</li>
<li><strong>4：</strong> 未分配。</li>
<li><strong>5：</strong> 图形用户界面（带有图形登录界面）。</li>
<li><strong>6：</strong> 重新启动系统。</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>切换到单用户模式（维护模式）：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init 1</span><br></pre></td></tr></table></figure>
<p>切换到单用户模式，通常用于系统维护。</p>
</li>
<li><p><strong>切换到多用户模式，带有网络服务：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init 3</span><br></pre></td></tr></table></figure>
<p>切换到多用户模式，包含网络服务。</p>
</li>
<li><p><strong>切换到图形用户界面：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init 5</span><br></pre></td></tr></table></figure>
<p>切换到图形用户界面，如果系统配置了图形登录界面。</p>
</li>
</ol>
<h3 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h3><ul>
<li><code>init</code> 命令在现代 Linux 系统中可能已经被其他初始化系统（如 systemd）替代，因此在一些系统上可能不再使用。</li>
<li>如果使用 System V 初始化系统，<code>init</code> 进程的配置文件通常是 <code>/etc/inittab</code>。</li>
<li>在某些系统上，可以使用 <code>telinit</code> 命令代替 <code>init</code> 来切换运行级别，例如 <code>telinit 3</code>。</li>
</ul>
<p><code>init</code> 命令主要在传统的 System V 初始化系统中使用，现代 Linux 系统中可能使用更先进的初始化系统。如果你的系统使用 systemd，那么 <code>systemctl</code> 命令可能是更常见的用于管理服务和运行级别的工具。</p>
<h2 id="init"><a href="#init" class="headerlink" title="init"></a>init</h2><ul>
<li><p>简介：</p>
<ul>
<li>在Linux中，init 是系统引导过程中的第一个用户级进程，它是系统的第一个进程，负责初始化系统并启动其他进程。但是在最新的Linux发行版中，init 进程已经被更现代化的 systemd 替代</li>
<li>init 进程的主要任务是根据系统的运行级别（runlevel）来启动相应的服务和进程。运行级别定义了系统的状态或功能模式，例如单用户模式、多用户图形界面模式等。不同的运行级别对应着不同的系统配置和服务启动状态。</li>
<li>在传统的系统中，可以使用 init 命令来切换运行级别</li>
</ul>
</li>
<li><p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init &lt;运行级别&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>常见的运行级别：</p>
<ul>
<li>0：关机</li>
<li>1：单用户模式</li>
<li>2：多用户模式（没有NFS服务）</li>
<li>3：完全的多用户模式</li>
<li>4：保留给用户自定义</li>
<li>5：图形界面模式</li>
<li>6：重新启动</li>
</ul>
</li>
<li><p>示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init 5</span><br></pre></td></tr></table></figure>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，init 命令需要超级用户权限才能执行，因此通常需要使用 sudo 或以 root 用户身份运行</li>
<li>虽然在现代的Linux发行版中，init 进程已被 systemd 取代，但了解 init 的基本概念仍然有助于理解系统的引导过程和运行级别的概念</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_54_mkdir/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_54_mkdir/" class="post-title-link" itemprop="url">linux_2_54_mkdir</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>mkdir命令</li>
</ul>
<h2 id="linux-mkdir命令-详解"><a href="#linux-mkdir命令-详解" class="headerlink" title="linux mkdir命令 详解"></a>linux mkdir命令 详解</h2><p><code>mkdir</code> 是 Linux 系统中用于创建目录（文件夹）的命令。它允许用户在文件系统中创建一个或多个新的目录。以下是关于 <code>mkdir</code> 命令的详细说明：</p>
<h3 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> [OPTION] DIRECTORY...</span><br></pre></td></tr></table></figure>

<h3 id="参数说明："><a href="#参数说明：" class="headerlink" title="参数说明："></a>参数说明：</h3><ul>
<li><strong>DIRECTORY：</strong> 要创建的目录的名称，可以同时指定多个目录。</li>
</ul>
<h3 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h3><ul>
<li><strong>-m, –mode&#x3D;MODE：</strong> 设置新创建目录的权限模式（权限掩码）。</li>
<li><strong>-p, –parents：</strong> 递归创建目录，如果上级目录不存在也一并创建。</li>
<li><strong>-v, –verbose：</strong> 显示创建过程中的详细信息。</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>创建单个目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> my_directory</span><br></pre></td></tr></table></figure>
<p>创建一个名为 <code>my_directory</code> 的新目录。</p>
</li>
<li><p><strong>递归创建目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /path/to/parent/directory/new_directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-p</code> 选项可以递归创建目录，即使上级目录不存在也会创建。</p>
</li>
<li><p><strong>设置目录权限：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -m 755 my_directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-m</code> 选项可以设置新创建目录的权限模式，此示例将 <code>my_directory</code> 目录的权限设置为 <code>755</code>。</p>
</li>
<li><p><strong>同时创建多个目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> dir1 dir2 dir3</span><br></pre></td></tr></table></figure>
<p>同时创建多个目录，即 <code>dir1</code>、<code>dir2</code> 和 <code>dir3</code>。</p>
</li>
<li><p><strong>显示详细信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -v dir1 dir2 dir3</span><br></pre></td></tr></table></figure>
<p>使用 <code>-v</code> 选项显示创建过程中的详细信息。</p>
</li>
</ol>
<h3 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h3><ul>
<li>默认情况下，新创建的目录权限是 <code>777</code>，但这可能会受到系统 umask 的影响。</li>
<li>如果没有指定 <code>-m</code> 选项，<code>mkdir</code> 将使用系统默认的 umask 值来确定新目录的权限。</li>
<li>使用 <code>-p</code> 选项时，要小心，以免意外地在错误的位置创建目录。</li>
</ul>
<p><code>mkdir</code> 是一个基本而常用的命令，用于在 Linux 系统中创建目录。通过结合不同的选项，可以根据具体需求方便地创建目录并设置相应的权限。</p>
<h2 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h2><p>在Linux系统中，<code>mkdir</code>（make directory）命令用于创建目录。下面是<code>mkdir</code>命令的详细解释：</p>
<p>命令语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir [选项] 目录名</span><br></pre></td></tr></table></figure>

<p>常用选项：</p>
<ul>
<li><code>-p</code>：递归创建目录，如果父目录不存在则创建。例如，<code>mkdir -p dir1/dir2/dir3</code> 将会创建<code>dir1</code>、<code>dir2</code>和<code>dir3</code>三级目录。</li>
<li><code>-m</code>：指定目录的权限模式（权限标志）。例如，<code>mkdir -m 755 new_dir</code> 将会创建一个权限为 <code>755</code> 的 <code>new_dir</code> 目录。</li>
<li><code>-v</code>：显示创建的每个目录的详细信息。</li>
<li><code>-p</code> 和 <code>-v</code> 选项可以同时使用。</li>
</ul>
<p>示例：</p>
<ol>
<li><p>创建一个名为 <code>my_directory</code> 的目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir my_directory</span><br></pre></td></tr></table></figure>
</li>
<li><p>递归地创建多级目录 <code>dir1/dir2/dir3</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p dir1/dir2/dir3</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建目录并指定权限模式为 <code>755</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -m 755 my_directory</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建目录并显示详细信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -v my_directory</span><br></pre></td></tr></table></figure></li>
</ol>
<p>以上是一些常见的用法示例。<code>mkdir</code>命令还支持其他选项和参数，你可以通过运行 <code>man mkdir</code> 命令来查看更多详细的帮助文档。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_56_find/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_56_find/" class="post-title-link" itemprop="url">linux_2_56_find</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>find命令</li>
</ul>
<h2 id="linux-find命令-详解"><a href="#linux-find命令-详解" class="headerlink" title="linux find命令 详解"></a>linux find命令 详解</h2><p><code>find</code> 命令是在 Linux 系统中用于在文件系统中查找文件和目录的强大工具。<code>find</code> 可以根据不同的条件搜索文件，如文件名、文件类型、大小、权限等。以下是关于 <code>find</code> 命令的详细说明：</p>
<h3 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find [path...] [expression]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>path：</strong> 要开始搜索的路径。</li>
<li><strong>expression：</strong> 定义搜索条件的表达式。</li>
</ul>
<h3 id="常用表达式："><a href="#常用表达式：" class="headerlink" title="常用表达式："></a>常用表达式：</h3><ol>
<li><p><strong>按文件名搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;filename&quot;</span></span><br></pre></td></tr></table></figure>
<p>通过文件名进行搜索。</p>
</li>
<li><p><strong>按文件类型搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -<span class="built_in">type</span> f</span><br></pre></td></tr></table></figure>
<p>通过文件类型进行搜索，其中 <code>-type f</code> 表示文件，<code>-type d</code> 表示目录。</p>
</li>
<li><p><strong>按文件大小搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -size +10M</span><br></pre></td></tr></table></figure>
<p>搜索大于10兆字节的文件，也可以使用 <code>-size -10M</code> 来搜索小于10兆字节的文件。</p>
</li>
<li><p><strong>按文件权限搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -perm 644</span><br></pre></td></tr></table></figure>
<p>搜索文件权限为644的文件。</p>
</li>
<li><p><strong>按时间戳搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -mtime -7</span><br></pre></td></tr></table></figure>
<p>搜索过去7天内修改过的文件。使用 <code>-atime</code> 和 <code>-ctime</code> 选项可以分别按访问时间和变化时间搜索。</p>
</li>
<li><p><strong>按用户和组搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -user username -group groupname</span><br></pre></td></tr></table></figure>
<p>搜索属于特定用户和组的文件。</p>
</li>
<li><p><strong>按多个条件组合搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">type</span> f -size +1M</span><br></pre></td></tr></table></figure>
<p>可以组合多个条件，以便更精确地搜索文件。</p>
</li>
</ol>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>查找并删除所有 <code>.log</code> 文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.log&quot;</span> -delete</span><br></pre></td></tr></table></figure>
<p>查找并删除所有后缀为 <code>.log</code> 的文件。</p>
</li>
<li><p><strong>查找所有文件并将结果输出到文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search &gt; results.txt</span><br></pre></td></tr></table></figure>
<p>将所有搜索结果输出到 <code>results.txt</code> 文件。</p>
</li>
<li><p><strong>查找所有 <code>.jpg</code> 文件并将它们移动到另一个目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.jpg&quot;</span> -<span class="built_in">exec</span> <span class="built_in">mv</span> &#123;&#125; /path/to/destination \;</span><br></pre></td></tr></table></figure>
<p>将所有后缀为 <code>.jpg</code> 的文件移动到另一个目录。</p>
</li>
<li><p><strong>查找所有空文件或目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -empty</span><br></pre></td></tr></table></figure>
<p>查找并显示所有空文件或目录。</p>
</li>
<li><p><strong>查找并压缩所有 <code>.txt</code> 文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">exec</span> gzip &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>查找并使用 <code>gzip</code> 命令压缩所有后缀为 <code>.txt</code> 的文件。</p>
</li>
</ol>
<p><code>find</code> 命令非常强大，可以根据各种条件在文件系统中进行灵活的搜索。请注意，在使用 <code>find</code> 命令时要小心，确保你了解你的搜索条件以及其潜在的影响。</p>
<h2 id="linux-find命令-常用技巧"><a href="#linux-find命令-常用技巧" class="headerlink" title="linux find命令 常用技巧"></a>linux find命令 常用技巧</h2><p>以下是一些在使用 <code>find</code> 命令时的常用技巧，可以帮助你更灵活地进行文件搜索和操作：</p>
<ol>
<li><p><strong>使用 <code>-exec</code> 执行操作：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">exec</span> <span class="built_in">rm</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>使用 <code>-exec</code> 选项可以在找到的每个文件上执行特定的操作，这里是删除所有后缀为 <code>.txt</code> 的文件。</p>
</li>
<li><p><strong>使用 <code>-exec</code> 执行复杂命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.log&quot;</span> -<span class="built_in">exec</span> sh -c <span class="string">&#x27;mv &#123;&#125; $(dirname &#123;&#125;)/archive/&#x27;</span> \;</span><br></pre></td></tr></table></figure>
<p>使用 <code>-exec</code> 时，可以执行更复杂的命令，这里将所有后缀为 <code>.log</code> 的文件移动到它们所在目录下的 <code>archive</code> 子目录。</p>
</li>
<li><p><strong>使用 <code>-iname</code> 进行不区分大小写的搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -iname <span class="string">&quot;*.jpg&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-iname</code> 可以进行不区分大小写的文件名搜索。</p>
</li>
<li><p><strong>查找特定类型的文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -<span class="built_in">type</span> f -name <span class="string">&quot;*.txt&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-type</code> 选项可以限制搜索结果为文件，而不是目录。</p>
</li>
<li><p><strong>查找符号链接文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -<span class="built_in">type</span> l</span><br></pre></td></tr></table></figure>
<p>使用 <code>-type l</code> 可以查找符号链接文件。</p>
</li>
<li><p><strong>查找并显示文件详细信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-ls</code> 可以显示详细的文件信息，包括权限、大小、时间戳等。</p>
</li>
<li><p><strong>查找文件并排除特定目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -not -path <span class="string">&quot;/path/to/exclude/*&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-not -path</code> 可以排除特定目录下的文件。</p>
</li>
<li><p><strong>查找文件并按修改时间排序：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">exec</span> <span class="built_in">stat</span> --format=<span class="string">&quot;%Y %n&quot;</span> &#123;&#125; \; | <span class="built_in">sort</span> -n</span><br></pre></td></tr></table></figure>
<p>使用 <code>-exec</code> 结合 <code>stat</code> 命令和 <code>sort</code> 命令，可以按修改时间对搜索结果进行排序。</p>
</li>
<li><p><strong>查找空文件和空目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -empty</span><br></pre></td></tr></table></figure>
<p>使用 <code>-empty</code> 可以查找空文件和空目录。</p>
</li>
<li><p><strong>使用 <code>-maxdepth</code> 限制搜索深度：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -maxdepth 2</span><br></pre></td></tr></table></figure>
<p>使用 <code>-maxdepth</code> 可以限制搜索的深度，防止过度搜索。</p>
</li>
</ol>
<p>这些技巧可以帮助你更灵活地使用 <code>find</code> 命令，根据具体需求进行文件搜索和操作。请确保在使用复杂的命令时仔细测试，以避免不必要的文件操作。</p>
<h2 id="linux-find命令-高级技巧"><a href="#linux-find命令-高级技巧" class="headerlink" title="linux find命令 高级技巧"></a>linux find命令 高级技巧</h2><p>以下是一些高级技巧，可以帮助你更有效地使用 <code>find</code> 命令进行文件搜索和操作：</p>
<ol>
<li><p><strong>使用 <code>-regex</code> 进行正则表达式搜索：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -regex <span class="string">&quot;.*\.txt&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-regex</code> 可以进行正则表达式匹配，这对于复杂的文件名模式非常有用。</p>
</li>
<li><p><strong>使用 <code>-newer</code> 按时间戳搜索新文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -newer /path/to/reference_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-newer</code> 可以搜索比参考文件更新的文件。</p>
</li>
<li><p><strong>使用 <code>-delete</code> 直接删除匹配的文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.tmp&quot;</span> -delete</span><br></pre></td></tr></table></figure>
<p>使用 <code>-delete</code> 可以直接删除匹配的文件，而无需使用 <code>-exec rm</code>。</p>
</li>
<li><p><strong>使用 <code>-execdir</code> 在文件所在目录执行命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -execdir <span class="built_in">mv</span> &#123;&#125; /path/to/destination \;</span><br></pre></td></tr></table></figure>
<p>使用 <code>-execdir</code> 可以在匹配的文件所在目录执行命令，避免可能的路径问题。</p>
</li>
<li><p><strong>使用 <code>-printf</code> 格式化输出信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">printf</span> <span class="string">&quot;%p\t%s\n&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-printf</code> 可以自定义输出信息的格式，这对于生成报告非常有用。</p>
</li>
<li><p><strong>在 <code>-exec</code> 中使用 <code>+</code> 提高效率：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.log&quot;</span> -<span class="built_in">exec</span> <span class="built_in">cat</span> &#123;&#125; +</span><br></pre></td></tr></table></figure>
<p>在 <code>-exec</code> 中使用 <code>+</code> 可以将多个文件一次性传递给命令，提高效率。</p>
</li>
<li><p><strong>查找包含特定文本的文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -rl <span class="string">&quot;search_text&quot;</span> /path/to/search</span><br></pre></td></tr></table></figure>
<p>如果你要查找包含特定文本的文件，可能更适合使用 <code>grep</code> 命令。</p>
</li>
<li><p><strong>在搜索结果中排除特定目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -not -path <span class="string">&quot;/path/to/exclude/*&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-not -path</code> 可以排除特定目录下的文件。</p>
</li>
<li><p><strong>使用 <code>-exec sh -c</code> 执行复杂的命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -<span class="built_in">exec</span> sh -c <span class="string">&#x27;mv &#123;&#125; $(dirname &#123;&#125;)/archive/&#x27;</span> \;</span><br></pre></td></tr></table></figure>
<p>使用 <code>-exec sh -c</code> 可以执行包含变量和子命令的复杂命令。</p>
</li>
<li><p><strong>通过 <code>-print0</code> 和 <code>xargs -0</code> 处理包含空格的文件名：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/search -name <span class="string">&quot;*.txt&quot;</span> -print0 | xargs -0 <span class="built_in">command</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-print0</code> 和 <code>xargs -0</code> 可以处理文件名中包含空格等特殊字符的情况。</p>
</li>
</ol>
<p>这些高级技巧可以帮助你更灵活地使用 <code>find</code> 命令，根据具体需求进行文件搜索和操作。要牢记在使用复杂命令时小心，确保它们符合你的预期。</p>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p>在Linux中，<code>find</code>命令用于在文件系统中查找符合指定条件的文件和目录。它提供了强大的搜索功能，可以根据不同的搜索标准来定位文件和目录。</p>
<p><code>find</code>命令的基本语法如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find [路径] [表达式]</span><br></pre></td></tr></table></figure>

<p>其中，<code>路径</code>指定要搜索的起始目录路径，<code>表达式</code>用于指定搜索条件和操作。</p>
<p>以下是一些常见的用法示例：</p>
<ol>
<li><p>搜索指定目录下的所有文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory</span><br></pre></td></tr></table></figure>
</li>
<li><p>搜索指定目录下的特定文件类型（例如，所有的文本文件）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f -name &quot;*.txt&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>搜索指定目录及其子目录下的所有文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f</span><br></pre></td></tr></table></figure>
</li>
<li><p>搜索指定目录下最近修改的文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f -mtime -7</span><br></pre></td></tr></table></figure>
<p>上述命令将搜索在最近7天内被修改的文件。</p>
</li>
<li><p>搜索指定目录下的文件并执行操作（如打印文件名或删除文件）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f -exec echo &#123;&#125; \;</span><br><span class="line">find /path/to/directory -type f -exec rm &#123;&#125; \;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>需要注意以下几点：</p>
<ul>
<li><code>find</code>命令默认会递归地搜索指定目录及其子目录下的文件和目录。</li>
<li><code>-type</code>选项用于指定要搜索的文件类型，例如<code>f</code>表示普通文件，<code>d</code>表示目录。</li>
<li><code>-name</code>选项用于指定文件名的模式匹配。</li>
<li><code>-mtime</code>选项用于指定文件的修改时间，例如<code>-mtime -7</code>表示最近7天内修改的文件。</li>
<li><code>-exec</code>选项用于在找到的文件上执行特定的命令。</li>
</ul>
<p><code>find</code>命令还支持许多其他选项和表达式，用于更精确地控制搜索条件和操作。你可以使用<code>man find</code>命令查阅<code>find</code>命令的详细文档，以了解更多关于其用法和选项的信息。</p>
<hr>
<h2 id="find-exec选项"><a href="#find-exec选项" class="headerlink" title="find -exec选项"></a>find -exec选项</h2><p>在Linux中，<code>-exec</code>是<code>find</code>命令的一个选项，用于在找到的文件上执行指定的命令。<code>-exec</code>选项允许你对找到的文件执行各种自定义操作。</p>
<p><code>-exec</code>选项的语法如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-exec command &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>解释如下：</p>
<ul>
<li><code>command</code>：要执行的命令，可以是任何合法的Linux命令。命令必须以空格或分号结尾，并用单引号或双引号括起来。</li>
<li><code>&#123;&#125;</code>：是一个占位符，表示<code>find</code>命令找到的每个文件。<code>&#123;&#125;</code>会被实际的文件名替换。</li>
<li><code>\;</code>：表示<code>-exec</code>选项的结束，必须使用反斜杠转义字符进行转义。</li>
</ul>
<p>以下是一些常见的用法示例：</p>
<ol>
<li><p>打印找到的文件名：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f -exec echo &#123;&#125; \;</span><br></pre></td></tr></table></figure>
</li>
<li><p>复制找到的文件到目标目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f -exec cp &#123;&#125; /path/to/destination/ \;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除所有找到的文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -type f -exec rm &#123;&#125; \;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>需要注意以下几点：</p>
<ul>
<li>如果在<code>command</code>中使用<code>&#123;&#125;</code>，确保在命令中引用文件名之前进行适当的转义或引号处理，以避免解释错误。</li>
<li>如果要对多个文件执行命令，可以使用<code>+</code>代替<code>\;</code>作为结束符。这样会将多个文件一次传递给命令，从而提高效率。</li>
</ul>
<p>总而言之，<code>-exec</code>选项使得<code>find</code>命令具有强大的功能，可以在找到的文件上执行自定义的命令和操作。这对于批量处理文件或执行复杂的操作非常有用。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_55_rename/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_55_rename/" class="post-title-link" itemprop="url">linux_2_55_rename</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>rename命令</li>
</ul>
<h2 id="linux-rename-批量删除文件名中的中文"><a href="#linux-rename-批量删除文件名中的中文" class="headerlink" title="linux rename 批量删除文件名中的中文"></a>linux rename 批量删除文件名中的中文</h2><p>在 Linux 系统中，如果你想批量删除文件名中的中文，可以使用 <code>rename</code> 命令搭配正则表达式进行操作。以下是一个示例：</p>
<h3 id="1-安装-rename-工具："><a href="#1-安装-rename-工具：" class="headerlink" title="1. 安装 rename 工具："></a>1. <strong>安装 <code>rename</code> 工具：</strong></h3><p>在某些系统中，<code>rename</code> 可能并不是默认安装的工具，你可以通过以下命令安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install rename   <span class="comment"># 对于 Debian/Ubuntu</span></span><br><span class="line"><span class="built_in">sudo</span> yum install prename     <span class="comment"># 对于 CentOS/RHEL</span></span><br></pre></td></tr></table></figure>

<h3 id="2-使用-rename-进行批量删除中文："><a href="#2-使用-rename-进行批量删除中文：" class="headerlink" title="2. 使用 rename 进行批量删除中文："></a>2. <strong>使用 <code>rename</code> 进行批量删除中文：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/[\x&#123;4e00&#125;-\x&#123;9fa5&#125;]//g&#x27;</span> *</span><br></pre></td></tr></table></figure>

<p>这个命令使用正则表达式，将文件名中的所有中文字符删除。解释一下正则表达式中的部分：</p>
<ul>
<li><code>[\x&#123;4e00&#125;-\x&#123;9fa5&#125;]</code>：表示中文字符的 Unicode 范围。这个范围覆盖了常见的中文汉字。</li>
<li><code>//g</code>：表示全局替换。</li>
</ul>
<p>请注意，在执行这个命令之前，建议先在一个测试目录中运行，并确保它符合你的预期。不小心删除文件名可能导致文件不可用，谨慎操作。</p>
<h2 id="linux-rename-批量删除文件名中的指定中文-例如命令"><a href="#linux-rename-批量删除文件名中的指定中文-例如命令" class="headerlink" title="linux rename 批量删除文件名中的指定中文 例如命令"></a>linux rename 批量删除文件名中的指定中文 例如命令</h2><p>如果你想删除文件名中指定的中文字符，可以使用 <code>rename</code> 命令结合正则表达式来实现。以下是一个示例，假设你想删除文件名中所有的“中”字：</p>
<h3 id="示例命令："><a href="#示例命令：" class="headerlink" title="示例命令："></a>示例命令：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/中//g&#x27;</span> *</span><br></pre></td></tr></table></figure>

<p>这个命令使用正则表达式，将文件名中的所有“中”字删除。解释一下这个命令的正则表达式部分：</p>
<ul>
<li><p><code>中</code>：这是你想要删除的中文字符。你可以根据需要修改这部分来匹配不同的中文字符。</p>
</li>
<li><p><code>//g</code>：表示全局替换。</p>
</li>
</ul>
<p><strong>注意：</strong></p>
<ul>
<li>在执行这个命令之前，请在一个测试目录中运行并确保它符合你的预期。不小心删除文件名可能导致文件不可用，所以请谨慎操作。</li>
<li>请注意 <code>rename</code> 命令的实现可能因系统而异。在某些系统上，<code>rename</code> 可能实际上是 <code>rename</code>，而在其他系统上可能是 <code>prename</code>。在使用时请根据你的系统调整命令。</li>
</ul>
<h2 id="linux-rename命令-详解"><a href="#linux-rename命令-详解" class="headerlink" title="linux rename命令 详解"></a>linux rename命令 详解</h2><p>在 Linux 系统中，<code>rename</code> 命令用于批量重命名文件。它允许用户使用正则表达式对文件名进行模式匹配，并在匹配的文件名上执行重命名操作。请注意，<code>rename</code> 命令在不同的 Linux 发行版中可能有不同的实现，以下是常见的两种版本：</p>
<h3 id="1-Perl-版本-prename-或者-rename-ul"><a href="#1-Perl-版本-prename-或者-rename-ul" class="headerlink" title="1. Perl 版本 (prename 或者 rename.ul)"></a>1. Perl 版本 (prename 或者 rename.ul)</h3><h4 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename [options] <span class="string">&#x27;s/old_pattern/new_pattern/&#x27;</span> files</span><br></pre></td></tr></table></figure>

<h4 id="参数说明："><a href="#参数说明：" class="headerlink" title="参数说明："></a>参数说明：</h4><ul>
<li><strong>old_pattern：</strong> 要被替换的旧模式（可以是正则表达式）。</li>
<li><strong>new_pattern：</strong> 用于替换的新模式。</li>
</ul>
<h4 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h4><ul>
<li><strong>-n, –no-act：</strong> 不执行实际的重命名操作，而是显示将要发生的更改。</li>
<li><strong>-v, –verbose：</strong> 显示详细的操作信息。</li>
</ul>
<h4 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h4><ol>
<li><p><strong>将所有文件名中的 <code>.txt</code> 替换为 <code>.md</code>：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/\.txt$/.md/&#x27;</span> *.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>在所有文件名前面添加前缀：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/^/prefix_/&#x27;</span> *</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="2-util-linux-版本"><a href="#2-util-linux-版本" class="headerlink" title="2. util-linux 版本"></a>2. util-linux 版本</h3><h4 id="基本用法：-1"><a href="#基本用法：-1" class="headerlink" title="基本用法："></a>基本用法：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename old_pattern new_pattern files</span><br></pre></td></tr></table></figure>

<h4 id="参数说明：-1"><a href="#参数说明：-1" class="headerlink" title="参数说明："></a>参数说明：</h4><ul>
<li><strong>old_pattern：</strong> 要被替换的旧模式（可以是字符串，不支持正则表达式）。</li>
<li><strong>new_pattern：</strong> 用于替换的新模式。</li>
</ul>
<h4 id="常用选项：-1"><a href="#常用选项：-1" class="headerlink" title="常用选项："></a>常用选项：</h4><ul>
<li><strong>-n, –dry-run：</strong> 显示将要发生的更改，但不执行实际的重命名操作。</li>
<li><strong>-v, –verbose：</strong> 显示详细的操作信息。</li>
</ul>
<h4 id="示例：-1"><a href="#示例：-1" class="headerlink" title="示例："></a>示例：</h4><ol>
<li><p><strong>将所有文件名中的 <code>txt</code> 替换为 <code>md</code>：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename txt md *</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>在所有文件名前面添加前缀：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename prefix_ * </span><br></pre></td></tr></table></figure></li>
</ol>
<p>在使用 <code>rename</code> 命令时，特别注意所使用的版本（Perl 版本或 util-linux 版本）和相应版本的选项。这样可以确保你能够正确理解和使用该命令。</p>
<h2 id="linux-rename命令-常用技巧"><a href="#linux-rename命令-常用技巧" class="headerlink" title="linux rename命令 常用技巧"></a>linux rename命令 常用技巧</h2><p>以下是一些在使用 <code>rename</code> 命令时的常用技巧：</p>
<ol>
<li><p><strong>使用正则表达式进行模式匹配：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/old_pattern/new_pattern/&#x27;</span> files</span><br></pre></td></tr></table></figure>
<p>使用正则表达式模式匹配，可以更灵活地选择要替换的文件名部分。</p>
</li>
<li><p><strong>批量删除文件名中的特定字符：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/\s+//g&#x27;</span> *.txt</span><br></pre></td></tr></table></figure>
<p>使用正则表达式移除文件名中的空格。</p>
</li>
<li><p><strong>递归重命名子目录中的文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -<span class="built_in">type</span> f -<span class="built_in">exec</span> rename <span class="string">&#x27;s/old_pattern/new_pattern/&#x27;</span> &#123;&#125; +</span><br></pre></td></tr></table></figure>
<p>使用 <code>find</code> 结合 <code>rename</code> 对目录下所有文件进行递归重命名。</p>
</li>
<li><p><strong>根据文件名中的数字排序：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/file(\d+)/new_file$1/&#x27;</span> file*.txt</span><br></pre></td></tr></table></figure>
<p>将文件名中的数字提取出来，并进行排序后再替换。</p>
</li>
<li><p><strong>预览操作而不实际执行：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename -n <span class="string">&#x27;s/old_pattern/new_pattern/&#x27;</span> files</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项可以预览将要发生的更改，而不执行实际的重命名操作。</p>
</li>
<li><p><strong>添加前缀或后缀：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/^/prefix_/&#x27;</span> *.txt</span><br></pre></td></tr></table></figure>
<p>在文件名前面添加前缀。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/$/_suffix/&#x27;</span> *.txt</span><br></pre></td></tr></table></figure>
<p>在文件名后面添加后缀。</p>
</li>
<li><p><strong>限制重命名的文件类型：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/old_pattern/new_pattern/&#x27;</span> *.jpg</span><br></pre></td></tr></table></figure>
<p>可以只选择特定文件类型进行重命名。</p>
</li>
<li><p><strong>指定文件名的范围：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/old_pattern/new_pattern/&#x27;</span> file&#123;1..5&#125;.txt</span><br></pre></td></tr></table></figure>
<p>可以使用花括号扩展来指定一定范围的文件名。</p>
</li>
<li><p><strong>将文件名中的大写字母转换为小写：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;y/A-Z/a-z/&#x27;</span> *</span><br></pre></td></tr></table></figure>
<p>使用 <code>y</code> 命令将文件名中的大写字母转换为小写。</p>
</li>
</ol>
<p>这些技巧可以帮助你更灵活地使用 <code>rename</code> 命令，根据实际需求对文件名进行批量重命名操作。记住在执行实际操作之前，可以使用 <code>-n</code> 选项进行预览，确保操作符合预期。</p>
<h2 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h2><p>在Linux中，<code>rename</code>命令用于批量重命名文件或目录。它可以根据指定的规则来修改文件或目录的名称。下面是<code>rename</code>命令的详解：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename [选项] &#x27;原始模式&#x27; &#x27;目标模式&#x27; 文件...</span><br></pre></td></tr></table></figure>

<ul>
<li><p>选项：<code>rename</code>命令的可选参数包括：</p>
<ul>
<li><code>-v</code>：显示详细的操作信息，输出每个重命名操作的结果。</li>
<li><code>-n</code>：不执行实际的重命名操作，只显示将要执行的操作，用于进行测试和预览。</li>
</ul>
</li>
<li><p>‘原始模式’：指定要匹配的原始文件或目录的模式。可以使用通配符、正则表达式或简单的字符串匹配模式。</p>
</li>
<li><p>‘目标模式’：指定要替换原始模式的目标模式。可以使用变量和通配符来构建新的名称。</p>
</li>
<li><p>文件…：要进行重命名操作的文件或目录列表。</p>
</li>
</ul>
<p>下面是一些示例，演示<code>rename</code>命令的用法：</p>
<ol>
<li><p>将扩展名从.txt改为.md：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename &#x27;s/\.txt$/.md/&#x27; *.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>将文件名中的空格替换为下划线：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename &#x27;s/ /_/g&#x27; *</span><br></pre></td></tr></table></figure>
</li>
<li><p>在文件名前面添加前缀：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename &#x27;s/^/prefix_/&#x27; *</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除文件名中的特定字符：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename &#x27;s/[aeiou]//g&#x27; *</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用计数器对文件进行编号：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename &#x27;$_ = sprintf(&quot;file%03d&quot;, ++$count)&#x27; *</span><br></pre></td></tr></table></figure></li>
</ol>
<p>这些示例只是<code>rename</code>命令的一些常见用法，您可以根据需要使用更复杂的模式和规则来执行重命名操作。<code>rename</code>命令非常强大，并且可以根据您的需求进行灵活的批量重命名操作。在使用<code>rename</code>命令时，请谨慎操作，确保在执行实际的重命名操作之前进行测试和验证。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_58_md5sum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_58_md5sum/" class="post-title-link" itemprop="url">linux_2_58_md5sum</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>md5sum命令</li>
</ul>
<h2 id="linux-md5sum命令-详解"><a href="#linux-md5sum命令-详解" class="headerlink" title="linux md5sum命令 详解"></a>linux md5sum命令 详解</h2><p><code>md5sum</code> 是一个用于计算和验证文件 MD5 摘要的 Linux 命令。MD5（Message Digest Algorithm 5）是一种广泛使用的哈希函数，用于产生固定长度的散列值，通常用作文件的校验和。以下是关于 <code>md5sum</code> 命令的详细解释：</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> [选项] [文件]</span><br></pre></td></tr></table></figure>

<h3 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h3><ul>
<li><p><strong>-b, –binary：</strong> 以二进制模式处理文件。</p>
</li>
<li><p><strong>-c, –check：</strong> 从文件中读取 MD5 摘要并验证文件。</p>
</li>
<li><p><strong>-t, –text：</strong> 以文本模式处理文件。</p>
</li>
<li><p><strong>-w, –warn：</strong> 在检查模式时，显示警告信息。</p>
</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>计算文件的 MD5 摘要：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> filename</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>计算多个文件的 MD5 摘要：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> file1 file2 file3</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>将 MD5 摘要保存到文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> file1 &gt; checksums.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>检查文件是否与给定的 MD5 摘要匹配：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> -c checksums.md5</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="示例解释："><a href="#示例解释：" class="headerlink" title="示例解释："></a>示例解释：</h3><ul>
<li><p><strong>输出格式：</strong> <code>MD5值 文件名</code></p>
</li>
<li><p><strong>计算 MD5 摘要：</strong> <code>md5sum filename</code> 将计算指定文件的 MD5 摘要。</p>
</li>
<li><p><strong>验证文件：</strong> <code>md5sum -c checksums.md5</code> 将读取 <code>checksums.md5</code> 文件中的 MD5 摘要，并检查每个文件是否与摘要匹配。如果匹配，输出文件名，否则显示警告。</p>
</li>
<li><p><strong>保存 MD5 摘要到文件：</strong> <code>md5sum file1 &gt; checksums.md5</code> 将计算 <code>file1</code> 的 MD5 摘要并将其保存到 <code>checksums.md5</code> 文件中。</p>
</li>
<li><p><strong>二进制模式和文本模式：</strong> 使用 <code>-b</code> 或 <code>-t</code> 选项来指定处理文件的模式。默认情况下，<code>md5sum</code> 以二进制模式处理文件。</p>
</li>
</ul>
<h3 id="安全性注意事项："><a href="#安全性注意事项：" class="headerlink" title="安全性注意事项："></a>安全性注意事项：</h3><p>MD5 算法在安全性上存在问题，因为它容易受到碰撞攻击。因此，在对文件进行重要安全性验证时，建议使用更安全的哈希算法，如SHA-256或SHA-3，而不是MD5。</p>
<h2 id="linux-md5sum命令-常用技巧"><a href="#linux-md5sum命令-常用技巧" class="headerlink" title="linux md5sum命令 常用技巧"></a>linux md5sum命令 常用技巧</h2><p><code>md5sum</code> 命令在 Linux 中是一个用于计算和验证文件 MD5 摘要的常用工具。以下是一些常用的技巧和技术：</p>
<ol>
<li><p><strong>计算单个文件的 MD5 摘要：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> filename</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>计算多个文件的 MD5 摘要：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> file1 file2 file3</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>计算文件夹中所有文件的 MD5 摘要：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> *.*</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>递归计算文件夹中所有文件的 MD5 摘要：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/directory -<span class="built_in">type</span> f -<span class="built_in">exec</span> <span class="built_in">md5sum</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>将 MD5 摘要保存到文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> file1 &gt; checksums.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>将多个文件的 MD5 摘要保存到文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> file1 file2 file3 &gt; checksums.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>检查文件是否与给定的 MD5 摘要匹配：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> -c checksums.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用管道计算文件内容的 MD5 摘要：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> filename | <span class="built_in">md5sum</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>将 MD5 摘要输出显示为只有哈希值，不显示文件名：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> -b filename</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>验证文件时忽略警告信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> -w -c checksums.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用 <code>awk</code> 提取文件的 MD5 哈希值：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> filename | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用 <code>cut</code> 提取文件的 MD5 哈希值：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">md5sum</span> filename | <span class="built_in">cut</span> -d<span class="string">&#x27; &#x27;</span> -f1</span><br></pre></td></tr></table></figure></li>
</ol>
<p>这些技巧能够帮助你更灵活地使用 <code>md5sum</code> 命令来满足不同的需求，无论是计算文件的哈希值还是验证文件的完整性。</p>
<h2 id="md5sum"><a href="#md5sum" class="headerlink" title="md5sum"></a>md5sum</h2><p><code>md5sum</code> 是一个常用的 Linux 命令，用于计算文件的 MD5 哈希值。它的基本语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md5sum [选项] 文件</span><br></pre></td></tr></table></figure>

<p>其中，<code>文件</code> 参数是要计算哈希值的文件路径。</p>
<p>以下是一些常用的选项：</p>
<ul>
<li><code>-b</code> 或 <code>--binary</code>：以二进制模式读取文件。</li>
<li><code>-c</code> 或 <code>--check</code>：校验 MD5 校验和文件。</li>
<li><code>-t</code> 或 <code>--text</code>：以文本模式读取文件。</li>
<li><code>-q</code> 或 <code>--quiet</code>：只显示校验结果，不显示详细信息。</li>
</ul>
<p>使用示例：</p>
<ol>
<li><p>计算单个文件的 MD5 哈希值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md5sum file.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>计算多个文件的 MD5 哈希值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md5sum file1.txt file2.txt file3.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过 MD5 校验和文件校验文件的完整性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md5sum -c checksum.md5</span><br></pre></td></tr></table></figure>
</li>
<li><p>只显示校验结果，不显示详细信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md5sum -q file.txt</span><br></pre></td></tr></table></figure></li>
</ol>
<p>请注意，<code>md5sum</code> 命令计算的是文件的 MD5 哈希值，而不是文件内容的加密哈希。它通常用于校验文件的完整性，确保文件在传输过程中没有被篡改。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_61_watch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_61_watch/" class="post-title-link" itemprop="url">linux_2_61_watch</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>watch命令</li>
</ul>
<h2 id="linux-watch命令-详解"><a href="#linux-watch命令-详解" class="headerlink" title="linux watch命令 详解"></a>linux watch命令 详解</h2><p><code>watch</code> 是一个 Linux 命令，用于周期性地执行给定的命令，并在终端上显示输出结果。默认情况下，<code>watch</code> 每两秒钟刷新一次终端，并显示命令的最新输出。这对于监视实时进程、日志文件或其他动态数据非常有用。以下是 <code>watch</code> 命令的详细解释：</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch [选项] 命令</span><br></pre></td></tr></table></figure>

<h3 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h3><ul>
<li><p><strong>-n &lt;秒数&gt;, –interval&#x3D;&lt;秒数&gt;：</strong> 指定刷新间隔时间，默认为两秒。</p>
</li>
<li><p><strong>-d, –differences：</strong> 高亮显示命令输出中发生变化的部分。</p>
</li>
<li><p><strong>-t, –no-title：</strong> 隐藏终端顶部的标题行。</p>
</li>
<li><p><strong>-h, –help：</strong> 显示帮助信息。</p>
</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>基本用法：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch <span class="built_in">ls</span> -l</span><br></pre></td></tr></table></figure>
<p>这将每两秒运行一次 <code>ls -l</code> 命令并显示结果。</p>
</li>
<li><p><strong>指定刷新间隔时间：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 5 <span class="built_in">df</span> -h</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，指定刷新间隔为5秒，监视磁盘空间的变化。</p>
</li>
<li><p><strong>高亮显示差异：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -d <span class="built_in">ls</span> -l</span><br></pre></td></tr></table></figure>
<p>使用 <code>-d</code> 选项，高亮显示输出中发生变化的部分。</p>
</li>
<li><p><strong>隐藏标题行：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -t <span class="built_in">du</span> -sh</span><br></pre></td></tr></table></figure>
<p>使用 <code>-t</code> 选项，隐藏终端顶部的标题行。</p>
</li>
<li><p><strong>查看进程实时信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 1 ps aux</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每秒查看一次系统中运行的进程。</p>
</li>
</ol>
<h3 id="示例解释："><a href="#示例解释：" class="headerlink" title="示例解释："></a>示例解释：</h3><ul>
<li><p><strong>刷新间隔：</strong> 默认情况下，<code>watch</code> 每两秒刷新一次。使用 <code>-n</code> 选项可以指定刷新间隔，以秒为单位。</p>
</li>
<li><p><strong>差异高亮显示：</strong> 使用 <code>-d</code> 选项，<code>watch</code> 会在输出中高亮显示发生变化的部分，便于识别变化。</p>
</li>
<li><p><strong>隐藏标题行：</strong> 使用 <code>-t</code> 选项，可以隐藏终端顶部的标题行，使界面更简洁。</p>
</li>
<li><p><strong>实时监视命令输出：</strong> <code>watch</code> 对于实时监视命令输出非常有用，例如查看磁盘空间、进程列表等。</p>
</li>
<li><p><strong>中断操作：</strong> 在 <code>watch</code> 运行的终端中，可以使用 <code>Ctrl+C</code> 中断操作，停止 <code>watch</code> 命令的执行。</p>
</li>
</ul>
<p><code>watch</code> 是一个强大的实用工具，特别适用于需要持续监视输出的场景。</p>
<h2 id="linux-watch命令-常用技巧"><a href="#linux-watch命令-常用技巧" class="headerlink" title="linux watch命令 常用技巧"></a>linux watch命令 常用技巧</h2><p><code>watch</code> 命令在 Linux 中常用于定期执行命令并显示输出。以下是一些常用的 <code>watch</code> 命令技巧：</p>
<ol>
<li><p><strong>定期查看日志文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 5 <span class="built_in">tail</span> /var/log/syslog</span><br></pre></td></tr></table></figure>
<p>这将每5秒刷新一次 <code>syslog</code> 日志文件的末尾，以查看实时的系统日志。</p>
</li>
<li><p><strong>监控文件变化：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -d <span class="built_in">ls</span> -l</span><br></pre></td></tr></table></figure>
<p>使用 <code>-d</code> 选项，高亮显示输出中发生变化的部分，有助于监控文件变化。</p>
</li>
<li><p><strong>监视实时网络连接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 1 netstat -an</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每秒显示一次网络连接信息，有助于监视实时网络活动。</p>
</li>
<li><p><strong>查看磁盘使用情况：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 5 <span class="built_in">df</span> -h</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每5秒查看一次磁盘使用情况，以实时监控可用磁盘空间。</p>
</li>
<li><p><strong>实时监视系统资源利用率：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 1 top</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每秒刷新一次 <code>top</code> 命令，实时查看系统资源利用率。</p>
</li>
<li><p><strong>定期执行自定义脚本：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 10 /path/to/custom/script.sh</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每10秒执行一次自定义脚本并显示输出。</p>
</li>
<li><p><strong>监控文件夹变化：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -d <span class="built_in">ls</span> -l /path/to/directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-d</code> 选项，高亮显示输出中发生变化的部分，有助于监控文件夹内文件的变化。</p>
</li>
<li><p><strong>查看系统时间变化：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 1 <span class="built_in">date</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每秒显示一次当前系统时间，实时查看时间变化。</p>
</li>
<li><p><strong>实时监控网络传输速率：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 1 ifconfig eth0</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每秒显示一次网络接口信息，包括传输速率。</p>
</li>
<li><p><strong>监视进程的 CPU 和内存使用情况：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 1 ps aux</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项，每秒刷新一次正在运行的进程的 CPU 和内存使用情况。</p>
</li>
</ol>
<p>这些技巧可以使 <code>watch</code> 命令更灵活，适应不同的监控和观察需求。根据具体的场景，调整刷新间隔和监控的命令，以获得所需的实时信息。</p>
<h2 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h2><ul>
<li><p>简介：</p>
<ul>
<li>watch命令是在Linux环境下，以固定时间间隔观察用户自定义命令运行情况的工具</li>
<li>它暂时清除所有终端内容，并显示所附命令的输出，以及当前系统的日期和时间。</li>
<li>它默认为每2秒更新一次所附命令的输出，<code>ctrl+c</code>用于退出</li>
<li>当你需要监控一个命令输出随时间的变化时，watch命令很有用。这包括磁盘使用率、系统正常运行时间或跟踪错误。</li>
</ul>
</li>
<li><p>语法：</p>
<ul>
<li><code>watch [option] [command]</code></li>
</ul>
</li>
<li><p>参数：</p>
<ul>
<li><code>[option]</code>  添加一个选项可以改变观察命令的行为方式<ul>
<li>-n, –interval  允许你指定输出更新的时间间隔。</li>
<li>-d, –differences  突出了输出更新之间的差异。</li>
<li>-g, –chgexit  当用户定义的命令的输出发生变化时，退出监视命令</li>
<li>-t, –no-title  移除显示时间间隔、命令和当前时间及日期的标题。</li>
<li>-b, –beep  如果命令退出时出现错误，则播放声音警报（哔哔声）</li>
<li>-p, –precise  试图在-interval选项定义的确切秒数之后运行命令。</li>
<li>-e, –errexit  出错时停止输出更新，在按下一个键后退出命令。</li>
<li>-c, –color  解释ANSI颜色和样式序列。</li>
<li>-x, –exec  将用户定义的命令传递给exec，减少对额外引号的需要。</li>
<li>-w, –no-linewrap  关掉换行，截断长行。</li>
<li>-h, –help  显示帮助文本并退出</li>
<li>-v, –version  显示版本信息并退出</li>
</ul>
</li>
</ul>
</li>
<li><p>示例</p>
<ul>
<li><code>watch -n 5 date</code></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_60_ldd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_60_ldd/" class="post-title-link" itemprop="url">linux_2_60_ldd</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>ldd命令</li>
</ul>
<h2 id="linux-ldd命令-详解"><a href="#linux-ldd命令-详解" class="headerlink" title="linux ldd命令 详解"></a>linux ldd命令 详解</h2><p><code>ldd</code> 是 Linux 系统中的一个命令，用于显示可执行文件或共享库的动态链接依赖关系。它会列出程序运行时所需的共享库，并显示它们的完整路径。以下是关于 <code>ldd</code> 命令的详细解释：</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd [选项] 可执行文件</span><br></pre></td></tr></table></figure>

<h3 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h3><ul>
<li><p><strong>-v, –verbose：</strong> 显示详细的信息，包括库的版本号和调试信息。</p>
</li>
<li><p><strong>-u, –unused：</strong> 仅显示未使用的直接依赖项。</p>
</li>
<li><p><strong>-d, –data-relocs：</strong> 显示数据的重定位信息。</p>
</li>
<li><p><strong>-r, –function-relocs：</strong> 显示函数的重定位信息。</p>
</li>
<li><p><strong>-s, –not-symbolic：</strong> 不解析符号链接，直接显示链接库的真实路径。</p>
</li>
<li><p><strong>-f, –list-file：</strong> 将输出写入到指定的文件而不是标准输出。</p>
</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>显示可执行文件的动态链接依赖关系：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd /path/to/executable</span><br></pre></td></tr></table></figure>
<p>这将列出可执行文件所需的共享库以及它们的完整路径。</p>
</li>
<li><p><strong>显示未使用的直接依赖项：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -u /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项，仅显示未被程序使用的直接依赖项。</p>
</li>
<li><p><strong>显示详细信息和版本号：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -v /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-v</code> 选项，可以显示详细的信息，包括库的版本号和调试信息。</p>
</li>
<li><p><strong>显示数据的重定位信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -d /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-d</code> 选项，可以显示数据的重定位信息。</p>
</li>
<li><p><strong>显示函数的重定位信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -r /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-r</code> 选项，可以显示函数的重定位信息。</p>
</li>
<li><p><strong>不解析符号链接，直接显示链接库的真实路径：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -s /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项，将不解析符号链接，直接显示链接库的真实路径。</p>
</li>
<li><p><strong>将输出写入到文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -f /path/to/executable &gt; dependencies.txt</span><br></pre></td></tr></table></figure>
<p>使用 <code>-f</code> 选项，可以将输出写入到指定的文件而不是标准输出。</p>
</li>
</ol>
<h3 id="示例解释："><a href="#示例解释：" class="headerlink" title="示例解释："></a>示例解释：</h3><ul>
<li><p><strong>动态链接依赖关系：</strong> <code>ldd</code> 命令会列出可执行文件所依赖的共享库，并显示它们的路径，以便操作系统在程序运行时能够正确加载这些库。</p>
</li>
<li><p><strong>未使用的依赖项：</strong> 使用 <code>-u</code> 选项，可以找出程序依赖的库中哪些没有被程序使用。</p>
</li>
<li><p><strong>详细信息和版本号：</strong> 使用 <code>-v</code> 选项，可以获取更详细的信息，包括库的版本号和调试信息，有助于排查问题。</p>
</li>
<li><p><strong>重定位信息：</strong> 使用 <code>-d</code> 和 <code>-r</code> 选项，可以查看关于数据和函数的重定位信息，对于调试和分析程序行为很有帮助。</p>
</li>
<li><p><strong>不解析符号链接：</strong> 使用 <code>-s</code> 选项，可以显示链接库的真实路径，而不是解析符号链接。</p>
</li>
<li><p><strong>输出写入文件：</strong> 使用 <code>-f</code> 选项，可以将 <code>ldd</code> 命令的输出写入指定的文件，以便后续分析。</p>
</li>
</ul>
<h2 id="linux-ldd命令-常用技巧"><a href="#linux-ldd命令-常用技巧" class="headerlink" title="linux ldd命令 常用技巧"></a>linux ldd命令 常用技巧</h2><p><code>ldd</code> 命令在 Linux 中用于查看可执行文件或共享库的动态链接依赖关系。以下是一些 <code>ldd</code> 命令的常用技巧：</p>
<ol>
<li><p><strong>查看可执行文件的动态链接库：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd /path/to/executable</span><br></pre></td></tr></table></figure>
<p>这会列出可执行文件所依赖的共享库以及它们的路径。</p>
</li>
<li><p><strong>只显示缺失的动态链接库：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -u /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项，可以仅显示未被程序使用的直接依赖项，即缺失的库。</p>
</li>
<li><p><strong>显示详细信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -v /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-v</code> 选项，可以显示更详细的信息，包括库的版本号和调试信息。</p>
</li>
<li><p><strong>查看共享库的依赖关系：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd /path/to/shared/library.so</span><br></pre></td></tr></table></figure>
<p><code>ldd</code> 不仅可以用于可执行文件，也可以用于查看共享库的依赖关系。</p>
</li>
<li><p><strong>将输出写入文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd /path/to/executable &gt; dependencies.txt</span><br></pre></td></tr></table></figure>
<p>将 <code>ldd</code> 的输出写入文件，以便后续分析。</p>
</li>
<li><p><strong>显示所有符号链接的真实路径：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -s /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项，可以显示链接库的真实路径，而不是解析符号链接。</p>
</li>
<li><p><strong>显示函数的重定位信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -r /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-r</code> 选项，可以显示函数的重定位信息，对于调试和分析程序行为很有帮助。</p>
</li>
<li><p><strong>显示数据的重定位信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd -d /path/to/executable</span><br></pre></td></tr></table></figure>
<p>使用 <code>-d</code> 选项，可以显示数据的重定位信息。</p>
</li>
<li><p><strong>递归查看所有依赖项：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /path/to/executable -<span class="built_in">exec</span> ldd &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>使用 <code>find</code> 命令和 <code>-exec</code> 选项，递归查看所有依赖项。</p>
</li>
</ol>
<p>这些技巧能够帮助你更深入地了解程序的依赖关系，有助于调试和解决运行时的问题。</p>
<h2 id="ldd（list-dynamic-dependencies）"><a href="#ldd（list-dynamic-dependencies）" class="headerlink" title="ldd（list dynamic dependencies）"></a>ldd（list dynamic dependencies）</h2><ul>
<li><p>简介：</p>
<ul>
<li>ldd命令用于打印程序或者库文件所依赖的共享库列表。</li>
</ul>
</li>
<li><p>语法</p>
<ul>
<li><code>ldd [参数] [文件]</code></li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li>-v 详细信息模式，打印所有相关信息 </li>
<li>-u 打印未使用的直接依赖 </li>
<li>-d 执行重定位和报告任何丢失的对象 </li>
<li>-r 执行数据对象和函数的重定位，并且报告任何丢失的对象和函数 </li>
<li>–help 显示帮助信息</li>
</ul>
</li>
<li><p>示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd /path/to/executable</span><br></pre></td></tr></table></figure>
</li>
<li><p>注：</p>
<ul>
<li>当你在终端中运行 ldd 命令并指定一个可执行文件的路径时，它会列出该可执行文件所依赖的共享库。对于每个共享库，它会显示库的路径和版本号。这些共享库是程序在运行时需要的动态链接库，它们提供了程序所需的函数和符号</li>
<li>ldd 命令对于诊断程序依赖性问题非常有用。通过查看程序的依赖库列表，你可以确定程序是否缺少某些依赖库或使用了不兼容的库版本</li>
<li>需要注意的是，ldd 命令只能查看程序或共享库的直接依赖库，无法递归地列出所有依赖关系。如果你需要查看所有依赖库，可以使用工具如 readelf 或 objdump 结合脚本来实现</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_62_unset/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_62_unset/" class="post-title-link" itemprop="url">linux_2_62_unset</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>unset命令</li>
</ul>
<h2 id="linux-unset命令-详解"><a href="#linux-unset命令-详解" class="headerlink" title="linux unset命令 详解"></a>linux unset命令 详解</h2><p><code>unset</code> 是一个 Linux&#x2F;Unix 命令，用于删除环境变量或取消变量的赋值。它的主要作用是将变量从 shell 的环境中移除。以下是关于 <code>unset</code> 命令的详细解释：</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> [选项] [变量名]</span><br></pre></td></tr></table></figure>

<h3 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h3><ul>
<li><strong>-f, –force：</strong> 强制删除函数定义，即使函数是只读的。</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>删除环境变量：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> MY_VARIABLE</span><br></pre></td></tr></table></figure>
<p>这将删除名为 <code>MY_VARIABLE</code> 的环境变量。</p>
</li>
<li><p><strong>删除多个环境变量：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> VAR1 VAR2 VAR3</span><br></pre></td></tr></table></figure>
<p>可以一次删除多个环境变量。</p>
</li>
<li><p><strong>删除数组中的元素：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> my_array[2]</span><br></pre></td></tr></table></figure>
<p>可以从数组中删除指定索引处的元素。</p>
</li>
<li><p><strong>删除函数定义：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> -f my_function</span><br></pre></td></tr></table></figure>
<p>使用 <code>-f</code> 选项，可以删除名为 <code>my_function</code> 的函数定义。</p>
</li>
</ol>
<h3 id="示例解释："><a href="#示例解释：" class="headerlink" title="示例解释："></a>示例解释：</h3><ul>
<li><p><strong>删除环境变量：</strong> <code>unset</code> 主要用于删除已定义的环境变量。这对于清理不再需要的变量或重置变量的值是有用的。</p>
</li>
<li><p><strong>删除多个环境变量：</strong> 通过在一条命令中列出多个变量名，可以同时删除多个环境变量。</p>
</li>
<li><p><strong>删除数组中的元素：</strong> 在 Bash 中，可以使用 <code>unset</code> 删除数组中的特定元素，通过指定数组名和元素索引。</p>
</li>
<li><p><strong>删除函数定义：</strong> 使用 <code>-f</code> 选项，可以强制删除已定义的函数，即使函数是只读的。</p>
</li>
</ul>
<p><strong>注意：</strong> <code>unset</code> 命令不仅可以删除环境变量，还可以删除函数定义。在使用时，应谨慎，确保不会删除关键变量或函数。</p>
<h2 id="linux-unset命令-常用技巧"><a href="#linux-unset命令-常用技巧" class="headerlink" title="linux unset命令 常用技巧"></a>linux unset命令 常用技巧</h2><p><code>unset</code> 命令在 Linux 中通常用于删除环境变量或取消变量的赋值。以下是一些 <code>unset</code> 命令的常用技巧：</p>
<ol>
<li><p><strong>删除环境变量：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> MY_VARIABLE</span><br></pre></td></tr></table></figure>
<p>这将删除名为 <code>MY_VARIABLE</code> 的环境变量。</p>
</li>
<li><p><strong>删除数组元素：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">my_array=(1 2 3 4 5)</span><br><span class="line"><span class="built_in">unset</span> my_array[2]</span><br></pre></td></tr></table></figure>
<p>在 Bash 中，可以使用 <code>unset</code> 删除数组中的特定元素，通过指定数组名和元素索引。</p>
</li>
<li><p><strong>删除多个环境变量：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> VAR1 VAR2 VAR3</span><br></pre></td></tr></table></figure>
<p>一次性删除多个环境变量。</p>
</li>
<li><p><strong>删除所有环境变量：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> $(<span class="built_in">env</span> | grep -o <span class="string">&#x27;^[^=]\+=&#x27;</span> | sed <span class="string">&#x27;s/=//&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>使用命令替换和管道，删除所有环境变量。这样做时要非常谨慎，以免删除系统关键变量。</p>
</li>
<li><p><strong>在函数中使用 unset：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">my_function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">unset</span> MY_VARIABLE</span><br><span class="line">    <span class="comment"># 函数的其他操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在函数中使用 <code>unset</code> 可以清除特定的环境变量，确保函数内部不受其影响。</p>
</li>
<li><p><strong>取消变量的赋值：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">my_variable=<span class="string">&quot;some_value&quot;</span></span><br><span class="line"><span class="built_in">unset</span> my_variable</span><br></pre></td></tr></table></figure>
<p>使用 <code>unset</code> 可以取消变量的赋值，将其还原为未定义状态。</p>
</li>
<li><p><strong>强制删除只读变量：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">readonly_var=<span class="string">&quot;read-only&quot;</span></span><br><span class="line"><span class="built_in">unset</span> readonly_var</span><br></pre></td></tr></table></figure>
<p>尝试使用 <code>unset</code> 删除只读变量时会报错，但可以通过 <code>unset</code> 命令的 <code>-f</code> 选项强制删除。</p>
</li>
<li><p><strong>删除函数定义：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unset</span> -f my_function</span><br></pre></td></tr></table></figure>
<p>使用 <code>-f</code> 选项，可以删除已定义的函数。</p>
</li>
</ol>
<p>这些技巧可以帮助你更灵活地使用 <code>unset</code> 命令，清理和管理环境变量，以及取消变量和函数的赋值。</p>
<h2 id="unset"><a href="#unset" class="headerlink" title="unset"></a>unset</h2><ul>
<li><p>简介：</p>
<ul>
<li>Linux unset命令用于删除变量或函数</li>
<li>unset为shell内建指令，可删除变量或函数</li>
</ul>
</li>
<li><p>语法：</p>
<ul>
<li><code>unset [-fv][变量或函数名称]</code></li>
</ul>
</li>
<li><p>参数：</p>
<ul>
<li><code>-f</code>  仅删除函数</li>
<li><code>-v</code>  仅删除变量</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_59_readelf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_59_readelf/" class="post-title-link" itemprop="url">linux_2_59_readelf</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>realelf命令</li>
</ul>
<h2 id="linux-realelf命令-详解"><a href="#linux-realelf命令-详解" class="headerlink" title="linux realelf命令 详解"></a>linux realelf命令 详解</h2><p>在 Linux 中，<code>readelf</code> 命令用于显示 ELF（Executable and Linkable Format）文件的信息，包括可执行文件、共享库以及目标文件等。ELF 是一种用于描述二进制文件结构的标准格式，常见于 Linux 和许多类 Unix 操作系统中。以下是关于 <code>readelf</code> 命令的详细解释：</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf [选项] 文件</span><br></pre></td></tr></table></figure>

<h3 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h3><ul>
<li><p><strong>-a, –all：</strong> 显示所有信息。</p>
</li>
<li><p><strong>-h, –file-header：</strong> 显示 ELF 文件头部信息。</p>
</li>
<li><p><strong>-l, –program-headers：</strong> 显示程序头部表信息。</p>
</li>
<li><p><strong>-S, –section-headers：</strong> 显示节头部表信息。</p>
</li>
<li><p><strong>-e, –headers：</strong> 等同于 <code>-h -l -S</code>，显示所有头部信息。</p>
</li>
<li><p><strong>-s, –symbols：</strong> 显示符号表。</p>
</li>
<li><p><strong>-d, –dynamic：</strong> 显示动态节信息。</p>
</li>
<li><p><strong>-A, –arch-specific：</strong> 显示体系结构特定标记。</p>
</li>
<li><p><strong>-x &lt;number or name&gt;, –hex-dump&#x3D;&lt;number or name&gt;：</strong> 以十六进制格式显示指定节的内容。</p>
</li>
<li><p><strong>-w[lLiaprmfFsoRtUu], –debug-dump[&#x3D;option]：</strong> 显示调试节的详细信息。</p>
</li>
<li><p><strong>-p &lt;string&gt;, –string-dump&#x3D;&lt;string&gt;：</strong> 显示指定节的字符串表。</p>
</li>
<li><p><strong>–version：</strong> 显示 <code>readelf</code> 版本信息。</p>
</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>显示 ELF 文件头信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -h executable_file</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>显示程序头表信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -l executable_file</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>显示节头表信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -S executable_file</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>显示符号表信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -s executable_file</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>显示动态节信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -d executable_file</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>以十六进制格式显示指定节的内容：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -x .text executable_file</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>显示调试信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -w executable_file</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="示例解释："><a href="#示例解释：" class="headerlink" title="示例解释："></a>示例解释：</h3><ul>
<li><p><strong>ELF 文件头信息：</strong> 使用 <code>-h</code> 选项显示 ELF 文件的头部信息，包括文件类型、入口点地址、程序头部表偏移、节头部表偏移等。</p>
</li>
<li><p><strong>程序头表和节头表信息：</strong> 使用 <code>-l</code> 和 <code>-S</code> 选项分别显示程序头表和节头表的详细信息。</p>
</li>
<li><p><strong>符号表信息：</strong> 使用 <code>-s</code> 选项显示 ELF 文件的符号表，包括函数、变量等。</p>
</li>
<li><p><strong>动态节信息：</strong> 使用 <code>-d</code> 选项显示 ELF 文件的动态节信息，这对于共享库和动态链接很有用。</p>
</li>
<li><p><strong>以十六进制格式显示指定节的内容：</strong> 使用 <code>-x</code> 选项可以查看指定节的内容，例如 <code>.text</code> 节包含可执行代码。</p>
</li>
<li><p><strong>调试信息：</strong> 使用 <code>-w</code> 选项显示 ELF 文件的调试信息，包括源代码、调试符号等。</p>
</li>
</ul>
<h2 id="linux-realelf命令-常用技巧"><a href="#linux-realelf命令-常用技巧" class="headerlink" title="linux realelf命令 常用技巧"></a>linux realelf命令 常用技巧</h2><p>在 Linux 中，<code>readelf</code> 命令是一个强大的工具，可以用于分析和查看 ELF（Executable and Linkable Format）文件的结构和信息。以下是一些常用的 <code>readelf</code> 命令技巧和用法：</p>
<ol>
<li><p><strong>查看 ELF 文件头信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -h executable_file</span><br></pre></td></tr></table></figure>
<p>通过 <code>-h</code> 选项，可以查看 ELF 文件的头部信息，包括文件类型、入口点地址、程序头部表偏移、节头部表偏移等。</p>
</li>
<li><p><strong>查看程序头表信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -l executable_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-l</code> 选项，可以查看 ELF 文件的程序头表信息，包括每个程序头条目的详细信息。</p>
</li>
<li><p><strong>查看节头表信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -S executable_file</span><br></pre></td></tr></table></figure>
<p>通过 <code>-S</code> 选项，可以查看 ELF 文件的节头表信息，包括每个节的详细信息，如名称、大小、偏移等。</p>
</li>
<li><p><strong>查看符号表信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -s executable_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项，可以查看 ELF 文件的符号表信息，包括函数、变量等的详细信息。</p>
</li>
<li><p><strong>查看动态节信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -d executable_file</span><br></pre></td></tr></table></figure>
<p>通过 <code>-d</code> 选项，可以查看 ELF 文件的动态节信息，包括共享库的动态链接信息。</p>
</li>
<li><p><strong>以十六进制格式查看指定节的内容：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -x .text executable_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-x</code> 选项，可以查看指定节（这里是 <code>.text</code> 节）的内容，以十六进制格式显示。</p>
</li>
<li><p><strong>查看字符串表信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -p .strtab executable_file</span><br></pre></td></tr></table></figure>
<p>通过 <code>-p</code> 选项，可以查看指定节（这里是 <code>.strtab</code> 节）的字符串表信息。</p>
</li>
<li><p><strong>查看调试信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -w executable_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-w</code> 选项，可以查看 ELF 文件的调试信息，包括源代码、调试符号等。</p>
</li>
<li><p><strong>显示所有信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -a executable_file</span><br></pre></td></tr></table></figure>
<p>通过 <code>-a</code> 选项，可以显示 ELF 文件的所有信息，包括头部、节头、程序头、符号表、动态节等。</p>
</li>
</ol>
<p>这些技巧可以帮助你更全面地了解 ELF 文件的结构和内容，对于调试、性能优化以及软件逆向工程等方面都非常有用。</p>
<h2 id="readelf"><a href="#readelf" class="headerlink" title="readelf"></a>readelf</h2><ul>
<li><p>readelf 是一个命令行工具，用于显示 ELF（Executable and Linkable Format）格式的文件的信息。ELF 是一种常用的二进制文件格式，用于可执行文件、共享库和目标文件。</p>
</li>
<li><p>使用 readelf 命令可以查看和分析 ELF 文件的各种属性和部分内容，包括符号表、节表、段表、动态链接、重定位信息等。它提供了对 ELF 文件结构的详细解析和显示。</p>
</li>
<li><p>以下是一些常用的 readelf 命令示例：</p>
</li>
</ul>
<ol>
<li><p>查看 ELF 文件的头部信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -h executable</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看 ELF 文件的节表信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -S executable</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看 ELF 文件的符号表信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -s executable</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看 ELF 文件的动态链接信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -d executable</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看 ELF 文件的重定位信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -r executable</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="安装readelf"><a href="#安装readelf" class="headerlink" title="安装readelf"></a>安装readelf</h2><ul>
<li><p>readelf 是 binutils 软件包的一部分，它通常预装在大多数 Linux 发行版中。如果你无法使用 readelf 命令，你可以尝试安装 binutils 软件包，以确保 readelf 工具可用。</p>
</li>
<li><p>对于基于 Debian&#x2F;Ubuntu 的系统，可以使用以下命令安装 binutils：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install binutils</span><br></pre></td></tr></table></figure>
</li>
<li><p>对于基于 Red Hat&#x2F;CentOS 的系统，可以使用以下命令安装 binutils：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install binutils</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装完成后，你就可以使用 readelf 命令来查看和分析 ELF 文件的信息了。请注意，安装软件包可能需要管理员权限，因此在安装时可能需要使用 sudo 或 root 用户身份运行命令。</p>
</li>
<li><p>如果你的系统已经安装了 binutils 软件包，但仍然无法使用 readelf 命令，可能是因为它不在系统的 PATH 环境变量中。在这种情况下，你可以尝试使用绝对路径来运行 readelf，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/readelf -h executable</span><br></pre></td></tr></table></figure></li>
</ul>
<p>根据你的系统配置和安装方式，实际的 readelf 路径可能会有所不同。你可以使用 <code>which readelf</code> 命令来查找正确的路径。</p>
<p>这些命令示例只是 readelf 命令的一小部分功能演示，readelf 还提供了其他选项和功能，可以根据需要进行查看和分析 ELF 文件的更多细节。使用 <code>readelf --help</code> 命令可以查看 readelf 的完整选项列表和用法说明。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_66_dmesg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_66_dmesg/" class="post-title-link" itemprop="url">linux_2_66_dmesg</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>dmesg命令</li>
</ul>
<h2 id="linux-dmesg命令-详解"><a href="#linux-dmesg命令-详解" class="headerlink" title="linux dmesg命令 详解"></a>linux dmesg命令 详解</h2><p><code>dmesg</code> 命令用于显示 Linux 内核环缓冲区的信息，其中包含了内核启动和运行过程中的消息。这些消息通常包括硬件、驱动程序、系统错误等的信息。下面是 <code>dmesg</code> 命令的一些常用选项和用法：</p>
<h3 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h3><ol>
<li><p><strong>查看所有的内核消息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg</span><br></pre></td></tr></table></figure>
<p>这会显示内核环缓冲区中的所有消息，包括启动信息、硬件检测、驱动程序加载等。</p>
</li>
<li><p><strong>只显示最新的几条消息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg | <span class="built_in">tail</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>tail</code> 命令可以只显示最新的几条消息，以便查看最近的系统活动。</p>
</li>
<li><p><strong>实时监视内核消息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -w</span><br></pre></td></tr></table></figure>
<p>使用 <code>-w</code> 选项可以实时监视内核消息，新的消息会实时显示在终端上。</p>
</li>
</ol>
<h3 id="选项和过滤："><a href="#选项和过滤：" class="headerlink" title="选项和过滤："></a>选项和过滤：</h3><ol start="4">
<li><p><strong>过滤包含特定关键字的消息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg | grep <span class="string">&quot;keyword&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>grep</code> 命令可以过滤只显示包含特定关键字的消息，方便查找特定信息。</p>
</li>
<li><p><strong>显示特定设备的消息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg | grep <span class="string">&quot;sda&quot;</span></span><br></pre></td></tr></table></figure>
<p>可以使用 <code>grep</code> 过滤显示与特定设备相关的消息，例如硬盘 <code>sda</code>。</p>
</li>
<li><p><strong>显示特定级别的消息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -l err</span><br></pre></td></tr></table></figure>
<p>使用 <code>-l</code> 选项可以指定消息的级别，例如 <code>err</code> 表示只显示错误级别的消息。可选的级别包括 <code>emerg</code>, <code>alert</code>, <code>crit</code>, <code>err</code>, <code>warn</code>, <code>notice</code>, <code>info</code>, 和 <code>debug</code>。</p>
</li>
<li><p><strong>显示时间戳：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -T</span><br></pre></td></tr></table></figure>
<p>使用 <code>-T</code> 选项可以显示人类可读的时间戳，而不是默认的秒数。</p>
</li>
</ol>
<h3 id="更多选项："><a href="#更多选项：" class="headerlink" title="更多选项："></a>更多选项：</h3><ol start="8">
<li><p><strong>清除内核环缓冲区：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -c</span><br></pre></td></tr></table></figure>
<p>使用 <code>-c</code> 选项可以清除内核环缓冲区，将其重置为空。</p>
</li>
<li><p><strong>将内核消息保存到文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg &gt; dmesg.log</span><br></pre></td></tr></table></figure>
<p>将内核消息保存到文件中，以便后续查看或分析。</p>
</li>
<li><p><strong>查看内核消息的缓冲区大小：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -s</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项可以查看当前内核消息缓冲区的大小。</p>
</li>
</ol>
<p><code>dmesg</code> 命令对于诊断系统问题、查看硬件信息以及了解系统启动和运行过程中的事件非常有用。根据具体的需求和问题，选择适当的选项和过滤方式，可以更方便地获取所需的信息。</p>
<h2 id="dmesg"><a href="#dmesg" class="headerlink" title="dmesg"></a>dmesg</h2><p><code>dmesg</code>是一个Linux命令，用于显示内核环缓冲区的内容。它可以提供有关系统启动期间发生的事件、硬件故障、驱动程序加载和其他内核消息的详细信息。</p>
<p>以下是<code>dmesg</code>命令的常用选项和用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg [options]</span><br></pre></td></tr></table></figure>

<p>常用选项：</p>
<ul>
<li><code>-c, --clear</code>：清除内核环缓冲区的内容。</li>
<li><code>-s, --buffer-size=size</code>：设置内核环缓冲区的大小。</li>
<li><code>-n, --console-level=level</code>：设置在控制台上显示的内核消息的级别。</li>
<li><code>-r, --raw</code>：以原始格式显示内核消息，不进行解析。</li>
<li><code>-T, --ctime</code>：以人类可读的日期和时间格式显示内核消息的时间戳。</li>
<li><code>--color[=when]</code>：设置输出中的颜色。</li>
<li><code>-h, --help</code>：显示帮助信息。</li>
</ul>
<p>示例用法：</p>
<ol>
<li>显示内核环缓冲区的内容：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg</span><br></pre></td></tr></table></figure>

<p>上述命令将显示内核环缓冲区中的所有消息。</p>
<ol start="2">
<li>清除内核环缓冲区的内容：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -c</span><br></pre></td></tr></table></figure>

<p>上述命令将清除内核环缓冲区的内容。</p>
<ol start="3">
<li>以人类可读的日期和时间格式显示内核消息：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -T</span><br></pre></td></tr></table></figure>

<p>上述命令将以人类可读的日期和时间格式显示内核消息的时间戳。</p>
<ol start="4">
<li>设置内核消息的显示级别：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg -n 4</span><br></pre></td></tr></table></figure>

<p>上述命令将仅显示级别为4（警告级别）及以上的内核消息。</p>
<p><code>dmesg</code>命令还支持其他选项和用法，您可以通过<code>man dmesg</code>命令查看完整的帮助文档和更多示例。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_63_ln/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_63_ln/" class="post-title-link" itemprop="url">linux_2_63_ln</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>ln命令</li>
</ul>
<h2 id="linux-ln命令-详解"><a href="#linux-ln命令-详解" class="headerlink" title="linux ln命令 详解"></a>linux ln命令 详解</h2><p><code>ln</code> 命令用于在文件系统中创建链接。链接可以分为硬链接（hard link）和符号链接（symbolic link，也称为软链接）。硬链接是文件系统中同一索引节点（inode）上的多个文件名，它们共享相同的数据块。符号链接是一个指向另一个文件或目录的特殊文件，类似于 Windows 中的快捷方式。以下是关于 <code>ln</code> 命令的详细解释：</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> [选项] 源文件 目标文件</span><br></pre></td></tr></table></figure>

<h3 id="常用选项："><a href="#常用选项：" class="headerlink" title="常用选项："></a>常用选项：</h3><ul>
<li><p><strong>-s, –symbolic：</strong> 创建符号链接。</p>
</li>
<li><p><strong>-b, –backup：</strong> 在覆盖目标文件之前创建备份。</p>
</li>
<li><p><strong>-i, –interactive：</strong> 在覆盖目标文件之前进行交互式确认。</p>
</li>
<li><p><strong>-v, –verbose：</strong> 显示详细的输出。</p>
</li>
</ul>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><ol>
<li><p><strong>创建硬链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> source_file hard_link</span><br></pre></td></tr></table></figure>
<p>这会在文件系统上创建一个硬链接。</p>
</li>
<li><p><strong>创建符号链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s source_file symbolic_link</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项，创建一个符号链接。</p>
</li>
<li><p><strong>创建符号链接到目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s /path/to/directory symbolic_link_to_directory</span><br></pre></td></tr></table></figure>
<p>创建符号链接指向目录。</p>
</li>
<li><p><strong>创建备份并覆盖目标文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -b source_file target_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-b</code> 选项，创建备份并覆盖目标文件。</p>
</li>
<li><p><strong>交互式创建链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -i source_file target_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-i</code> 选项，进行交互式确认。</p>
</li>
<li><p><strong>递归创建符号链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sT /path/to/source_directory /path/to/symbolic_link_directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-sT</code> 选项，递归创建符号链接。</p>
</li>
</ol>
<h3 id="示例解释："><a href="#示例解释：" class="headerlink" title="示例解释："></a>示例解释：</h3><ul>
<li><p><strong>硬链接和符号链接：</strong> <code>ln</code> 命令可以创建硬链接或符号链接。硬链接是文件系统中同一索引节点上的多个文件名，它们共享相同的数据块。符号链接是一个特殊类型的文件，指向另一个文件或目录。</p>
</li>
<li><p><strong>创建符号链接到目录：</strong> 通过 <code>-s</code> 选项，可以创建符号链接指向目录。</p>
</li>
<li><p><strong>创建备份并覆盖目标文件：</strong> 使用 <code>-b</code> 选项，<code>ln</code> 在覆盖目标文件之前会创建一个备份。</p>
</li>
<li><p><strong>交互式创建链接：</strong> 使用 <code>-i</code> 选项，<code>ln</code> 在覆盖目标文件之前会进行交互式确认，避免误操作。</p>
</li>
<li><p><strong>递归创建符号链接：</strong> 使用 <code>-sT</code> 选项，可以递归创建符号链接，通常在创建指向目录的链接时使用。</p>
</li>
</ul>
<h2 id="linux-ln命令-常用技巧"><a href="#linux-ln命令-常用技巧" class="headerlink" title="linux ln命令 常用技巧"></a>linux ln命令 常用技巧</h2><p><code>ln</code> 命令是在 Linux 中创建链接的强大工具，下面是一些 <code>ln</code> 命令的常用技巧：</p>
<ol>
<li><p><strong>创建硬链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> source_file hard_link</span><br></pre></td></tr></table></figure>
<p>这会在文件系统上创建一个硬链接，硬链接与源文件共享相同的 inode 和数据块。</p>
</li>
<li><p><strong>创建符号链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s source_file symbolic_link</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项创建符号链接，这是指向源文件的特殊文件。</p>
</li>
<li><p><strong>创建符号链接到目录：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s /path/to/directory symbolic_link_to_directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项，创建符号链接指向目录。</p>
</li>
<li><p><strong>创建链接时避免覆盖目标文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -b source_file target_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-b</code> 选项，在覆盖目标文件之前会创建备份。</p>
</li>
<li><p><strong>递归创建符号链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sT /path/to/source_directory /path/to/symbolic_link_directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-sT</code> 选项，递归创建符号链接，通常在创建指向目录的链接时使用。</p>
</li>
<li><p><strong>创建链接时进行交互式确认：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -i source_file target_file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-i</code> 选项，创建链接时进行交互式确认，以避免误操作。</p>
</li>
<li><p><strong>使用相对路径创建符号链接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sT ../source_file /path/to/symbolic_link</span><br></pre></td></tr></table></figure>
<p>使用 <code>-sT</code> 选项和相对路径，可以创建指向父目录中文件的符号链接。</p>
</li>
<li><p><strong>创建硬链接的数量统计：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> f -links +1 -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>使用 <code>find</code> 命令和 <code>-links</code> 选项，可以列出硬链接数量大于1的文件。</p>
</li>
<li><p><strong>创建硬链接并保留原始文件的权限和时间戳：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -p source_file hard_link</span><br></pre></td></tr></table></figure>
<p>使用 <code>cp</code> 命令的 <code>-p</code> 选项，创建硬链接并保留原始文件的权限和时间戳。</p>
</li>
</ol>
<p>这些技巧能够帮助你更灵活地使用 <code>ln</code> 命令，创建不同类型的链接，并在需要时进行一些额外的操作。</p>
<h2 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h2><ul>
<li><p>简介：</p>
<ul>
<li>它的功能是为某一个文件在另外一个位置建立一个同步的链接</li>
<li>当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在 其它的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间。</li>
</ul>
</li>
<li><p>语法：</p>
<ul>
<li><code>ln [参数][源文件或目录][目标文件或目录]</code></li>
</ul>
</li>
<li><p>参数的格式为：</p>
<ul>
<li><code>[-bdfinsvF] [-S backup-suffix] [-V &#123;numbered,existing,simple&#125;]</code></li>
<li><code>[--help] [--version] [--]</code></li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>Linux文件系统中，有所谓的链接(link)，我们可以将其视为档案的别名，而链接又可分为两种 : 硬链接(hard link)与软链接(symbolic link)，硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统。</li>
<li>不论是硬链接或软链接都不会将原本的档案复制一份，只会占用非常少量的磁碟空间</li>
<li>软链接：<ul>
<li>软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式</li>
<li>软链接可以 跨文件系统 ，硬链接不可以</li>
<li>软链接可以对一个不存在的文件名进行链接</li>
<li>软链接可以对目录进行链接</li>
</ul>
</li>
<li>硬链接<ul>
<li>硬链接，以文件副本的形式存在。但不占用实际空间。</li>
<li>不允许给目录创建硬链接</li>
<li>硬链接只有在同一个文件系统中才能创建</li>
</ul>
</li>
</ul>
</li>
<li><p>参数</p>
<ul>
<li>必要参数<ul>
<li><code>--backup[=CONTROL]</code> 备份已存在的目标文件</li>
<li><code>-b</code> 类似 –backup ，但不接受参数</li>
<li><code>-d</code> 允许超级用户制作目录的硬链接</li>
<li><code>-f</code> 强制执行</li>
<li><code>-i</code> 交互模式，文件存在则提示用户是否覆盖</li>
<li><code>-n</code> 把符号链接视为一般目录</li>
<li><code>-s</code> 软链接(符号链接)</li>
<li><code>-v</code> 显示详细的处理过程</li>
</ul>
</li>
<li>选择参数<ul>
<li><code>-S &quot;-S&lt;字尾备份字符串&gt; &quot;</code>或 <code>&quot;--suffix=&lt;字尾备份字符串&gt;&quot;</code></li>
<li><code>-V &quot;-V&lt;备份方式&gt;&quot;</code>或<code>&quot;--version-control=&lt;备份方式&gt;&quot;</code></li>
<li><code>--help</code> 显示帮助信息</li>
<li><code>--version</code> 显示版本信息</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_64_snap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_64_snap/" class="post-title-link" itemprop="url">linux_2_64_snap</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>linux snap命令 详解</li>
</ul>
<h2 id="linux-snap命令-详解"><a href="#linux-snap命令-详解" class="headerlink" title="linux snap命令 详解"></a>linux snap命令 详解</h2><p>Snap是一种在Linux系统中用于安装、管理和运行应用程序的包管理系统。Snap包是一种打包了应用程序及其依赖项的独立软件包，具有自包含性和可移植性。Snap包可以在不同的Linux发行版上运行，而无需担心依赖关系和兼容性问题。以下是一些常用的Snap命令及其详解：</p>
<ol>
<li><p><strong>安装Snap：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install snapd</span><br></pre></td></tr></table></figure>
<p>该命令用于安装Snap运行时环境。</p>
</li>
<li><p><strong>查找Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap find &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于查找Snap Store中特定应用程序的Snap包。</p>
</li>
<li><p><strong>安装Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap install &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于安装指定的Snap包。</p>
</li>
<li><p><strong>卸载Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap remove &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于卸载已安装的Snap包。</p>
</li>
<li><p><strong>列出所有已安装的Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap list</span><br></pre></td></tr></table></figure>
<p>该命令列出系统中所有已安装的Snap包。</p>
</li>
<li><p><strong>更新所有已安装的Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap refresh</span><br></pre></td></tr></table></figure>
<p>用于更新系统中所有已安装的Snap包。</p>
</li>
<li><p><strong>更新特定Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap refresh &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于更新指定的Snap包。</p>
</li>
<li><p><strong>显示Snap包的详细信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap info &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于显示特定Snap包的详细信息，包括版本、发布者等。</p>
</li>
<li><p><strong>启动Snap应用程序：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap run &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于启动已安装的Snap应用程序。</p>
</li>
<li><p><strong>查看Snap应用程序的日志：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap logs &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于查看Snap应用程序的运行日志。</p>
</li>
<li><p><strong>管理Snap用户权限：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap connections &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>用于显示Snap应用程序的接口连接信息，包括已授予和已拒绝的权限。</p>
</li>
</ol>
<p>这些命令涵盖了常见的Snap操作，让你能够轻松安装、更新和管理Snap应用程序。注意，一些命令可能需要使用<code>sudo</code>来获取管理员权限。</p>
<h2 id="linux-snap命令-常用技巧"><a href="#linux-snap命令-常用技巧" class="headerlink" title="linux snap命令 常用技巧"></a>linux snap命令 常用技巧</h2><p>除了基本的Snap命令之外，以下是一些在使用Snap时常用的技巧：</p>
<ol>
<li><p><strong>查看系统中已安装的Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap list</span><br></pre></td></tr></table></figure>
<p>使用这个命令可以快速查看系统中已安装的所有Snap包，以及它们的版本和发布者。</p>
</li>
<li><p><strong>搜索Snap Store中的应用程序：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap find &lt;search-term&gt;</span><br></pre></td></tr></table></figure>
<p>使用此命令可以在Snap Store中搜索应用程序。替换<code>&lt;search-term&gt;</code>为你要查找的应用程序名称或关键字。</p>
</li>
<li><p><strong>禁用自动更新：</strong><br>默认情况下，Snap包会定期自动更新。如果你想禁用自动更新，可以使用如下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap <span class="built_in">set</span> core refresh.schedule=&lt;<span class="keyword">time</span>&gt;</span><br></pre></td></tr></table></figure>
<p>将<code>&lt;time&gt;</code>替换为一个未来的时间，例如”23:00”，表示在每天晚上11点进行更新检查。</p>
</li>
<li><p><strong>强制更新所有Snap包：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap refresh --beta --devmode --edge &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>使用此命令可以强制更新指定Snap包到其最新的beta、devmode或edge版本。</p>
</li>
<li><p><strong>回滚Snap包版本：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap revert &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>如果更新后出现问题，你可以使用此命令回滚Snap包到之前的版本。</p>
</li>
<li><p><strong>设置Snap代理：</strong><br>如果你需要通过代理连接Snap Store，可以设置代理：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap <span class="built_in">set</span> system proxy.http=<span class="string">&quot;http://your-proxy-server:port&quot;</span></span><br><span class="line"><span class="built_in">sudo</span> snap <span class="built_in">set</span> system proxy.https=<span class="string">&quot;http://your-proxy-server:port&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>手动下载Snap包：</strong><br>如果你想手动下载Snap包而不是使用<code>sudo snap install</code>，可以使用以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap download &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>清理不再使用的Snap数据：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> snap refresh --list</span><br><span class="line"><span class="built_in">sudo</span> snap refresh --clean</span><br></pre></td></tr></table></figure>
<p>查看可用更新并清理不再需要的旧版本数据。</p>
</li>
<li><p><strong>查看Snap应用程序的接口连接：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snap interfaces &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p>查看Snap应用程序与系统接口的连接情况，以了解其权限和访问级别。</p>
</li>
</ol>
<p>这些技巧可以帮助你更有效地使用Snap包管理系统，以及解决一些常见的使用场景和问题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_65_iostat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_65_iostat/" class="post-title-link" itemprop="url">linux_2_65_iostat</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>iostat命令</li>
</ul>
<h2 id="linux-iostat命令-详解"><a href="#linux-iostat命令-详解" class="headerlink" title="linux iostat命令 详解"></a>linux iostat命令 详解</h2><p><code>iostat</code> 是一个用于监控系统输入&#x2F;输出设备和CPU利用率的 Linux 命令。它提供了关于系统性能的实时和平均数据。<code>iostat</code> 是 <code>sysstat</code> 工具包的一部分，因此在使用之前，你可能需要安装这个工具包。</p>
<h3 id="安装-sysstat-工具包："><a href="#安装-sysstat-工具包：" class="headerlink" title="安装 sysstat 工具包："></a>安装 sysstat 工具包：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install sysstat   <span class="comment"># For Debian/Ubuntu</span></span><br><span class="line"><span class="built_in">sudo</span> yum install sysstat       <span class="comment"># For Red Hat/CentOS</span></span><br></pre></td></tr></table></figure>

<h3 id="iostat-基本用法："><a href="#iostat-基本用法：" class="headerlink" title="iostat 基本用法："></a>iostat 基本用法：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat [options] [interval [count]]</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>options：</strong> 可选参数，包括：</p>
<ul>
<li><code>-c</code>：显示 CPU 使用情况。</li>
<li><code>-d</code>：显示磁盘使用情况。</li>
<li><code>-k</code>：以 KB&#x2F;s 显示数据传输速率。</li>
<li><code>-m</code>：以 MB&#x2F;s 显示数据传输速率。</li>
<li><code>-t</code>：显示时间戳。</li>
</ul>
</li>
<li><p><strong>interval：</strong> 两次输出之间的时间间隔（秒）。</p>
</li>
<li><p><strong>count：</strong> 输出次数。</p>
</li>
</ul>
<h3 id="示例用法："><a href="#示例用法：" class="headerlink" title="示例用法："></a>示例用法：</h3><ol>
<li><p><strong>查看 CPU 使用情况：</strong></p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -c 2 5</span><br></pre></td></tr></table></figure>

<p> 这将每隔 2 秒输出一次 CPU 使用情况，共输出 5 次。</p>
</li>
<li><p><strong>查看磁盘使用情况：</strong></p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -d 2 5</span><br></pre></td></tr></table></figure>

<p> 这将每隔 2 秒输出一次磁盘使用情况，共输出 5 次。</p>
</li>
<li><p><strong>以 KB&#x2F;s 显示磁盘传输速率：</strong></p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -d -k 2 5</span><br></pre></td></tr></table></figure>

<p> 这将每隔 2 秒以 KB&#x2F;s 显示磁盘传输速率，共输出 5 次。</p>
</li>
<li><p><strong>显示时间戳：</strong></p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -t 2 5</span><br></pre></td></tr></table></figure>

<p> 这将每隔 2 秒输出一次带有时间戳的系统统计信息，共输出 5 次。</p>
</li>
</ol>
<h3 id="输出解释："><a href="#输出解释：" class="headerlink" title="输出解释："></a>输出解释：</h3><ul>
<li><p><strong>CPU 部分：</strong></p>
<ul>
<li><code>%user</code>：用户态 CPU 占用百分比。</li>
<li><code>%nice</code>：优先级较高的用户态 CPU 占用百分比。</li>
<li><code>%system</code>：内核态 CPU 占用百分比。</li>
<li><code>%iowait</code>：等待磁盘 I&#x2F;O 的 CPU 占用百分比。</li>
<li><code>%steal</code>：被虚拟机监视程序（VM hypervisor）偷取的 CPU 占用百分比。</li>
<li><code>%idle</code>：空闲 CPU 占用百分比。</li>
</ul>
</li>
<li><p><strong>磁盘部分：</strong></p>
<ul>
<li><code>tps</code>：每秒钟传输的块设备 I&#x2F;O 事务数。</li>
<li><code>Blk_read/s</code>：每秒读取的块数据量（KB&#x2F;s）。</li>
<li><code>Blk_wrtn/s</code>：每秒写入的块数据量（KB&#x2F;s）。</li>
<li><code>Blk_read</code>：总的读取块数。</li>
<li><code>Blk_wrtn</code>：总的写入块数。</li>
</ul>
</li>
</ul>
<p><code>iostat</code> 提供了对系统性能的快速概览，可以用于监测系统的负载、磁盘 I&#x2F;O 和 CPU 使用情况。</p>
<h2 id="linux-iostat命令-常用技巧"><a href="#linux-iostat命令-常用技巧" class="headerlink" title="linux iostat命令 常用技巧"></a>linux iostat命令 常用技巧</h2><p>在使用 <code>iostat</code> 命令时，以下是一些常用的技巧和选项，以更有效地监测系统的 I&#x2F;O 性能：</p>
<ol>
<li><p><strong>监测特定磁盘的 I&#x2F;O：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -d &lt;disk_name&gt; 2 5</span><br></pre></td></tr></table></figure>
<p>将 <code>&lt;disk_name&gt;</code> 替换为要监测的磁盘的名称，这样可以针对特定磁盘进行 I&#x2F;O 监测。</p>
</li>
<li><p><strong>以 MB&#x2F;s 显示数据传输速率：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -d -m 2 5</span><br></pre></td></tr></table></figure>
<p>使用 <code>-m</code> 选项以 MB&#x2F;s 显示磁盘传输速率，这对于更容易理解大量数据的流动速率很有帮助。</p>
</li>
<li><p><strong>仅显示 CPU 信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -c 2 5</span><br></pre></td></tr></table></figure>
<p>使用 <code>-c</code> 选项仅显示 CPU 相关的信息，有助于监测 CPU 利用率。</p>
</li>
<li><p><strong>显示所有设备的详细信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -x 2 5</span><br></pre></td></tr></table></figure>
<p>使用 <code>-x</code> 选项显示详细信息，包括每个设备的更多统计数据，如每个设备的平均负载、I&#x2F;O 请求的等待时间等。</p>
</li>
<li><p><strong>指定输出字段顺序：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -d -m -k 2 5 -p sda sdb</span><br></pre></td></tr></table></figure>
<p>使用 <code>-p</code> 选项可以指定要显示的磁盘设备，这对于只关注特定设备很有帮助。</p>
</li>
<li><p><strong>实时监测 I&#x2F;O 活动：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -xtc 2</span><br></pre></td></tr></table></figure>
<p>使用 <code>-t</code> 选项以及 <code>-c</code> 和 <code>-x</code> 选项，可以实时监测 I&#x2F;O 活动、CPU 使用率和扩展信息。</p>
</li>
<li><p><strong>自定义输出字段：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -d -m -k -N -o JSON 2 5</span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code> 选项以 JSON 格式输出信息，可以更容易地集成到脚本或其他工具中进行后续处理。</p>
</li>
<li><p><strong>查看磁盘队列长度：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -x 2 5 | grep avgqu-sz</span><br></pre></td></tr></table></figure>
<p>使用 <code>-x</code> 选项查看平均磁盘队列长度 (<code>avgqu-sz</code>)，这是一个指标，用于评估磁盘 I&#x2F;O 请求的排队情况。</p>
</li>
</ol>
<p>这些技巧可以帮助你更灵活地使用 <code>iostat</code> 命令，以满足你的具体需求并更好地监测系统的 I&#x2F;O 性能。</p>
<h2 id="iostat"><a href="#iostat" class="headerlink" title="iostat"></a>iostat</h2><p><code>iostat</code>是一个Linux命令，用于报告和存档系统磁盘IO活动的统计信息。它可以提供有关磁盘读写速度、IO等待时间、IO请求队列长度以及CPU利用率的信息。</p>
<p>以下是<code>iostat</code>命令的常用选项和用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat [options] [interval] [count]</span><br></pre></td></tr></table></figure>

<p>常用选项：</p>
<ul>
<li><code>-c</code>：仅显示CPU利用率统计。</li>
<li><code>-d</code>：仅显示磁盘IO统计。</li>
<li><code>-k</code>：以KB为单位显示统计信息。</li>
<li><code>-m</code>：以MB为单位显示统计信息。</li>
<li><code>-x</code>：显示详细的磁盘IO统计，包括每个设备的读写速度、IO等待时间、IO请求队列长度等。</li>
<li><code>-t</code>：在每一行的输出中显示时间戳。</li>
<li><code>-y</code>：在每一行的输出中显示日期和时间。</li>
<li><code>-h</code>：显示帮助信息。</li>
</ul>
<p>示例用法：</p>
<ol>
<li>显示磁盘IO统计信息：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat</span><br></pre></td></tr></table></figure>

<p>上述命令将显示所有磁盘设备的读写速度、IO等待时间和IO请求队列长度。</p>
<ol start="2">
<li>以1秒的间隔连续显示磁盘IO统计信息，共显示5次：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat 1 5</span><br></pre></td></tr></table></figure>

<p>上述命令将每秒显示一次磁盘IO统计信息，连续显示5次。</p>
<ol start="3">
<li>仅显示CPU利用率统计信息：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -c</span><br></pre></td></tr></table></figure>

<p>上述命令将仅显示CPU的利用率统计信息。</p>
<ol start="4">
<li>显示详细的磁盘IO统计信息：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iostat -x</span><br></pre></td></tr></table></figure>

<p>上述命令将显示详细的磁盘IO统计信息，包括每个设备的读写速度、IO等待时间、IO请求队列长度等。</p>
<p><code>iostat</code>命令还支持其他选项和用法，您可以通过<code>man iostat</code>命令查看完整的帮助文档和更多示例。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_68_ps/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_68_ps/" class="post-title-link" itemprop="url">linux_2_68_ps</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>ps命令</li>
</ul>
<h2 id="linux-ps命令-详解"><a href="#linux-ps命令-详解" class="headerlink" title="linux ps命令 详解"></a>linux ps命令 详解</h2><p><code>ps</code> 命令用于显示系统中当前运行的进程信息。它提供了关于进程的详细信息，包括进程ID（PID）、CPU利用率、内存占用等。以下是一些常用的 <code>ps</code> 命令选项和用法：</p>
<h3 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h3><ol>
<li><p><strong>显示当前用户的所有进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps</span><br></pre></td></tr></table></figure>
<p>这将显示当前用户的所有进程的基本信息。</p>
</li>
<li><p><strong>显示所有用户的所有进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux</span><br></pre></td></tr></table></figure>
<p>使用 <code>aux</code> 选项可以显示所有用户的所有进程，包括系统进程。</p>
</li>
</ol>
<h3 id="选项和过滤："><a href="#选项和过滤：" class="headerlink" title="选项和过滤："></a>选项和过滤：</h3><ol start="3">
<li><p><strong>显示详细信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef</span><br></pre></td></tr></table></figure>
<p>使用 <code>-ef</code> 选项可以显示更详细的信息，包括进程的父进程ID、启动时间等。</p>
</li>
<li><p><strong>以树状结构显示进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps auxf</span><br></pre></td></tr></table></figure>
<p>使用 <code>auxf</code> 选项以树状结构显示进程，显示进程之间的父子关系。</p>
</li>
<li><p><strong>按内存使用排序：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux --<span class="built_in">sort</span>=-%mem</span><br></pre></td></tr></table></figure>
<p>使用 <code>--sort=-%mem</code> 选项可以按内存使用的百分比降序排序显示进程。</p>
</li>
<li><p><strong>显示进程的线程信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -eLf</span><br></pre></td></tr></table></figure>
<p>使用 <code>-L</code> 选项可以显示进程的线程信息。</p>
</li>
<li><p><strong>显示特定用户的进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -u username</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以显示特定用户的进程。</p>
</li>
<li><p><strong>按进程名过滤显示：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -C process_name</span><br></pre></td></tr></table></figure>
<p>使用 <code>-C</code> 选项可以按进程名过滤显示。</p>
</li>
</ol>
<h3 id="更多选项："><a href="#更多选项：" class="headerlink" title="更多选项："></a>更多选项：</h3><ol start="9">
<li><p><strong>显示进程树：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree</span><br></pre></td></tr></table></figure>
<p>使用 <code>pstree</code> 命令可以以树状结构显示进程树。</p>
</li>
<li><p><strong>以用户格式显示进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -eo user,pid,%cpu,%mem,cmd</span><br></pre></td></tr></table></figure>
<p>使用 <code>-eo</code> 选项可以以用户定义的格式显示进程信息，这里列出了用户、进程ID、CPU利用率、内存占用和命令。</p>
</li>
<li><p><strong>查看进程的详细信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -p pid -o pid,ppid,uid,gid,cmd</span><br></pre></td></tr></table></figure>
<p>使用 <code>-p</code> 选项指定进程ID，并使用 <code>-o</code> 选项指定要显示的信息。</p>
</li>
</ol>
<p><code>ps</code> 命令提供了广泛的选项，使得你可以根据不同的需求查看和分析进程信息。根据实际情况选择合适的选项，可以更好地了解系统中运行的进程。</p>
<h2 id="linux-ps命令-常用技巧"><a href="#linux-ps命令-常用技巧" class="headerlink" title="linux ps命令 常用技巧"></a>linux ps命令 常用技巧</h2><p>以下是一些在使用 <code>ps</code> 命令时常用的技巧和选项，可以更灵活地查看和管理进程信息：</p>
<h3 id="1-查看指定用户的进程："><a href="#1-查看指定用户的进程：" class="headerlink" title="1. 查看指定用户的进程："></a>1. <strong>查看指定用户的进程：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -u username</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以显示特定用户的进程。将 <code>username</code> 替换为要查看的用户名。</p>
<h3 id="2-按进程名过滤显示："><a href="#2-按进程名过滤显示：" class="headerlink" title="2. 按进程名过滤显示："></a>2. <strong>按进程名过滤显示：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -C process_name</span><br></pre></td></tr></table></figure>
<p>使用 <code>-C</code> 选项可以按进程名过滤显示，只显示指定进程名的进程。</p>
<h3 id="3-显示所有进程树："><a href="#3-显示所有进程树：" class="headerlink" title="3. 显示所有进程树："></a>3. <strong>显示所有进程树：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree</span><br></pre></td></tr></table></figure>
<p>使用 <code>pstree</code> 命令以树状结构显示所有进程的父子关系。</p>
<h3 id="4-按-CPU-利用率排序显示进程："><a href="#4-按-CPU-利用率排序显示进程：" class="headerlink" title="4. 按 CPU 利用率排序显示进程："></a>4. <strong>按 CPU 利用率排序显示进程：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux --<span class="built_in">sort</span>=-%cpu</span><br></pre></td></tr></table></figure>
<p>使用 <code>--sort=-%cpu</code> 选项可以按 CPU 利用率降序排序显示进程。</p>
<h3 id="5-以用户定义格式显示进程信息："><a href="#5-以用户定义格式显示进程信息：" class="headerlink" title="5. 以用户定义格式显示进程信息："></a>5. <strong>以用户定义格式显示进程信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -eo user,pid,%cpu,%mem,cmd</span><br></pre></td></tr></table></figure>
<p>使用 <code>-eo</code> 选项以用户定义的格式显示进程信息，列出了用户、进程ID、CPU利用率、内存占用和命令。</p>
<h3 id="6-显示线程信息："><a href="#6-显示线程信息：" class="headerlink" title="6. 显示线程信息："></a>6. <strong>显示线程信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -eLf</span><br></pre></td></tr></table></figure>
<p>使用 <code>-L</code> 选项显示进程的线程信息。</p>
<h3 id="7-显示所有进程的详细信息："><a href="#7-显示所有进程的详细信息：" class="headerlink" title="7. 显示所有进程的详细信息："></a>7. <strong>显示所有进程的详细信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef</span><br></pre></td></tr></table></figure>
<p>使用 <code>-ef</code> 选项显示所有进程的详细信息，包括进程的父进程ID、启动时间等。</p>
<h3 id="8-显示所有进程的详细信息（BSD格式）："><a href="#8-显示所有进程的详细信息（BSD格式）：" class="headerlink" title="8. 显示所有进程的详细信息（BSD格式）："></a>8. <strong>显示所有进程的详细信息（BSD格式）：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux</span><br></pre></td></tr></table></figure>
<p>使用 <code>aux</code> 选项以 BSD 格式显示所有进程的详细信息。</p>
<h3 id="9-显示进程的线程数："><a href="#9-显示进程的线程数：" class="headerlink" title="9. 显示进程的线程数："></a>9. <strong>显示进程的线程数：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -eT</span><br></pre></td></tr></table></figure>
<p>使用 <code>-T</code> 选项显示进程的线程数。</p>
<h3 id="10-显示所有进程的信息（包括僵尸进程）："><a href="#10-显示所有进程的信息（包括僵尸进程）：" class="headerlink" title="10. 显示所有进程的信息（包括僵尸进程）："></a>10. <strong>显示所有进程的信息（包括僵尸进程）：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -e</span><br></pre></td></tr></table></figure>
<p>使用 <code>-e</code> 选项显示所有进程的信息，包括僵尸进程。</p>
<h3 id="11-显示进程的状态信息："><a href="#11-显示进程的状态信息：" class="headerlink" title="11. 显示进程的状态信息："></a>11. <strong>显示进程的状态信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -o pid,state,cmd</span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code> 选项显示进程的状态信息，包括进程ID、状态和命令。</p>
<h3 id="12-显示所有进程的内存占用情况："><a href="#12-显示所有进程的内存占用情况：" class="headerlink" title="12. 显示所有进程的内存占用情况："></a>12. <strong>显示所有进程的内存占用情况：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux --<span class="built_in">sort</span>=-%mem</span><br></pre></td></tr></table></figure>
<p>使用 <code>--sort=-%mem</code> 选项按内存占用降序排序显示所有进程的信息。</p>
<p>这些技巧和选项可以帮助你更灵活地使用 <code>ps</code> 命令，根据具体的需求查看和管理进程信息。根据情况选择合适的选项，可以更方便地进行系统监控和故障排查。</p>
<h2 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h2><ul>
<li>ps命令用于报告当前系统的进程状态，可以搭配kill指令随时中断，删除不必要的程序。</li>
<li>ps明星是最基本的同时也是非常强大的进程查看命令，使用该命令可以确定有哪些进程正在运行和运行的状态，进程是否结束，进程有没有僵死，哪些进程占用了过多的资源等等</li>
<li>参数<ul>
<li><code>a</code> : 显示当前终端下的所有进程信息，包括其他用户的进程</li>
<li><code>u</code> : 使用以用户为主的格式输出进程信息</li>
<li><code>x</code> : 显示当前用户在所有终端下的进程</li>
</ul>
</li>
<li>字段解释<ul>
<li><code>USER</code> : 启动该进程的用户账号名称</li>
<li><code>PID</code>  : 该进程的ID号,在当前系统中是唯一的</li>
<li><code>%CPU</code> : CPU占用的百分比</li>
<li><code>%MEM</code> : 内存占用的百分比</li>
<li><code>VSZ</code>  : 占用虚拟内存(swap空间)的大小</li>
<li><code>RSS</code>  : 占用常驻内存(物理内存)的大小</li>
<li><code>TTY</code>  : 该进程在哪个终端上运行. <code>&quot;?&quot;</code>表示未知或不需要终端</li>
<li><code>STAT</code> : 显示了进程当前的状态<ul>
<li><code>S , interruptible sleep (waiting for an event to complete</code> : 休眠</li>
<li><code>R , running or runnable (on run queue)</code> : 运行</li>
<li><code>Z , defunct(&quot;zombie&quot;) process, terminated but not reaped by its parent</code> : 僵死, 对于僵死状态的进程应该手动终止</li>
<li><code>&lt; , high-priority (not nice to other users)</code> : 高优先级</li>
<li><code>N , low-priority (nice to other users)</code> : 低优先级</li>
<li><code>s , is a session leader</code> : 父进程</li>
<li><code>+ , is in the foreground process group</code> : 前台进程</li>
<li><code>l , is multi-threaded(using CLONE_THREAD, like NPTL pthreads do)</code>:多线程</li>
</ul>
</li>
<li><code>START</code>: 启动该进程的时间</li>
<li><code>TIME</code> : 该进程占用CPU的时间</li>
<li><code>COMMAND</code>: 启动该进程的命令的名称</li>
</ul>
</li>
<li>参数<ul>
<li><code>e</code> : 显示系统内的所有进程信息</li>
<li><code>l</code> : 使用长(long)格式显示进程信息</li>
<li><code>f</code> : 使用完整的(full)格式显示进程信息</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_70_ss/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_70_ss/" class="post-title-link" itemprop="url">linux_2_70_ss</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>ss命令</li>
</ul>
<h2 id="linux-ss命令安装"><a href="#linux-ss命令安装" class="headerlink" title="linux ss命令安装"></a>linux ss命令安装</h2><p><code>ss</code> 命令是 Linux 系统中用来显示套接字统计信息的工具，通常预装在大多数现代 Linux 发行版中，尤其是在使用 <code>iproute2</code> 包的系统上。如果你的系统上没有 <code>ss</code> 命令，可以按照以下步骤安装。</p>
<h3 id="在-Debian-Ubuntu-系统上："><a href="#在-Debian-Ubuntu-系统上：" class="headerlink" title="在 Debian&#x2F;Ubuntu 系统上："></a>在 Debian&#x2F;Ubuntu 系统上：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install iproute2</span><br></pre></td></tr></table></figure>

<h3 id="在-CentOS-RHEL-系统上："><a href="#在-CentOS-RHEL-系统上：" class="headerlink" title="在 CentOS&#x2F;RHEL 系统上："></a>在 CentOS&#x2F;RHEL 系统上：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install iproute</span><br></pre></td></tr></table></figure>

<h3 id="在-Fedora-系统上："><a href="#在-Fedora-系统上：" class="headerlink" title="在 Fedora 系统上："></a>在 Fedora 系统上：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> dnf install iproute</span><br></pre></td></tr></table></figure>

<h3 id="在-Arch-Linux-系统上："><a href="#在-Arch-Linux-系统上：" class="headerlink" title="在 Arch Linux 系统上："></a>在 Arch Linux 系统上：</h3><p><code>ss</code> 命令通常也包含在 <code>iproute2</code> 包中，所以可以使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S iproute2</span><br></pre></td></tr></table></figure>

<h3 id="验证安装："><a href="#验证安装：" class="headerlink" title="验证安装："></a>验证安装：</h3><p>安装完成后，可以通过以下命令确认 <code>ss</code> 命令是否已成功安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss --version</span><br></pre></td></tr></table></figure>

<p>这会显示 <code>ss</code> 命令的版本信息，表示已安装成功。</p>
<h2 id="linux-ss命令-详解"><a href="#linux-ss命令-详解" class="headerlink" title="linux ss命令 详解"></a>linux ss命令 详解</h2><p><code>ss</code> 命令是一个用于查看 Linux 系统中套接字（socket）信息的工具。套接字是网络通信的一种抽象，<code>ss</code> 命令可以显示与网络连接相关的详细信息，包括网络连接状态、监听端口、TCP&#x2F;UDP 连接等。以下是一些常用的 <code>ss</code> 命令选项和用法：</p>
<h3 id="1-显示所有套接字信息："><a href="#1-显示所有套接字信息：" class="headerlink" title="1. 显示所有套接字信息："></a>1. <strong>显示所有套接字信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss</span><br></pre></td></tr></table></figure>
<p>这将显示系统中所有的套接字信息，包括 TCP、UDP 和 UNIX 套接字。</p>
<h3 id="2-显示-TCP-连接信息："><a href="#2-显示-TCP-连接信息：" class="headerlink" title="2. 显示 TCP 连接信息："></a>2. <strong>显示 TCP 连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t</span><br></pre></td></tr></table></figure>
<p>使用 <code>-t</code> 选项可以仅显示 TCP 连接的信息。</p>
<h3 id="3-显示-UDP-连接信息："><a href="#3-显示-UDP-连接信息：" class="headerlink" title="3. 显示 UDP 连接信息："></a>3. <strong>显示 UDP 连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -u</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以仅显示 UDP 连接的信息。</p>
<h3 id="4-显示监听端口信息："><a href="#4-显示监听端口信息：" class="headerlink" title="4. 显示监听端口信息："></a>4. <strong>显示监听端口信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -l</span><br></pre></td></tr></table></figure>
<p>使用 <code>-l</code> 选项可以仅显示监听（被动打开）的套接字信息。</p>
<h3 id="5-显示所有连接信息（包括监听和非监听）："><a href="#5-显示所有连接信息（包括监听和非监听）：" class="headerlink" title="5. 显示所有连接信息（包括监听和非监听）："></a>5. <strong>显示所有连接信息（包括监听和非监听）：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -a</span><br></pre></td></tr></table></figure>
<p>使用 <code>-a</code> 选项可以显示所有的套接字连接信息。</p>
<h3 id="6-显示详细信息："><a href="#6-显示详细信息：" class="headerlink" title="6. 显示详细信息："></a>6. <strong>显示详细信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -e</span><br></pre></td></tr></table></figure>
<p>使用 <code>-e</code> 选项可以显示更详细的信息，包括进程ID和用户。</p>
<h3 id="7-显示进程名："><a href="#7-显示进程名：" class="headerlink" title="7. 显示进程名："></a>7. <strong>显示进程名：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -p</span><br></pre></td></tr></table></figure>
<p>使用 <code>-p</code> 选项可以显示与套接字关联的进程信息。</p>
<h3 id="8-显示连接状态："><a href="#8-显示连接状态：" class="headerlink" title="8. 显示连接状态："></a>8. <strong>显示连接状态：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -s</span><br></pre></td></tr></table></figure>
<p>使用 <code>-s</code> 选项可以显示连接状态的统计信息。</p>
<h3 id="9-显示特定端口的连接信息："><a href="#9-显示特定端口的连接信息：" class="headerlink" title="9. 显示特定端口的连接信息："></a>9. <strong>显示特定端口的连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t -p -o <span class="string">&quot;sport = :&lt;port_number&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code> 选项可以根据特定条件过滤显示套接字信息，这里以显示指定端口的 TCP 连接为例。</p>
<h3 id="10-显示-UNIX-套接字信息："><a href="#10-显示-UNIX-套接字信息：" class="headerlink" title="10. 显示 UNIX 套接字信息："></a>10. <strong>显示 UNIX 套接字信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -x</span><br></pre></td></tr></table></figure>
<p>使用 <code>-x</code> 选项可以仅显示 UNIX 套接字信息。</p>
<h3 id="11-显示显示进程名的详细信息："><a href="#11-显示显示进程名的详细信息：" class="headerlink" title="11. 显示显示进程名的详细信息："></a>11. <strong>显示显示进程名的详细信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -etp</span><br></pre></td></tr></table></figure>
<p>使用 <code>-etp</code> 选项可以显示 TCP 连接的详细信息，包括进程名。</p>
<h3 id="12-显示特定用户的连接信息："><a href="#12-显示特定用户的连接信息：" class="headerlink" title="12. 显示特定用户的连接信息："></a>12. <strong>显示特定用户的连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t -p -u user_name</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以根据指定的用户过滤显示连接信息。</p>
<h3 id="13-显示-TCP-拓扑图："><a href="#13-显示-TCP-拓扑图：" class="headerlink" title="13. 显示 TCP 拓扑图："></a>13. <strong>显示 TCP 拓扑图：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t -a</span><br></pre></td></tr></table></figure>
<p>使用 <code>-a</code> 选项显示所有 TCP 连接，包括监听和非监听，并且以拓扑图形式显示。</p>
<p><code>ss</code> 命令提供了强大的功能，可用于检查系统中的网络连接和套接字信息。根据不同的需求，你可以选择不同的选项来查看和分析网络连接状态。</p>
<h2 id="linux-ss命令-常用技巧"><a href="#linux-ss命令-常用技巧" class="headerlink" title="linux ss命令 常用技巧"></a>linux ss命令 常用技巧</h2><p>以下是一些在使用 <code>ss</code> 命令时的常用技巧和选项，以更灵活地查看和管理系统的套接字信息：</p>
<h3 id="1-显示所有套接字信息：-1"><a href="#1-显示所有套接字信息：-1" class="headerlink" title="1. 显示所有套接字信息："></a>1. <strong>显示所有套接字信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss</span><br></pre></td></tr></table></figure>
<p>显示所有套接字信息，包括 TCP、UDP 和 UNIX 套接字。</p>
<h3 id="2-显示监听端口信息："><a href="#2-显示监听端口信息：" class="headerlink" title="2. 显示监听端口信息："></a>2. <strong>显示监听端口信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -l</span><br></pre></td></tr></table></figure>
<p>只显示监听（被动打开）的套接字信息。</p>
<h3 id="3-显示详细信息："><a href="#3-显示详细信息：" class="headerlink" title="3. 显示详细信息："></a>3. <strong>显示详细信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -e</span><br></pre></td></tr></table></figure>
<p>显示更详细的信息，包括进程ID和用户。</p>
<h3 id="4-显示进程名："><a href="#4-显示进程名：" class="headerlink" title="4. 显示进程名："></a>4. <strong>显示进程名：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -p</span><br></pre></td></tr></table></figure>
<p>显示与套接字关联的进程信息。</p>
<h3 id="5-显示连接状态的统计信息："><a href="#5-显示连接状态的统计信息：" class="headerlink" title="5. 显示连接状态的统计信息："></a>5. <strong>显示连接状态的统计信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -s</span><br></pre></td></tr></table></figure>
<p>显示连接状态的统计信息，包括各种状态的套接字数量。</p>
<h3 id="6-显示-TCP-连接信息："><a href="#6-显示-TCP-连接信息：" class="headerlink" title="6. 显示 TCP 连接信息："></a>6. <strong>显示 TCP 连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t</span><br></pre></td></tr></table></figure>
<p>只显示 TCP 连接的信息。</p>
<h3 id="7-显示-UDP-连接信息："><a href="#7-显示-UDP-连接信息：" class="headerlink" title="7. 显示 UDP 连接信息："></a>7. <strong>显示 UDP 连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -u</span><br></pre></td></tr></table></figure>
<p>只显示 UDP 连接的信息。</p>
<h3 id="8-显示特定端口的连接信息："><a href="#8-显示特定端口的连接信息：" class="headerlink" title="8. 显示特定端口的连接信息："></a>8. <strong>显示特定端口的连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t -o <span class="string">&quot;sport = :&lt;port_number&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<p>根据特定条件过滤显示套接字信息，这里以显示指定端口的 TCP 连接为例。</p>
<h3 id="9-显示-UNIX-套接字信息："><a href="#9-显示-UNIX-套接字信息：" class="headerlink" title="9. 显示 UNIX 套接字信息："></a>9. <strong>显示 UNIX 套接字信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -x</span><br></pre></td></tr></table></figure>
<p>只显示 UNIX 套接字信息。</p>
<h3 id="10-显示-TCP-连接的详细信息："><a href="#10-显示-TCP-连接的详细信息：" class="headerlink" title="10. 显示 TCP 连接的详细信息："></a>10. <strong>显示 TCP 连接的详细信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -etp</span><br></pre></td></tr></table></figure>
<p>显示 TCP 连接的详细信息，包括进程名。</p>
<h3 id="11-显示特定用户的连接信息："><a href="#11-显示特定用户的连接信息：" class="headerlink" title="11. 显示特定用户的连接信息："></a>11. <strong>显示特定用户的连接信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -u -p -a -Z user_name</span><br></pre></td></tr></table></figure>
<p>根据指定的用户过滤显示连接信息。</p>
<h3 id="12-显示-TCP-拓扑图："><a href="#12-显示-TCP-拓扑图：" class="headerlink" title="12. 显示 TCP 拓扑图："></a>12. <strong>显示 TCP 拓扑图：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t -a</span><br></pre></td></tr></table></figure>
<p>显示所有 TCP 连接，并以拓扑图形式显示。</p>
<h3 id="13-以-JSON-格式输出："><a href="#13-以-JSON-格式输出：" class="headerlink" title="13. 以 JSON 格式输出："></a>13. <strong>以 JSON 格式输出：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t -a -j</span><br></pre></td></tr></table></figure>
<p>以 JSON 格式输出套接字信息，方便进一步处理和分析。</p>
<h3 id="14-显示进程的网络套接字信息："><a href="#14-显示进程的网络套接字信息：" class="headerlink" title="14. 显示进程的网络套接字信息："></a>14. <strong>显示进程的网络套接字信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -p -n</span><br></pre></td></tr></table></figure>
<p>显示进程的网络套接字信息，而不解析服务名。</p>
<h3 id="15-显示网络接口信息："><a href="#15-显示网络接口信息：" class="headerlink" title="15. 显示网络接口信息："></a>15. <strong>显示网络接口信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -i</span><br></pre></td></tr></table></figure>
<p>显示网络接口信息，包括接口状态、收发数据包等。</p>
<h3 id="16-显示-TCP-性能统计信息："><a href="#16-显示-TCP-性能统计信息：" class="headerlink" title="16. 显示 TCP 性能统计信息："></a>16. <strong>显示 TCP 性能统计信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -t -i</span><br></pre></td></tr></table></figure>
<p>显示 TCP 性能统计信息，包括传输速率、拥塞窗口等。</p>
<p>这些技巧和选项能够使得在使用 <code>ss</code> 命令时更加灵活，根据具体需求选择合适的选项，以便更方便地查看和分析系统中的套接字信息。</p>
<h2 id="ss-–-查看端口状态信息"><a href="#ss-–-查看端口状态信息" class="headerlink" title="ss –  查看端口状态信息"></a>ss –  查看端口状态信息</h2><ul>
<li><p>简介：</p>
<ul>
<li>ss 是一个 Linux 下用于查看套接字统计信息的命令。它提供了比 netstat 更全面和高效的功能</li>
</ul>
</li>
<li><p>语法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss [options]</span><br></pre></td></tr></table></figure>
</li>
<li><p>选项：</p>
<ul>
<li>-t: 显示 TCP 套接字信息。</li>
<li>-u: 显示 UDP 套接字信息。</li>
<li>-w: 显示 RAW 套接字信息。</li>
<li>-a: 显示所有套接字信息，包括监听和非监听状态。</li>
<li>-s: 显示套接字统计信息，包括每个协议的统计数据。</li>
<li>-p: 显示与套接字关联的进程信息。</li>
<li>-n: 不进行服务名称解析，显示 IP 地址和端口号。</li>
<li>-r: 显示路由表信息。</li>
<li>-l: 仅显示监听状态的套接字。</li>
<li>-o: 显示计时器信息</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>使用 ss 命令时，可以结合不同的选项来获取特定类型的套接字信息。例如，ss -t 显示所有 TCP 套接字信息，ss -u 显示所有 UDP 套接字信息，ss -l 显示所有监听状态的套接字信息</li>
<li>ss 命令的输出包括以下列<ul>
<li>State: 套接字的状态，如 ESTABLISHED（已建立）、LISTEN（监听）等。</li>
<li>Recv-Q: 接收队列的字节数。</li>
<li>Send-Q: 发送队列的字节数。</li>
<li>Local Address: 本地 IP 地址和端口号。</li>
<li>Peer Address: 对端 IP 地址和端口号。</li>
<li>Process（-p 选项时显示）: 与套接字关联的进程信息</li>
</ul>
</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>通过 ss 命令，可以查看网络连接状态、套接字使用情况、进程与套接字的关联信息等。它在排查网络问题、监视网络连接和调试网络应用程序时非常有用</li>
<li>安装 iproute2 软件包：ss 命令是 iproute2 软件包的一部分，因此需要安装该软件包</li>
</ul>
</li>
</ul>
<!-- + 参数：
  + `-l, --listening`  --  仅显示被监听的套接字
  + `-s, --summary`  -- 打印概括的状态信息
  + `-p, --processes`  --  显示使用套接字的进程
  + `-i, --info`     --  显示TCP内部详细的信息
  + `-t, --tcp`      --  显示TCP套接字
  + `-n, --numeric`  --  显示数值，不显示服务名字 -->
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_69_top/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_69_top/" class="post-title-link" itemprop="url">linux_2_69_top</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>top命令</li>
</ul>
<h2 id="linux-top命令-详解"><a href="#linux-top命令-详解" class="headerlink" title="linux top命令 详解"></a>linux top命令 详解</h2><p><code>top</code> 命令是一个用于实时查看系统资源使用情况的工具。它提供了一个交互式的实时界面，用于监控系统的进程、CPU利用率、内存使用情况等。以下是一些常用的 <code>top</code> 命令选项和用法：</p>
<h3 id="1-基本用法："><a href="#1-基本用法：" class="headerlink" title="1. 基本用法："></a>1. <strong>基本用法：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure>
<p>运行 <code>top</code> 命令后，会显示实时的系统状态信息，包括进程列表、CPU利用率、内存使用情况等。</p>
<h3 id="2-以特定的时间间隔刷新界面："><a href="#2-以特定的时间间隔刷新界面：" class="headerlink" title="2. 以特定的时间间隔刷新界面："></a>2. <strong>以特定的时间间隔刷新界面：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -d interval</span><br></pre></td></tr></table></figure>
<p>使用 <code>-d</code> 选项可以指定刷新界面的时间间隔，单位为秒。例如，<code>top -d 5</code> 表示每隔5秒刷新一次。</p>
<h3 id="3-按照-CPU-利用率排序："><a href="#3-按照-CPU-利用率排序：" class="headerlink" title="3. 按照 CPU 利用率排序："></a>3. <strong>按照 CPU 利用率排序：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -o %CPU</span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code> 选项可以指定按照某个字段排序，例如 <code>%CPU</code> 表示按照 CPU 利用率排序。</p>
<h3 id="4-显示特定用户的进程："><a href="#4-显示特定用户的进程：" class="headerlink" title="4. 显示特定用户的进程："></a>4. <strong>显示特定用户的进程：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -u username</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以指定只显示特定用户的进程，将 <code>username</code> 替换为相应的用户名。</p>
<h3 id="5-显示特定进程的信息："><a href="#5-显示特定进程的信息：" class="headerlink" title="5. 显示特定进程的信息："></a>5. <strong>显示特定进程的信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -p pid</span><br></pre></td></tr></table></figure>
<p>使用 <code>-p</code> 选项可以指定只显示特定进程的信息，将 <code>pid</code> 替换为相应的进程ID。</p>
<h3 id="6-显示完整的命令行信息："><a href="#6-显示完整的命令行信息：" class="headerlink" title="6. 显示完整的命令行信息："></a>6. <strong>显示完整的命令行信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -c</span><br></pre></td></tr></table></figure>
<p>使用 <code>-c</code> 选项可以显示完整的命令行信息，包括命令行的参数。</p>
<h3 id="7-显示累积模式："><a href="#7-显示累积模式：" class="headerlink" title="7. 显示累积模式："></a>7. <strong>显示累积模式：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -E</span><br></pre></td></tr></table></figure>
<p>使用 <code>-E</code> 选项可以开启累积模式，显示所有进程的累积信息。</p>
<h3 id="8-显示关于内存的信息："><a href="#8-显示关于内存的信息：" class="headerlink" title="8. 显示关于内存的信息："></a>8. <strong>显示关于内存的信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -o %MEM</span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code> 选项可以按照内存占用情况排序，例如 <code>%MEM</code> 表示按照内存占用率排序。</p>
<h3 id="9-显示关于磁盘的信息："><a href="#9-显示关于磁盘的信息：" class="headerlink" title="9. 显示关于磁盘的信息："></a>9. <strong>显示关于磁盘的信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -O res</span><br></pre></td></tr></table></figure>
<p>使用 <code>-O</code> 选项可以显示关于磁盘 I&#x2F;O 情况的信息。</p>
<h3 id="10-显示关于网络的信息："><a href="#10-显示关于网络的信息：" class="headerlink" title="10. 显示关于网络的信息："></a>10. <strong>显示关于网络的信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -N</span><br></pre></td></tr></table></figure>
<p>使用 <code>-N</code> 选项可以显示关于网络的信息。</p>
<h3 id="11-查看帮助信息："><a href="#11-查看帮助信息：" class="headerlink" title="11. 查看帮助信息："></a>11. <strong>查看帮助信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -h</span><br></pre></td></tr></table></figure>
<p>使用 <code>-h</code> 选项可以查看 <code>top</code> 命令的帮助信息，包括所有可用选项的说明。</p>
<h3 id="12-退出-top："><a href="#12-退出-top：" class="headerlink" title="12. 退出 top："></a>12. <strong>退出 <code>top</code>：</strong></h3><p>按下 <code>q</code> 键可以退出 <code>top</code>。</p>
<p>在 <code>top</code> 的交互式界面中，你可以使用不同的键来执行各种操作，例如按 <code>k</code> 键杀死进程，按 <code>r</code> 键重新调度进程等。</p>
<p><code>top</code> 命令是一个非常强大的系统监控工具，通过实时交互界面提供了对系统性能的全面监控。根据不同的需求，你可以选择不同的选项来查看和分析系统资源使用情况。</p>
<h2 id="linux-top命令-常用技巧"><a href="#linux-top命令-常用技巧" class="headerlink" title="linux top命令 常用技巧"></a>linux top命令 常用技巧</h2><p>以下是在使用 <code>top</code> 命令时的一些常用技巧和快捷键，以更灵活地查看和管理系统资源的使用情况：</p>
<h3 id="1-切换排序方式："><a href="#1-切换排序方式：" class="headerlink" title="1. 切换排序方式："></a>1. <strong>切换排序方式：</strong></h3><ul>
<li>按 <code>P</code> 键：按照 CPU 利用率排序。</li>
<li>按 <code>M</code> 键：按照内存占用率排序。</li>
<li>按 <code>T</code> 键：按照运行时间排序。</li>
</ul>
<h3 id="2-切换显示模式："><a href="#2-切换显示模式：" class="headerlink" title="2. 切换显示模式："></a>2. <strong>切换显示模式：</strong></h3><ul>
<li>按 <code>A</code> 键：切换显示所有用户的进程或只显示当前用户的进程。</li>
<li>按 <code>U</code> 键：输入用户名，只显示该用户的进程。</li>
</ul>
<h3 id="3-显示特定进程："><a href="#3-显示特定进程：" class="headerlink" title="3. 显示特定进程："></a>3. <strong>显示特定进程：</strong></h3><ul>
<li>按 <code>pid</code> 键：输入进程ID，只显示特定进程的信息。</li>
</ul>
<h3 id="4-切换显示字段："><a href="#4-切换显示字段：" class="headerlink" title="4. 切换显示字段："></a>4. <strong>切换显示字段：</strong></h3><ul>
<li>按 <code>f</code> 键：进入字段管理界面，可以选择显示&#x2F;隐藏不同的字段。</li>
</ul>
<h3 id="5-切换累积-非累积模式："><a href="#5-切换累积-非累积模式：" class="headerlink" title="5. 切换累积&#x2F;非累积模式："></a>5. <strong>切换累积&#x2F;非累积模式：</strong></h3><ul>
<li>按 <code>e</code> 键：切换累积&#x2F;非累积模式，显示所有或仅显示当前瞬时数据。</li>
</ul>
<h3 id="6-设置刷新间隔："><a href="#6-设置刷新间隔：" class="headerlink" title="6. 设置刷新间隔："></a>6. <strong>设置刷新间隔：</strong></h3><ul>
<li>按 <code>s</code> 键：输入新的刷新间隔时间，单位为秒。</li>
</ul>
<h3 id="7-查看帮助信息："><a href="#7-查看帮助信息：" class="headerlink" title="7. 查看帮助信息："></a>7. <strong>查看帮助信息：</strong></h3><ul>
<li>按 <code>h</code> 键：显示 <code>top</code> 命令的帮助信息。</li>
</ul>
<h3 id="8-结束进程："><a href="#8-结束进程：" class="headerlink" title="8. 结束进程："></a>8. <strong>结束进程：</strong></h3><ul>
<li>按 <code>k</code> 键：输入进程ID，可以杀死指定的进程。</li>
</ul>
<h3 id="9-切换至安全模式："><a href="#9-切换至安全模式：" class="headerlink" title="9. 切换至安全模式："></a>9. <strong>切换至安全模式：</strong></h3><ul>
<li>按 <code>H</code> 键：切换至安全模式，只显示用户界面上可见的进程。</li>
</ul>
<h3 id="10-切换至树状显示："><a href="#10-切换至树状显示：" class="headerlink" title="10. 切换至树状显示："></a>10. <strong>切换至树状显示：</strong></h3><ul>
<li>按 <code>V</code> 键：切换至树状显示，显示进程之间的父子关系。</li>
</ul>
<h3 id="11-切换至紧凑模式："><a href="#11-切换至紧凑模式：" class="headerlink" title="11. 切换至紧凑模式："></a>11. <strong>切换至紧凑模式：</strong></h3><ul>
<li>按 <code>c</code> 键：切换至紧凑模式，只显示进程的命令行。</li>
</ul>
<h3 id="12-切换至逆序排序："><a href="#12-切换至逆序排序：" class="headerlink" title="12. 切换至逆序排序："></a>12. <strong>切换至逆序排序：</strong></h3><ul>
<li>按 <code>&lt;</code> 键：切换至逆序排序。</li>
</ul>
<h3 id="13-调整显示范围："><a href="#13-调整显示范围：" class="headerlink" title="13. 调整显示范围："></a>13. <strong>调整显示范围：</strong></h3><ul>
<li>使用方向键：可以在进程列表和统计信息之间切换。</li>
<li>使用 <code>Page Up</code> 和 <code>Page Down</code> 键：滚动显示。</li>
</ul>
<p>这些快捷键和技巧使得在 <code>top</code> 命令的交互式界面中更加方便地查看和管理系统资源的使用情况。通过这些操作，你可以根据需要快速切换显示方式、排序方式，以及进行进程管理。</p>
<h2 id="top"><a href="#top" class="headerlink" title="top"></a>top</h2><ul>
<li><p>简介：</p>
<ul>
<li>top, 以全屏交互式的界面显示进程排名,及时跟踪包括CPU,内存等系统资源占用情况,默认情况下每三秒刷新一次,其作用基本类似于Windows系统中的任务管理器</li>
<li>top命令，是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，常用于服务端性能分析。</li>
<li>top命令，可以实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具。通过top命令所提供的互动式界面，用热键可以管理。</li>
<li>在top命令中按f按可以查看显示的列信息，按对应字母来开启&#x2F;关闭列，大写字母表示开启，小写字母表示关闭。带*号的是默认列。</li>
</ul>
</li>
<li><p>语法</p>
<ul>
<li>top(选项)</li>
</ul>
</li>
<li><p>选项</p>
<ul>
<li>-b：以批处理模式操作；</li>
<li>-c：显示完整的治命令；</li>
<li>-d：屏幕刷新间隔时间；</li>
<li>-I：忽略失效过程；</li>
<li>-s：保密模式；</li>
<li>-S：累积模式；</li>
<li>-i&lt;时间&gt;：设置间隔时间；</li>
<li>-u&lt;用户名&gt;：指定用户名；</li>
<li>-p&lt;进程号&gt;：指定进程；</li>
<li>-n&lt;次数&gt;：循环显示的次数。</li>
</ul>
</li>
<li><p>top交互命令：在top命令执行过程中可以使用的一些交互命令。这些命令都是单字母的，如果在命令行中使用了-s选项， 其中一些命令可能会被屏蔽。</p>
<ul>
<li>h：显示帮助画面，给出一些简短的命令总结说明；</li>
<li>k：终止一个进程；</li>
<li>i：忽略闲置和僵死进程，这是一个开关式命令；</li>
<li>q：退出程序；</li>
<li>r：重新安排一个进程的优先级别；</li>
<li>S：切换到累计模式；</li>
<li>s：改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成ms。输入0值则系统将不断刷新，默认值是5s；</li>
<li>f或者F：从当前显示中添加或者删除项目；</li>
<li>o或者O：改变显示项目的顺序；</li>
<li>l：切换显示平均负载和启动时间信息；</li>
<li>m：切换显示内存信息；</li>
<li>t：切换显示进程和CPU状态信息；</li>
<li>c：切换显示命令名称和完整命令行；</li>
<li>M：根据驻留内存大小进行排序；</li>
<li>P：根据CPU使用百分比大小进行排序；</li>
<li>T：根据时间&#x2F;累计时间进行排序；</li>
<li>w：将当前设置写入~&#x2F;.toprc文件中。</li>
</ul>
</li>
<li><p>实例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">top - 09:44:56 up 16 days, 21:23,  1 user,  load average: 9.59, 4.75, 1.92</span><br><span class="line">Tasks: 145 total,   2 running, 143 sleeping,   0 stopped,   0 zombie</span><br><span class="line">Cpu(s): 99.8%us,  0.1%sy,  0.0%ni,  0.2%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st</span><br><span class="line">Mem:   4147888k total,  2493092k used,  1654796k free,   158188k buffers</span><br><span class="line">Swap:  5144568k total,       56k used,  5144512k free,  2013180k cache</span><br></pre></td></tr></table></figure></li>
<li><p>解释</p>
<ul>
<li>top - 09:44:56[当前系统时间],</li>
<li>16 days[系统已经运行了16天],</li>
<li>1 user[个用户当前登录],</li>
<li>load average: 9.59, 4.75, 1.92[系统负载，即任务队列的平均长度]</li>
<li>Tasks: 145 total[总进程数],</li>
<li>2 running[正在运行的进程数],</li>
<li>143 sleeping[睡眠的进程数],</li>
<li>0 stopped[停止的进程数],</li>
<li>0 zombie[冻结进程数],</li>
<li>Cpu(s): 99.8%us[用户空间占用CPU百分比],</li>
<li>0.1%sy[内核空间占用CPU百分比],</li>
<li>0.0%ni[用户进程空间内改变过优先级的进程占用CPU百分比],</li>
<li>0.2%id[空闲CPU百分比], 0.0%wa[等待输入输出的CPU时间百分比],</li>
<li>0.0%hi[],</li>
<li>0.0%st[],</li>
<li>Mem: 4147888k total[物理内存总量],</li>
<li>2493092k used[使用的物理内存总量],</li>
<li>1654796k free[空闲内存总量],</li>
<li>158188k buffers[用作内核缓存的内存量]</li>
<li>Swap:  5144568k total[交换区总量],</li>
<li>56k used[使用的交换区总量],</li>
<li>5144512k free[空闲交换区总量],</li>
<li>2013180k cached[缓冲的交换区总量],</li>
</ul>
</li>
<li><p>字段解释:</p>
<ul>
<li><code>Tasks</code> : 系统任务信息</li>
<li><code>total</code> : 总进程数</li>
<li><code>running</code> : 正在运行的进程数</li>
<li><code>sleeping</code> : 休眠的进程数</li>
<li><code>stopped</code>  : 终止的进程数</li>
<li><code>zombie</code>  : 僵死无响应的进程数</li>
</ul>
</li>
<li><p>常用命令</p>
<ul>
<li><code>top </code> 回车之后再输入c，会显示进程详细信息</li>
<li><code>top -p pid</code>， 查看指定进程ID的动态资源</li>
</ul>
</li>
<li><p>在 top 命令中，你可以使用以下快捷键来修改显示的单位：</p>
<ul>
<li>按下 “e” 键：切换内存显示单位，可以在字节（Bytes）、千字节（KBytes）、兆字节（MBytes）和吉字节（GBytes）之间进行切换。</li>
<li>按下 “E” 键：切换内存和交换空间显示单位，与 “e” 键类似，但同时会修改交换空间的显示单位。</li>
<li>按下 “k” 键：切换 CPU 使用率的显示单位，可以在百分比（%）、千分比（m%）和百万分比（M%）之间进行切换。</li>
<li>按下 “K” 键：切换 CPU 时间的显示单位，可以在秒（s）、毫秒（ms）和微秒（us）之间进行切换。</li>
</ul>
</li>
<li><p>在 top 命令中按下相应的键后，单位会相应地进行切换，并且在顶部的标题行中会显示当前的单位。你可以根据需要选择合适的单位来查看系统资源的使用情况。</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_71_date/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_71_date/" class="post-title-link" itemprop="url">linux_2_71_date</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>date命令</li>
</ul>
<h2 id="linux-date命令-详解"><a href="#linux-date命令-详解" class="headerlink" title="linux date命令 详解"></a>linux date命令 详解</h2><p><code>date</code> 命令用于显示或设置系统的日期和时间。在 Linux 中，<code>date</code> 命令非常常用，可以用于获取当前日期时间、设置系统时间，以及格式化输出时间等。以下是一些常用的 <code>date</code> 命令选项和用法：</p>
<h3 id="1-显示当前日期时间："><a href="#1-显示当前日期时间：" class="headerlink" title="1. 显示当前日期时间："></a>1. <strong>显示当前日期时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span></span><br></pre></td></tr></table></figure>
<p>默认情况下，<code>date</code> 命令会显示当前的日期和时间。</p>
<h3 id="2-显示指定格式的日期时间："><a href="#2-显示指定格式的日期时间：" class="headerlink" title="2. 显示指定格式的日期时间："></a>2. <strong>显示指定格式的日期时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>+</code> 后面跟着格式字符串，可以按指定格式显示日期和时间。上面的例子显示的格式是年-月-日 时:分:秒。</p>
<h3 id="3-显示日期时间及星期："><a href="#3-显示日期时间及星期：" class="headerlink" title="3. 显示日期时间及星期："></a>3. <strong>显示日期时间及星期：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +<span class="string">&quot;%A, %B %d, %Y %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure>
<p>这个例子显示的格式包括星期、月份、日期、年份、时、分和秒。</p>
<h3 id="4-显示-UTC-时间："><a href="#4-显示-UTC-时间：" class="headerlink" title="4. 显示 UTC 时间："></a>4. <strong>显示 UTC 时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> -u</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以显示当前的 UTC 时间。</p>
<h3 id="5-设置系统时间："><a href="#5-设置系统时间：" class="headerlink" title="5. 设置系统时间："></a>5. <strong>设置系统时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">date</span> MMDDhhmm[[CC]YY][.ss]</span><br></pre></td></tr></table></figure>
<p>通过 <code>sudo date</code> 命令可以设置系统的日期和时间。格式中 MM 代表月份，DD 代表日期，hh 代表小时，mm 代表分钟，CC 代表世纪，YY 代表年份的后两位，ss 代表秒。</p>
<h3 id="6-显示时间戳："><a href="#6-显示时间戳：" class="headerlink" title="6. 显示时间戳："></a>6. <strong>显示时间戳：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%s</span><br></pre></td></tr></table></figure>
<p>使用 <code>+%s</code> 选项可以显示当前时间的时间戳（从 1970-01-01 00:00:00 UTC 到现在的秒数）。</p>
<h3 id="7-将时间戳转换为日期时间："><a href="#7-将时间戳转换为日期时间：" class="headerlink" title="7. 将时间戳转换为日期时间："></a>7. <strong>将时间戳转换为日期时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> -d <span class="string">&quot;@timestamp&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure>
<p>将具体时间戳替换 <code>timestamp</code>，可以将时间戳转换为可读的日期时间格式。</p>
<h3 id="8-计算日期差值："><a href="#8-计算日期差值：" class="headerlink" title="8. 计算日期差值："></a>8. <strong>计算日期差值：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">date1=$(<span class="built_in">date</span> -d <span class="string">&quot;2022-01-01&quot;</span> +%s)</span><br><span class="line">date2=$(<span class="built_in">date</span> -d <span class="string">&quot;2022-02-01&quot;</span> +%s)</span><br><span class="line"><span class="built_in">echo</span> $(( (date2 - date1) / <span class="number">86400</span> )) days</span><br></pre></td></tr></table></figure>
<p>这个例子计算了从 2022 年 1 月 1 日到 2022 年 2 月 1 日的天数差值。</p>
<h3 id="9-将日期时间设为其他时区："><a href="#9-将日期时间设为其他时区：" class="headerlink" title="9. 将日期时间设为其他时区："></a>9. <strong>将日期时间设为其他时区：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TZ=<span class="string">&quot;America/New_York&quot;</span> <span class="built_in">date</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>TZ</code> 环境变量可以将 <code>date</code> 命令显示的时间设为其他时区的时间。</p>
<h3 id="10-显示日历："><a href="#10-显示日历：" class="headerlink" title="10. 显示日历："></a>10. <strong>显示日历：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cal</span><br></pre></td></tr></table></figure>
<p><code>cal</code> 命令可以显示当前月的日历。</p>
<h3 id="11-显示某年某月的日历："><a href="#11-显示某年某月的日历：" class="headerlink" title="11. 显示某年某月的日历："></a>11. <strong>显示某年某月的日历：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cal MM YYYY</span><br></pre></td></tr></table></figure>
<p>将 MM 和 YYYY 替换为具体的月份和年份。</p>
<p>这些是一些常用的 <code>date</code> 命令选项和用法，可以帮助你在 Linux 系统中处理日期和时间相关的任务。根据实际需求，你可以选择不同的格式和选项来满足特定的日期时间操作。</p>
<h2 id="linux-date命令-常用技巧"><a href="#linux-date命令-常用技巧" class="headerlink" title="linux date命令 常用技巧"></a>linux date命令 常用技巧</h2><p>以下是一些在使用 <code>date</code> 命令时的常用技巧和选项，以便更灵活地处理日期和时间：</p>
<h3 id="1-显示当前日期时间：-1"><a href="#1-显示当前日期时间：-1" class="headerlink" title="1. 显示当前日期时间："></a>1. <strong>显示当前日期时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span></span><br></pre></td></tr></table></figure>
<p>默认情况下，<code>date</code> 命令会显示当前的日期和时间。</p>
<h3 id="2-显示指定格式的日期时间：-1"><a href="#2-显示指定格式的日期时间：-1" class="headerlink" title="2. 显示指定格式的日期时间："></a>2. <strong>显示指定格式的日期时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>+</code> 后面跟着格式字符串，可以按指定格式显示日期和时间。</p>
<h3 id="3-将日期时间设为其他时区："><a href="#3-将日期时间设为其他时区：" class="headerlink" title="3. 将日期时间设为其他时区："></a>3. <strong>将日期时间设为其他时区：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TZ=<span class="string">&quot;America/New_York&quot;</span> <span class="built_in">date</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>TZ</code> 环境变量可以将 <code>date</code> 命令显示的时间设为其他时区的时间。</p>
<h3 id="4-显示-UTC-时间：-1"><a href="#4-显示-UTC-时间：-1" class="headerlink" title="4. 显示 UTC 时间："></a>4. <strong>显示 UTC 时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> -u</span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以显示当前的 UTC 时间。</p>
<h3 id="5-显示时间戳："><a href="#5-显示时间戳：" class="headerlink" title="5. 显示时间戳："></a>5. <strong>显示时间戳：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%s</span><br></pre></td></tr></table></figure>
<p>使用 <code>+%s</code> 选项可以显示当前时间的时间戳（从 1970-01-01 00:00:00 UTC 到现在的秒数）。</p>
<h3 id="6-将时间戳转换为日期时间："><a href="#6-将时间戳转换为日期时间：" class="headerlink" title="6. 将时间戳转换为日期时间："></a>6. <strong>将时间戳转换为日期时间：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> -d <span class="string">&quot;@timestamp&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure>
<p>将具体时间戳替换 <code>timestamp</code>，可以将时间戳转换为可读的日期时间格式。</p>
<h3 id="7-计算日期差值："><a href="#7-计算日期差值：" class="headerlink" title="7. 计算日期差值："></a>7. <strong>计算日期差值：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">date1=$(<span class="built_in">date</span> -d <span class="string">&quot;2022-01-01&quot;</span> +%s)</span><br><span class="line">date2=$(<span class="built_in">date</span> -d <span class="string">&quot;2022-02-01&quot;</span> +%s)</span><br><span class="line"><span class="built_in">echo</span> $(( (date2 - date1) / <span class="number">86400</span> )) days</span><br></pre></td></tr></table></figure>
<p>这个例子计算了从 2022 年 1 月 1 日到 2022 年 2 月 1 日的天数差值。</p>
<h3 id="8-生成递增日期序列："><a href="#8-生成递增日期序列：" class="headerlink" title="8. 生成递增日期序列："></a>8. <strong>生成递增日期序列：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">start_date=<span class="string">&quot;2022-01-01&quot;</span></span><br><span class="line">end_date=<span class="string">&quot;2022-01-10&quot;</span></span><br><span class="line"><span class="keyword">while</span> [ <span class="string">&quot;<span class="variable">$start_date</span>&quot;</span> != <span class="string">&quot;<span class="variable">$end_date</span>&quot;</span> ]; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$start_date</span></span><br><span class="line">  start_date=$(<span class="built_in">date</span> -I -d <span class="string">&quot;<span class="variable">$start_date</span> + 1 day&quot;</span>)</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>这个例子生成了从 2022 年 1 月 1 日到 2022 年 1 月 10 日的日期序列。</p>
<h3 id="9-显示一周的开始和结束日期："><a href="#9-显示一周的开始和结束日期：" class="headerlink" title="9. 显示一周的开始和结束日期："></a>9. <strong>显示一周的开始和结束日期：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">today=$(<span class="built_in">date</span> +%u)</span><br><span class="line">start_date=$(<span class="built_in">date</span> -d <span class="string">&quot;last sunday -<span class="subst">$(($today - 1)</span>) days&quot;</span> +<span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line">end_date=$(<span class="built_in">date</span> -d <span class="string">&quot;next saturday -<span class="subst">$(($today - 7)</span>) days&quot;</span> +<span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Start Date: <span class="variable">$start_date</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;End Date: <span class="variable">$end_date</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>这个例子显示当前日期所在周的开始和结束日期。</p>
<h3 id="10-格式化输出当前月的日历："><a href="#10-格式化输出当前月的日历：" class="headerlink" title="10. 格式化输出当前月的日历："></a>10. <strong>格式化输出当前月的日历：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cal $(<span class="built_in">date</span> +<span class="string">&quot;%m %Y&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>这个例子使用 <code>cal</code> 命令结合 <code>date</code> 命令，以格式化形式显示当前月的日历。</p>
<p>这些技巧可以帮助你更灵活地使用 <code>date</code> 命令，根据实际需求处理日期和时间相关的任务。</p>
<h2 id="date"><a href="#date" class="headerlink" title="date"></a>date</h2><p><code>date</code>是Linux系统中用于显示和设置系统日期和时间的命令。它还可以格式化日期和时间以满足特定的需求。</p>
<p>以下是<code>date</code>命令的常用选项和用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> [options] [+format]</span><br></pre></td></tr></table></figure>

<p>常用选项：</p>
<ul>
<li><code>-d, --date=STRING</code>：使用指定的日期和时间字符串进行操作，而不是当前日期和时间。</li>
<li><code>-u, --utc, --universal</code>：使用协调世界时（UTC）进行操作，而不是本地时间。</li>
<li><code>--rfc-3339=TIMESPEC</code>：使用RFC 3339格式显示日期和时间。</li>
<li><code>--iso-8601[=TIMESPEC]</code>：使用ISO 8601格式显示日期和时间。</li>
<li><code>-R, --rfc-2822</code>：使用RFC 2822格式显示日期和时间。</li>
<li><code>--help</code>：显示帮助信息。</li>
</ul>
<p>格式化选项（常用的格式化选项）：</p>
<ul>
<li><code>%Y</code>：四位数的年份（例如：2023）。</li>
<li><code>%y</code>：两位数的年份（例如：23）。</li>
<li><code>%m</code>：两位数的月份（例如：06）。</li>
<li><code>%d</code>：两位数的日期（例如：09）。</li>
<li><code>%H</code>：两位数的小时（24小时制）（例如：15）。</li>
<li><code>%M</code>：两位数的分钟（例如：30）。</li>
<li><code>%S</code>：两位数的秒钟（例如：45）。</li>
<li><code>%A</code>：完整的星期几名称（例如：Sunday）。</li>
<li><code>%a</code>：缩写的星期几名称（例如：Sun）。</li>
<li><code>%B</code>：完整的月份名称（例如：June）。</li>
<li><code>%b</code>：缩写的月份名称（例如：Jun）。</li>
<li><code>%Z</code>：时区名称（例如：PST）。</li>
<li><code>%z</code>：时区偏移量（例如：-0800）。</li>
</ul>
<p>示例用法：</p>
<ol>
<li>显示当前日期和时间：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>显示当前日期（年、月、日）：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%Y-%m-%d</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>显示当前时间（小时、分钟、秒）：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%H:%M:%S</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>根据指定格式显示日期和时间：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>显示当前时间的UNIX时间戳：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%s</span><br></pre></td></tr></table></figure>

<p><code>date</code>命令还支持其他选项和格式化标记，可以根据具体的需求进行调整。您可以通过<code>man date</code>命令查看<code>date</code>命令的完整帮助文档和更多用法示例。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_72_egrep/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_72_egrep/" class="post-title-link" itemprop="url">linux_2_72_egrep</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>egrep命令</li>
</ul>
<h2 id="linux-egrep命令-详解"><a href="#linux-egrep命令-详解" class="headerlink" title="linux egrep命令 详解"></a>linux egrep命令 详解</h2><p><code>egrep</code> 命令在 Linux 系统中用于执行扩展正则表达式的匹配操作。它在功能上与 <code>grep -E</code> 相同。正则表达式是一种用于模式匹配的强大工具，<code>egrep</code> 允许你使用更复杂的正则表达式语法。以下是一些 <code>egrep</code> 命令的常用选项和用法：</p>
<h3 id="1-基本用法："><a href="#1-基本用法：" class="headerlink" title="1. 基本用法："></a>1. <strong>基本用法：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>这将在指定的文件中搜索匹配指定模式的行。</p>
<h3 id="2-使用多个模式："><a href="#2-使用多个模式：" class="headerlink" title="2. 使用多个模式："></a>2. <strong>使用多个模式：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">&quot;pattern1|pattern2&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>|</code>（管道符）可以指定多个模式，表示匹配任意一个模式的行。</p>
<h3 id="3-忽略大小写："><a href="#3-忽略大小写：" class="headerlink" title="3. 忽略大小写："></a>3. <strong>忽略大小写：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -i <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-i</code> 选项可以忽略大小写进行匹配。</p>
<h3 id="4-显示匹配的行号："><a href="#4-显示匹配的行号：" class="headerlink" title="4. 显示匹配的行号："></a>4. <strong>显示匹配的行号：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -n <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项可以显示匹配行的行号。</p>
<h3 id="5-显示不匹配的行："><a href="#5-显示不匹配的行：" class="headerlink" title="5. 显示不匹配的行："></a>5. <strong>显示不匹配的行：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -v <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-v</code> 选项可以显示不匹配指定模式的行。</p>
<h3 id="6-只显示匹配的文本："><a href="#6-只显示匹配的文本：" class="headerlink" title="6. 只显示匹配的文本："></a>6. <strong>只显示匹配的文本：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -o <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code> 选项可以只显示匹配的文本，而不显示整行。</p>
<h3 id="7-显示匹配的行及其前后若干行："><a href="#7-显示匹配的行及其前后若干行：" class="headerlink" title="7. 显示匹配的行及其前后若干行："></a>7. <strong>显示匹配的行及其前后若干行：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">egrep -A num <span class="string">&quot;pattern&quot;</span> file</span><br><span class="line">egrep -B num <span class="string">&quot;pattern&quot;</span> file</span><br><span class="line">egrep -C num <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-A</code>、<code>-B</code> 和 <code>-C</code> 选项可以分别显示匹配行及其后 num 行、前 num 行、前后各 num 行。</p>
<h3 id="8-递归搜索目录下的文件："><a href="#8-递归搜索目录下的文件：" class="headerlink" title="8. 递归搜索目录下的文件："></a>8. <strong>递归搜索目录下的文件：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -r <span class="string">&quot;pattern&quot;</span> directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-r</code> 选项可以递归搜索指定目录及其子目录下的文件。</p>
<h3 id="9-显示匹配的行数："><a href="#9-显示匹配的行数：" class="headerlink" title="9. 显示匹配的行数："></a>9. <strong>显示匹配的行数：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -c <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-c</code> 选项可以只显示匹配行的数量。</p>
<h3 id="10-使用反向引用（Backreference）："><a href="#10-使用反向引用（Backreference）：" class="headerlink" title="10. 使用反向引用（Backreference）："></a>10. <strong>使用反向引用（Backreference）：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">&#x27;(pattern)\1&#x27;</span> file</span><br></pre></td></tr></table></figure>
<p>使用圆括号和 <code>\1</code> 可以引用之前的模式，实现反向引用。</p>
<h3 id="11-匹配行首或行尾："><a href="#11-匹配行首或行尾：" class="headerlink" title="11. 匹配行首或行尾："></a>11. <strong>匹配行首或行尾：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">&quot;^pattern&quot;</span> file</span><br><span class="line">egrep <span class="string">&quot;pattern$&quot;</span> file</span><br></pre></td></tr></table></figure>
<p><code>^</code> 表示匹配行首，<code>$</code> 表示匹配行尾。</p>
<h3 id="12-显示匹配模式的位置："><a href="#12-显示匹配模式的位置：" class="headerlink" title="12. 显示匹配模式的位置："></a>12. <strong>显示匹配模式的位置：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -b -o <span class="string">&quot;pattern&quot;</span> file</span><br></pre></td></tr></table></figure>
<p>使用 <code>-b</code> 选项可以显示匹配模式的字节偏移位置。</p>
<h3 id="13-显示匹配模式的数量："><a href="#13-显示匹配模式的数量：" class="headerlink" title="13. 显示匹配模式的数量："></a>13. <strong>显示匹配模式的数量：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -o <span class="string">&quot;pattern&quot;</span> file | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure>
<p>使用管道结合 <code>wc -l</code> 命令可以显示匹配模式的数量。</p>
<p>这些是一些 <code>egrep</code> 命令的常用选项和用法，可以帮助你在文本文件中执行强大的正则表达式匹配操作。</p>
<h2 id="linux-egrep命令-常用技巧"><a href="#linux-egrep命令-常用技巧" class="headerlink" title="linux egrep命令 常用技巧"></a>linux egrep命令 常用技巧</h2><p><code>egrep</code> 命令是 <code>grep</code> 命令的扩展版本，支持使用扩展正则表达式进行文本搜索。在许多系统中，<code>egrep</code> 和 <code>grep -E</code> 是等效的。以下是一些常用的 <code>egrep</code> 命令技巧和选项：</p>
<h3 id="1-基本用法：-1"><a href="#1-基本用法：-1" class="headerlink" title="1. 基本用法："></a>1. <strong>基本用法：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">&quot;pattern&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p><code>egrep</code> 命令用于在文件中搜索指定的正则表达式模式，并显示匹配的行。可以使用单引号或双引号括起正则表达式。</p>
<h3 id="2-显示匹配行及行号："><a href="#2-显示匹配行及行号：" class="headerlink" title="2. 显示匹配行及行号："></a>2. <strong>显示匹配行及行号：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -n <span class="string">&quot;pattern&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>使用 <code>-n</code> 选项可以显示匹配行的行号。</p>
<h3 id="3-显示不匹配的行："><a href="#3-显示不匹配的行：" class="headerlink" title="3. 显示不匹配的行："></a>3. <strong>显示不匹配的行：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -v <span class="string">&quot;pattern&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>使用 <code>-v</code> 选项可以显示不匹配指定模式的行。</p>
<h3 id="4-显示匹配行前-后的内容："><a href="#4-显示匹配行前-后的内容：" class="headerlink" title="4. 显示匹配行前&#x2F;后的内容："></a>4. <strong>显示匹配行前&#x2F;后的内容：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">egrep -A 2 <span class="string">&quot;pattern&quot;</span> filename  <span class="comment"># 显示匹配行及后两行的内容</span></span><br><span class="line">egrep -B 2 <span class="string">&quot;pattern&quot;</span> filename  <span class="comment"># 显示匹配行及前两行的内容</span></span><br><span class="line">egrep -C 2 <span class="string">&quot;pattern&quot;</span> filename  <span class="comment"># 显示匹配行及前后各两行的内容</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-A</code>、<code>-B</code>、<code>-C</code> 选项可以显示匹配行前后的指定行数的内容。</p>
<h3 id="5-忽略大小写进行匹配："><a href="#5-忽略大小写进行匹配：" class="headerlink" title="5. 忽略大小写进行匹配："></a>5. <strong>忽略大小写进行匹配：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -i <span class="string">&quot;pattern&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>使用 <code>-i</code> 选项可以忽略大小写进行匹配。</p>
<h3 id="6-显示匹配的行数："><a href="#6-显示匹配的行数：" class="headerlink" title="6. 显示匹配的行数："></a>6. <strong>显示匹配的行数：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -c <span class="string">&quot;pattern&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>使用 <code>-c</code> 选项可以显示匹配的行数而不是匹配的行内容。</p>
<h3 id="7-显示匹配的内容及模式："><a href="#7-显示匹配的内容及模式：" class="headerlink" title="7. 显示匹配的内容及模式："></a>7. <strong>显示匹配的内容及模式：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -o <span class="string">&quot;pattern&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code> 选项可以只显示匹配的内容而不是整行，并且仅显示匹配的模式。</p>
<h3 id="8-显示匹配模式的行数："><a href="#8-显示匹配模式的行数：" class="headerlink" title="8. 显示匹配模式的行数："></a>8. <strong>显示匹配模式的行数：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -o -n <span class="string">&quot;pattern&quot;</span> filename | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure>
<p>结合 <code>wc -l</code> 命令可以显示匹配模式的行数。</p>
<h3 id="9-显示行尾包含匹配模式的行："><a href="#9-显示行尾包含匹配模式的行：" class="headerlink" title="9. 显示行尾包含匹配模式的行："></a>9. <strong>显示行尾包含匹配模式的行：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">&quot;pattern$&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>在模式的末尾使用 <code>$</code> 可以显示行尾包含匹配模式的行。</p>
<h3 id="10-使用多个模式进行匹配："><a href="#10-使用多个模式进行匹配：" class="headerlink" title="10. 使用多个模式进行匹配："></a>10. <strong>使用多个模式进行匹配：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep <span class="string">&quot;pattern1|pattern2&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>使用 <code>|</code> 可以匹配多个模式之一的行。</p>
<h3 id="11-显示匹配模式的上下文："><a href="#11-显示匹配模式的上下文：" class="headerlink" title="11. 显示匹配模式的上下文："></a>11. <strong>显示匹配模式的上下文：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -C 2 <span class="string">&quot;pattern&quot;</span> filename</span><br></pre></td></tr></table></figure>
<p>使用 <code>-C</code> 选项可以显示匹配模式的上下文内容。</p>
<h3 id="12-递归搜索目录中的文件："><a href="#12-递归搜索目录中的文件：" class="headerlink" title="12. 递归搜索目录中的文件："></a>12. <strong>递归搜索目录中的文件：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -r <span class="string">&quot;pattern&quot;</span> directory</span><br></pre></td></tr></table></figure>
<p>使用 <code>-r</code> 选项可以递归搜索指定目录中的文件。</p>
<p>这些技巧和选项可以帮助你更灵活地使用 <code>egrep</code> 命令进行文本搜索，根据具体的需求选择合适的选项和正则表达式模式。</p>
<h2 id="egrep-详解"><a href="#egrep-详解" class="headerlink" title="egrep 详解"></a>egrep 详解</h2><p><code>egrep</code> 命令是 Linux 系统中用于进行正则表达式搜索的工具之一。它是 <code>grep</code> 命令的一个变种，支持扩展的正则表达式语法。下面是关于 <code>egrep</code> 命令的详细解释：</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p><code>egrep</code> 命令的基本语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep [选项] 模式 [文件...]</span><br></pre></td></tr></table></figure>

<ul>
<li><code>选项</code>：可以是一系列的命令行选项，用于控制 <code>egrep</code> 的行为。</li>
<li><code>模式</code>：是一个正则表达式，用于搜索匹配的文本。</li>
<li><code>文件</code>：可选参数，表示要在其中搜索模式的一个或多个文件。如果省略文件参数，则 <code>egrep</code> 将从标准输入中读取数据。</li>
</ul>
<h3 id="常用选项"><a href="#常用选项" class="headerlink" title="常用选项"></a>常用选项</h3><p>以下是一些常用的 <code>egrep</code> 选项：</p>
<ul>
<li><code>-i</code>：忽略大小写，使搜索不区分大小写。</li>
<li><code>-v</code>：反向匹配，只输出不匹配模式的行。</li>
<li><code>-r</code> 或 <code>-R</code>：递归搜索，用于在目录中搜索文件，而不仅仅是单个文件。</li>
<li><code>-n</code>：显示匹配行的行号。</li>
<li><code>-c</code>：仅显示匹配行的计数而不是行本身。</li>
<li><code>-l</code>：只显示包含匹配的文件名，而不显示匹配的行。</li>
<li><code>-o</code>：只输出匹配的部分，而不是整行。</li>
<li><code>-A</code>、<code>-B</code>、<code>-C</code>：显示匹配行的上下文。</li>
</ul>
<h3 id="正则表达式语法"><a href="#正则表达式语法" class="headerlink" title="正则表达式语法"></a>正则表达式语法</h3><p><code>egrep</code> 支持扩展的正则表达式语法，其中包括一些特殊字符和元字符，如 <code>.</code>（匹配任意字符）、<code>*</code>（匹配前一个字符的零个或多个实例）、<code>+</code>（匹配前一个字符的一个或多个实例）等。你可以使用这些元字符来构建强大的正则表达式模式，以匹配特定的文本模式。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>以下是一些 <code>egrep</code> 命令的示例：</p>
<ol>
<li><p>在文件中查找包含 “error” 或 “warning” 的行，并显示行号：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -n &#x27;error|warning&#x27; filename.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>在目录及其子目录中递归搜索包含 “pattern” 的文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -r &#x27;pattern&#x27; /path/to/directory</span><br></pre></td></tr></table></figure>
</li>
<li><p>显示包含匹配的文件名：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -l &#x27;pattern&#x27; *.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用反向匹配查找不包含 “success” 的行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -v &#x27;success&#x27; filename.txt</span><br></pre></td></tr></table></figure></li>
</ol>
<p>这些示例只是 <code>egrep</code> 命令的一些用法，你可以根据需要构建更复杂的正则表达式模式和命令行选项来满足特定的搜索需求。要了解更多信息，可以使用 <code>man egrep</code> 命令查看 <code>egrep</code> 的手册页。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_67_pgrep/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_67_pgrep/" class="post-title-link" itemprop="url">linux_2_67_pgrep</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>pgrep命令</li>
</ul>
<h2 id="linux-pgrep命令-详解"><a href="#linux-pgrep命令-详解" class="headerlink" title="linux pgrep命令 详解"></a>linux pgrep命令 详解</h2><p><code>pgrep</code> 命令用于通过进程名称查找并显示相应的进程ID（PID）。它允许你使用进程的名称而不是PID来查找进程。以下是 <code>pgrep</code> 命令的一些常用选项和用法：</p>
<h3 id="基本用法："><a href="#基本用法：" class="headerlink" title="基本用法："></a>基本用法：</h3><ol>
<li><p><strong>通过进程名称查找进程ID：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep process_name</span><br></pre></td></tr></table></figure>
<p>用实际的进程名称替换 <code>process_name</code>，该命令将显示匹配进程名称的进程ID。</p>
</li>
<li><p><strong>查找多个进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -l <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-l</code> 选项可以显示进程ID及其名称，方便查看多个匹配的进程。</p>
</li>
</ol>
<h3 id="选项和过滤："><a href="#选项和过滤：" class="headerlink" title="选项和过滤："></a>选项和过滤：</h3><ol start="3">
<li><p><strong>忽略大小写进行匹配：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -i <span class="string">&quot;Process_Name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-i</code> 选项可以忽略大小写进行匹配。</p>
</li>
<li><p><strong>指定用户的进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -u username <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以指定查找特定用户运行的进程。</p>
</li>
<li><p><strong>显示进程的完整命令行：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -a <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-a</code> 选项可以显示进程的完整命令行，而不仅仅是进程名称。</p>
</li>
<li><p><strong>查找父进程ID为指定值的进程：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -P parent_pid</span><br></pre></td></tr></table></figure>
<p>使用 <code>-P</code> 选项可以查找父进程ID为指定值的进程。</p>
</li>
<li><p><strong>显示匹配进程的计数：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -c <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-c</code> 选项可以显示匹配进程的数量，而不是显示进程ID。</p>
</li>
</ol>
<h3 id="更多选项："><a href="#更多选项：" class="headerlink" title="更多选项："></a>更多选项：</h3><ol start="8">
<li><p><strong>显示进程的信号信息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill -o -n -l -x <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code>、<code>-n</code>、<code>-l</code> 和 <code>-x</code> 等选项可以显示与进程关联的信号信息。</p>
</li>
<li><p><strong>以进程启动的时间作为过滤条件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -o -n -l -x -t <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-t</code> 选项可以以进程启动的时间作为过滤条件。</p>
</li>
</ol>
<p><code>pgrep</code> 是一个快速而方便的工具，可通过进程名称来查找并显示相应的进程ID。结合不同的选项，你可以根据各种条件查找进程，方便了解系统中运行的进程信息。</p>
<h2 id="linux-pgrep命令-常用技巧"><a href="#linux-pgrep命令-常用技巧" class="headerlink" title="linux pgrep命令 常用技巧"></a>linux pgrep命令 常用技巧</h2><p>以下是一些常用的 <code>pgrep</code> 命令技巧和选项，以更灵活地查找和管理进程：</p>
<h3 id="1-根据进程名查找进程ID："><a href="#1-根据进程名查找进程ID：" class="headerlink" title="1. 根据进程名查找进程ID："></a>1. <strong>根据进程名查找进程ID：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep process_name</span><br></pre></td></tr></table></figure>
<p>这是 <code>pgrep</code> 命令的最基本用法，通过进程名称查找并显示相应的进程ID。</p>
<h3 id="2-查找并显示完整的命令行信息："><a href="#2-查找并显示完整的命令行信息：" class="headerlink" title="2. 查找并显示完整的命令行信息："></a>2. <strong>查找并显示完整的命令行信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -a <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-a</code> 选项可以显示匹配进程的完整命令行信息，而不仅仅是进程名称。</p>
<h3 id="3-查找多个进程并显示信息："><a href="#3-查找多个进程并显示信息：" class="headerlink" title="3. 查找多个进程并显示信息："></a>3. <strong>查找多个进程并显示信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -l <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-l</code> 选项可以显示匹配进程的进程ID及其名称，方便查看多个匹配的进程。</p>
<h3 id="4-忽略大小写进行匹配："><a href="#4-忽略大小写进行匹配：" class="headerlink" title="4. 忽略大小写进行匹配："></a>4. <strong>忽略大小写进行匹配：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -i <span class="string">&quot;Process_Name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-i</code> 选项可以忽略大小写进行匹配，使匹配更加灵活。</p>
<h3 id="5-指定用户的进程："><a href="#5-指定用户的进程：" class="headerlink" title="5. 指定用户的进程："></a>5. <strong>指定用户的进程：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -u username <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-u</code> 选项可以指定查找特定用户运行的进程。</p>
<h3 id="6-显示匹配进程的数量："><a href="#6-显示匹配进程的数量：" class="headerlink" title="6. 显示匹配进程的数量："></a>6. <strong>显示匹配进程的数量：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -c <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-c</code> 选项可以显示匹配进程的数量，而不是显示进程ID。</p>
<h3 id="7-根据父进程ID查找进程："><a href="#7-根据父进程ID查找进程：" class="headerlink" title="7. 根据父进程ID查找进程："></a>7. <strong>根据父进程ID查找进程：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -P parent_pid</span><br></pre></td></tr></table></figure>
<p>使用 <code>-P</code> 选项可以查找父进程ID为指定值的进程。</p>
<h3 id="8-查找并杀死进程："><a href="#8-查找并杀死进程：" class="headerlink" title="8. 查找并杀死进程："></a>8. <strong>查找并杀死进程：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>pkill</code> 命令可以通过进程名称直接杀死匹配的进程，不需要先获取进程ID。</p>
<h3 id="9-显示与进程关联的信号信息："><a href="#9-显示与进程关联的信号信息：" class="headerlink" title="9. 显示与进程关联的信号信息："></a>9. <strong>显示与进程关联的信号信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill -o -n -l -x <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-o</code>、<code>-n</code>、<code>-l</code> 和 <code>-x</code> 等选项可以显示与进程关联的信号信息。</p>
<h3 id="10-以进程启动的时间作为过滤条件："><a href="#10-以进程启动的时间作为过滤条件：" class="headerlink" title="10. 以进程启动的时间作为过滤条件："></a>10. <strong>以进程启动的时间作为过滤条件：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -o -n -l -x -t <span class="string">&quot;process_name&quot;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>-t</code> 选项可以以进程启动的时间作为过滤条件。</p>
<p>这些技巧使得 <code>pgrep</code> 命令更加强大和灵活，可以方便地根据不同的需求查找和操作进程。</p>
<h2 id="pgrep"><a href="#pgrep" class="headerlink" title="pgrep"></a>pgrep</h2><p><code>pgrep</code>是一个在Linux系统中用于根据进程名或其他条件查找进程ID（PID）的命令。它可以根据给定的进程名、用户、进程组、终端等条件进行匹配，然后返回符合条件的进程ID。</p>
<p>以下是<code>pgrep</code>命令的常用选项和用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep [options] pattern</span><br></pre></td></tr></table></figure>

<p>常用选项：</p>
<ul>
<li><code>-u, --euid euid</code>：根据有效用户ID查找进程。</li>
<li><code>-U, --uid uid</code>：根据实际用户ID查找进程。</li>
<li><code>-g, --gid gid</code>：根据进程组ID查找进程。</li>
<li><code>-t, --terminal terminal</code>：根据终端设备号查找进程。</li>
<li><code>-x, --exact</code>：精确匹配进程名，不进行模糊匹配。</li>
<li><code>-f, --full</code>：匹配进程的完整命令行。</li>
<li><code>-a, --list-full</code>：显示完整的进程信息，包括进程名和命令行。</li>
<li><code>-l, --list-name</code>：显示进程名和PID，类似于<code>ps</code>命令的输出。</li>
</ul>
<p>示例用法：</p>
<ol>
<li>根据进程名查找进程ID：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep nginx</span><br></pre></td></tr></table></figure>

<p>上述命令将返回所有进程名包含”nginx”的进程ID。</p>
<ol start="2">
<li>根据用户ID查找进程ID：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -u 1000</span><br></pre></td></tr></table></figure>

<p>上述命令将返回用户ID为1000的所有进程ID。</p>
<ol start="3">
<li>显示完整的进程信息：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pgrep -a nginx</span><br></pre></td></tr></table></figure>

<p>上述命令将显示所有进程名包含”nginx”的进程信息，包括进程名和命令行。</p>
<p><code>pgrep</code>命令还支持其他选项和用法，可以通过<code>man pgrep</code>命令查看详细的帮助文档。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_73_nc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/22/notebook/Linux/linux_2_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2024-05-22-linux_2_73_nc/" class="post-title-link" itemprop="url">linux_2_73_nc</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>nc命令</li>
</ul>
<h2 id="linux-nc命令-详解"><a href="#linux-nc命令-详解" class="headerlink" title="linux nc命令 详解"></a>linux nc命令 详解</h2><p><code>nc</code>（netcat）是一个用于网络通信的命令行工具。它可以用于创建 TCP 或 UDP 连接，进行端口扫描，以及在网络中传输数据。以下是一些 <code>nc</code> 命令的常见用法和选项：</p>
<h3 id="1-创建-TCP-连接："><a href="#1-创建-TCP-连接：" class="headerlink" title="1. 创建 TCP 连接："></a>1. <strong>创建 TCP 连接：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc host port</span><br></pre></td></tr></table></figure>
<p>通过指定主机和端口，可以使用 <code>nc</code> 命令创建一个 TCP 连接。</p>
<h3 id="2-创建-UDP-连接："><a href="#2-创建-UDP-连接：" class="headerlink" title="2. 创建 UDP 连接："></a>2. <strong>创建 UDP 连接：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -u host port</span><br></pre></td></tr></table></figure>
<p>通过添加 <code>-u</code> 选项，可以使用 <code>nc</code> 命令创建一个 UDP 连接。</p>
<h3 id="3-监听端口："><a href="#3-监听端口：" class="headerlink" title="3. 监听端口："></a>3. <strong>监听端口：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port</span><br></pre></td></tr></table></figure>
<p>通过添加 <code>-l</code> 选项，<code>nc</code> 可以作为服务器监听指定端口。<code>-p</code> 选项用于指定监听的端口。</p>
<h3 id="4-传输文件："><a href="#4-传输文件：" class="headerlink" title="4. 传输文件："></a>4. <strong>传输文件：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port &gt; received_file  <span class="comment"># 接收端</span></span><br><span class="line">nc host port &lt; local_file     <span class="comment"># 发送端</span></span><br></pre></td></tr></table></figure>
<p>通过 <code>nc</code> 命令，可以在网络中传输文件。在接收端使用 <code>&gt;</code> 将传输的内容保存到文件，而在发送端使用 <code>&lt;</code> 将本地文件内容发送到目标主机。</p>
<h3 id="5-端口扫描："><a href="#5-端口扫描：" class="headerlink" title="5. 端口扫描："></a>5. <strong>端口扫描：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -zv host start_port-end_port</span><br></pre></td></tr></table></figure>
<p>通过添加 <code>-z</code> 选项，<code>nc</code> 可以用于进行端口扫描。<code>-v</code> 选项用于显示详细信息。</p>
<h3 id="6-使用反向连接："><a href="#6-使用反向连接：" class="headerlink" title="6. 使用反向连接："></a>6. <strong>使用反向连接：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port -e /bin/bash</span><br></pre></td></tr></table></figure>
<p>在监听端使用 <code>-e</code> 选项可以在接收连接时执行指定的命令，例如在上面的例子中，接收到连接后会执行 <code>/bin/bash</code>。</p>
<h3 id="7-获取-HTTP-响应头："><a href="#7-获取-HTTP-响应头：" class="headerlink" title="7. 获取 HTTP 响应头："></a>7. <strong>获取 HTTP 响应头：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;HEAD / HTTP/1.1\r\n\r\n&quot;</span> | nc host port</span><br></pre></td></tr></table></figure>
<p>通过发送 HTTP HEAD 请求，可以获取远程服务器的响应头信息。</p>
<h3 id="8-保持连接打开："><a href="#8-保持连接打开：" class="headerlink" title="8. 保持连接打开："></a>8. <strong>保持连接打开：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -k -l -p port</span><br></pre></td></tr></table></figure>
<p>使用 <code>-k</code> 选项可以在每个连接断开后保持 <code>nc</code> 处于监听状态。</p>
<h3 id="9-限制传输速度："><a href="#9-限制传输速度：" class="headerlink" title="9. 限制传输速度："></a>9. <strong>限制传输速度：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port | pv -L 1k | tar xvf -</span><br></pre></td></tr></table></figure>
<p>使用 <code>pv</code> 命令可以限制传输速度。在上面的例子中，<code>nc</code> 接收到的数据通过 <code>pv</code> 限制了传输速度，然后通过 <code>tar</code> 解压缩。</p>
<h3 id="10-显示帮助信息："><a href="#10-显示帮助信息：" class="headerlink" title="10. 显示帮助信息："></a>10. <strong>显示帮助信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -h</span><br></pre></td></tr></table></figure>
<p>使用 <code>-h</code> 选项可以显示 <code>nc</code> 命令的帮助信息，列出可用的选项和参数。</p>
<p><code>nc</code> 命令非常强大且灵活，可以用于多种网络任务，如简单的网络通信、文件传输、端口扫描等。在使用 <code>nc</code> 命令时，请注意其强大的功能和潜在的安全风险，确保在安全环境中使用。</p>
<h2 id="linux-nc命令-常用技巧"><a href="#linux-nc命令-常用技巧" class="headerlink" title="linux nc命令 常用技巧"></a>linux nc命令 常用技巧</h2><p>以下是一些在使用 <code>nc</code>（netcat）命令时的常用技巧和选项，以便更灵活地进行网络通信和处理任务：</p>
<h3 id="1-创建-TCP-连接并发送数据："><a href="#1-创建-TCP-连接并发送数据：" class="headerlink" title="1. 创建 TCP 连接并发送数据："></a>1. <strong>创建 TCP 连接并发送数据：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, Server!&quot;</span> | nc host port</span><br></pre></td></tr></table></figure>
<p>通过管道将数据发送到指定主机和端口。</p>
<h3 id="2-监听端口并显示接收的数据："><a href="#2-监听端口并显示接收的数据：" class="headerlink" title="2. 监听端口并显示接收的数据："></a>2. <strong>监听端口并显示接收的数据：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port</span><br></pre></td></tr></table></figure>
<p>使用 <code>-l</code> 选项可以将 <code>nc</code> 设置为监听模式，并通过指定的端口接收数据。</p>
<h3 id="3-监听端口并将接收的数据保存到文件："><a href="#3-监听端口并将接收的数据保存到文件：" class="headerlink" title="3. 监听端口并将接收的数据保存到文件："></a>3. <strong>监听端口并将接收的数据保存到文件：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port &gt; received_data.txt</span><br></pre></td></tr></table></figure>
<p>通过重定向操作符 <code>&gt;</code> 将接收到的数据保存到文件。</p>
<h3 id="4-使用-UDP-进行数据传输："><a href="#4-使用-UDP-进行数据传输：" class="headerlink" title="4. 使用 UDP 进行数据传输："></a>4. <strong>使用 UDP 进行数据传输：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -u host port</span><br></pre></td></tr></table></figure>
<p>通过添加 <code>-u</code> 选项，可以使用 <code>nc</code> 命令创建一个 UDP 连接。</p>
<h3 id="5-发送文件到远程主机："><a href="#5-发送文件到远程主机：" class="headerlink" title="5. 发送文件到远程主机："></a>5. <strong>发送文件到远程主机：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar czf - /path/to/local_dir | nc host port</span><br></pre></td></tr></table></figure>
<p>使用 <code>tar</code> 和管道将本地目录压缩并发送到远程主机。</p>
<h3 id="6-接收文件并解压缩："><a href="#6-接收文件并解压缩：" class="headerlink" title="6. 接收文件并解压缩："></a>6. <strong>接收文件并解压缩：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port | tar xzf -</span><br></pre></td></tr></table></figure>
<p>在监听端使用 <code>nc</code> 接收数据，并通过管道将数据解压缩。</p>
<h3 id="7-端口扫描："><a href="#7-端口扫描：" class="headerlink" title="7. 端口扫描："></a>7. <strong>端口扫描：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -zv host start_port-end_port</span><br></pre></td></tr></table></figure>
<p>通过添加 <code>-z</code> 选项，<code>nc</code> 可以用于进行端口扫描。<code>-v</code> 选项用于显示详细信息。</p>
<h3 id="8-使用反向连接打开远程-Shell："><a href="#8-使用反向连接打开远程-Shell：" class="headerlink" title="8. 使用反向连接打开远程 Shell："></a>8. <strong>使用反向连接打开远程 Shell：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port -e /bin/bash</span><br></pre></td></tr></table></figure>
<p>在监听端使用 <code>-e</code> 选项可以在接收连接时执行指定的命令，例如在上面的例子中，接收到连接后会执行 <code>/bin/bash</code>。</p>
<h3 id="9-保持连接打开："><a href="#9-保持连接打开：" class="headerlink" title="9. 保持连接打开："></a>9. <strong>保持连接打开：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -k -l -p port</span><br></pre></td></tr></table></figure>
<p>使用 <code>-k</code> 选项可以在每个连接断开后保持 <code>nc</code> 处于监听状态。</p>
<h3 id="10-限制传输速度："><a href="#10-限制传输速度：" class="headerlink" title="10. 限制传输速度："></a>10. <strong>限制传输速度：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p port | pv -L 1k | tar xvf -</span><br></pre></td></tr></table></figure>
<p>使用 <code>pv</code> 命令可以限制传输速度。在上面的例子中，<code>nc</code> 接收到的数据通过 <code>pv</code> 限制了传输速度，然后通过 <code>tar</code> 解压缩。</p>
<h3 id="11-测试-HTTP-服务器的响应："><a href="#11-测试-HTTP-服务器的响应：" class="headerlink" title="11. 测试 HTTP 服务器的响应："></a>11. <strong>测试 HTTP 服务器的响应：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;GET / HTTP/1.1\r\nHost: example.com\r\n\r\n&quot;</span> | nc example.com 80</span><br></pre></td></tr></table></figure>
<p>通过发送 HTTP GET 请求，可以测试 HTTP 服务器的响应。</p>
<h3 id="12-显示帮助信息："><a href="#12-显示帮助信息：" class="headerlink" title="12. 显示帮助信息："></a>12. <strong>显示帮助信息：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -h</span><br></pre></td></tr></table></figure>
<p>使用 <code>-h</code> 选项可以显示 <code>nc</code> 命令的帮助信息，列出可用的选项和参数。</p>
<p>这些技巧可以帮助你更灵活地使用 <code>nc</code> 命令进行网络通信和处理任务。请注意，<code>nc</code> 是一个强大的工具，正确使用它并保障安全性非常重要。在网络上使用时，请确保你了解所有操作的后果，以避免潜在的安全风险。</p>
<h2 id="nc-常用选项"><a href="#nc-常用选项" class="headerlink" title="nc 常用选项"></a>nc 常用选项</h2><p><code>nc</code>（netcat）是一个功能强大的工具，具有许多选项，以适应各种网络连接和数据传输需求。以下是一些常用的 <code>nc</code> 命令选项：</p>
<ol>
<li><p><strong>基本选项：</strong></p>
<ul>
<li><code>-l</code>：监听模式，使 <code>nc</code> 成为服务器并等待连接。</li>
<li><code>-p &lt;port&gt;</code>：指定要监听或连接的端口号。</li>
<li><code>-u</code>：使用 UDP 协议而不是默认的 TCP 协议。</li>
<li><code>-v</code>：显示详细的输出，使操作更可见。</li>
</ul>
</li>
<li><p><strong>数据传输选项：</strong></p>
<ul>
<li><code>-e &lt;command&gt;</code>：在连接上运行指定的命令。仅在监听模式时可用，用于创建反向 shell 或执行其他操作。</li>
<li><code>-c &lt;command&gt;</code>：在连接上运行指定的命令。仅在监听模式时可用，类似于 <code>-e</code> 选项，但更通用。</li>
</ul>
</li>
<li><p><strong>连接选项：</strong></p>
<ul>
<li><code>-w &lt;timeout&gt;</code>：设置超时时间，如果在指定的时间内没有连接，则关闭。</li>
<li><code>-z</code>：进行端口扫描，但不发送数据，仅测试连接可达性。</li>
<li><code>-s &lt;source_ip&gt;</code>：设置源 IP 地址，用于伪装连接的源。</li>
</ul>
</li>
<li><p><strong>其他选项：</strong></p>
<ul>
<li><code>-k</code>：保持监听状态，即使有一个连接断开。</li>
<li><code>-n</code>：禁用 DNS 解析，使用 IP 地址而不是域名。</li>
<li><code>-q &lt;seconds&gt;</code>：设置间隔时间，用于在数据传输时产生延迟。</li>
</ul>
</li>
</ol>
<p>示例用法：</p>
<ul>
<li>创建 TCP 连接：<code>nc &lt;hostname&gt; &lt;port&gt;</code></li>
<li>创建 UDP 连接：<code>nc -u &lt;hostname&gt; &lt;port&gt;</code></li>
<li>监听 TCP 连接：<code>nc -l &lt;port&gt;</code></li>
<li>监听 UDP 连接：<code>nc -lu &lt;port&gt;</code></li>
<li>代理服务器：<code>nc -l -p &lt;port&gt; -c &quot;nc &lt;destination_host&gt; &lt;destination_port&gt;&quot;</code></li>
<li>端口转发：<code>nc -l -p &lt;local_port&gt; -c &quot;nc &lt;destination_host&gt; &lt;destination_port&gt;&quot;</code></li>
</ul>
<p>要查看完整的选项列表和详细说明，请在终端中运行 <code>man nc</code> 或 <code>nc --help</code>，以查看官方文档和帮助信息。不同的 <code>nc</code> 版本可能会有微小的差异，因此在实际使用时最好查阅适用版本的文档。</p>
<h2 id="netcat"><a href="#netcat" class="headerlink" title="netcat"></a>netcat</h2><p>Netcat（也称为 <code>nc</code>）是一个非常强大的网络工具，它在 Linux 系统中被广泛用于创建各种网络连接、数据传输和网络调试任务。以下是关于 Netcat 的一些详细说明：</p>
<ol>
<li><p><strong>基本用法：</strong><br>在终端中，你可以使用以下命令来创建简单的 TCP 或 UDP 连接：</p>
<ul>
<li>创建 TCP 连接：<code>nc &lt;hostname&gt; &lt;port&gt;</code></li>
<li>创建 UDP 连接：<code>nc -u &lt;hostname&gt; &lt;port&gt;</code></li>
</ul>
</li>
<li><p><strong>监听模式：</strong><br>Netcat 可以作为服务器监听端口，等待来自客户端的连接。使用以下命令来监听 TCP 或 UDP 连接：</p>
<ul>
<li>监听 TCP 连接：<code>nc -l &lt;port&gt;</code></li>
<li>监听 UDP 连接：<code>nc -lu &lt;port&gt;</code></li>
</ul>
</li>
<li><p><strong>文件传输：</strong><br>Netcat 可以用于在两台计算机之间传输文件。在发送端运行 <code>nc</code> 命令，而在接收端使用 <code>nc</code> 命令监听端口并保存传输的数据。例如：</p>
<ul>
<li>发送文件：<code>nc -w 3 &lt;receiver_ip&gt; &lt;port&gt; &lt; file_to_send</code></li>
<li>接收文件：<code>nc -l &lt;port&gt; &gt; received_file</code></li>
</ul>
</li>
<li><p><strong>端口扫描：</strong><br>使用 Netcat 可以进行基本的端口扫描，以检查目标主机上的哪些端口是开放的。例如，扫描前 1000 个端口：</p>
<ul>
<li><code>nc -zv &lt;hostname&gt; 1-1000</code></li>
</ul>
</li>
<li><p><strong>代理和端口转发：</strong><br>Netcat 还可以用于创建简单的代理服务器或端口转发。这对于将流量从一个端口转发到另一个端口或者通过一个中间主机进行连接很有用。例如：</p>
<ul>
<li>创建代理服务器：<code>nc -l -p &lt;port_to_listen&gt; -c &quot;nc &lt;destination_host&gt; &lt;destination_port&gt;&quot;</code></li>
<li>端口转发：<code>nc -l -p &lt;local_port&gt; -c &quot;nc &lt;destination_host&gt; &lt;destination_port&gt;&quot;</code></li>
</ul>
</li>
<li><p><strong>其他高级用法：</strong><br>Netcat 还支持许多高级特性，例如使用 <code>-e</code> 选项在连接上运行指定的命令，使用 <code>-k</code> 选项保持监听状态，以及使用 <code>-s</code> 选项设置源 IP 地址等。</p>
</li>
</ol>
<p>请注意，Netcat 是一个功能强大但也可能存在潜在风险的工具。由于其能够在网络上创建各种连接和交换数据，因此可能被滥用用于恶意活动。在使用 Netcat 时，请确保你了解其操作，并遵循合法和道德的使用原则。</p>
<p>要查看更多关于 Netcat 的详细信息和用法，请在终端中运行 <code>man nc</code> 或 <code>nc --help</code>，以查看官方文档和帮助信息。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/28/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/30/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zhang junyi</p>
  <div class="site-description" itemprop="description">工作学习笔记</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">686</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">99</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/junyiha" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;junyiha" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://x.com/zhangjunyiha" title="Twitter → https:&#x2F;&#x2F;x.com&#x2F;zhangjunyiha" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhang junyi</span>
</div>

<!--
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
