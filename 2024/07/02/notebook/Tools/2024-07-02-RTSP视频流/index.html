<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"junyiha.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="rtsp视频流是什么RTSP（Real-Time Streaming Protocol，即实时流传输协议）是一种网络协议，用于控制音频或视频流的传输。RTSP允许客户端从服务器请求媒体流并进行播放、暂停、停止等操作。它通常用于IP摄像头、直播流媒体服务器和其他需要实时流传输的应用场景。 RTSP协议的主要特点包括：  实时性：RTSP适用于需要实时传输音视频的应用，如直播和视频会议。 控制性：RT">
<meta property="og:type" content="article">
<meta property="og:title" content="RTSP视频流">
<meta property="og:url" content="https://junyiha.github.io/2024/07/02/notebook/Tools/2024-07-02-RTSP%E8%A7%86%E9%A2%91%E6%B5%81/index.html">
<meta property="og:site_name" content="junyi&#39;s blog">
<meta property="og:description" content="rtsp视频流是什么RTSP（Real-Time Streaming Protocol，即实时流传输协议）是一种网络协议，用于控制音频或视频流的传输。RTSP允许客户端从服务器请求媒体流并进行播放、暂停、停止等操作。它通常用于IP摄像头、直播流媒体服务器和其他需要实时流传输的应用场景。 RTSP协议的主要特点包括：  实时性：RTSP适用于需要实时传输音视频的应用，如直播和视频会议。 控制性：RT">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-07-02T01:00:00.000Z">
<meta property="article:modified_time" content="2025-04-28T08:08:39.557Z">
<meta property="article:author" content="zhang junyi">
<meta property="article:tag" content="Tools">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://junyiha.github.io/2024/07/02/notebook/Tools/2024-07-02-RTSP%E8%A7%86%E9%A2%91%E6%B5%81/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>RTSP视频流 | junyi's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">junyi's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">hahahahaha</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/07/02/notebook/Tools/2024-07-02-RTSP%E8%A7%86%E9%A2%91%E6%B5%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          RTSP视频流
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-02 09:00:00" itemprop="dateCreated datePublished" datetime="2024-07-02T09:00:00+08:00">2024-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Cpp/" itemprop="url" rel="index"><span itemprop="name">Cpp</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="rtsp视频流是什么"><a href="#rtsp视频流是什么" class="headerlink" title="rtsp视频流是什么"></a>rtsp视频流是什么</h2><p>RTSP（Real-Time Streaming Protocol，即实时流传输协议）是一种网络协议，用于控制音频或视频流的传输。RTSP允许客户端从服务器请求媒体流并进行播放、暂停、停止等操作。它通常用于IP摄像头、直播流媒体服务器和其他需要实时流传输的应用场景。</p>
<p>RTSP协议的主要特点包括：</p>
<ol>
<li><strong>实时性</strong>：RTSP适用于需要实时传输音视频的应用，如直播和视频会议。</li>
<li><strong>控制性</strong>：RTSP允许客户端对流媒体进行控制，例如开始、暂停、停止和快进。</li>
<li><strong>独立于传输</strong>：RTSP可以与各种传输协议（如RTP、UDP、TCP等）结合使用，以适应不同的网络环境。</li>
<li><strong>灵活性</strong>：RTSP可以支持不同的媒体格式和传输机制，使其适应各种应用需求。</li>
</ol>
<p>常见的RTSP使用场景包括：</p>
<ul>
<li>网络摄像头（IP摄像头）的实时视频监控</li>
<li>流媒体服务器的直播传输</li>
<li>视频点播（VoD）服务</li>
</ul>
<p>RTSP流的典型URL格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtsp://[用户名]:[密码]@[IP地址]:[端口]/[路径]</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtsp://user:password@192.168.1.100:554/stream1</span><br></pre></td></tr></table></figure>

<p>这表示客户端可以使用RTSP协议连接到IP地址为192.168.1.100的服务器，端口为554，并请求路径为<code>/stream1</code>的媒体流。</p>
<h2 id="实时传输协议RTP与RTCP"><a href="#实时传输协议RTP与RTCP" class="headerlink" title="实时传输协议RTP与RTCP"></a>实时传输协议RTP与RTCP</h2><ul>
<li><p>RTP(Real-time Transport Protocol)是用于Internet上针对多媒体数据流的一种传输协议。</p>
</li>
<li><p>RTP协议是建立在UDP协议上的。RTP协议详细说明了在互联网上传递音频和视频的标准数据包格式。RTP协议常用于流媒体系统(配合RTCP协议)，视频会议和视频电话系统(配合H.263或SIP)</p>
</li>
<li><p>RTP本身并没有提供按时发送机制或其他服务质量(Qos)保证，它依赖于底层服务去实现这一过程。RTP并不保证传送或防止无序传送，也不确定底层网络的可靠性。</p>
</li>
<li><p>RTP中的序列号允许接收方重组发送方的包序列，同时序列号也能用于决定适当的包位置，例如：在视频解码中，就不需要顺序解码。</p>
</li>
<li><p>实时传输控制协议(Real-time Transport Control Protocol, RTCP)是实时传输协议(RTP)的一个姐妹协议。RTCP为RTP媒体流提供信道外控制。RTCP定期在流媒体会话参加者之间传输控制数据。</p>
</li>
<li><p>RTCP的主要功能是为RTP所提供的服务质量提供反馈。RTCP收集相关媒体连接的统计信息，例如：传输字节数，传输分组数，丢失分组数，时延抖动，单向和双向网络延迟等等。</p>
</li>
<li><p>网络应用程序可以利用RTCP所提供的信息试图提高服务质量，比如限制信息流量或改用压缩比较小的编解码器。RTCP本身不提供数据加密或身份认证，其伴生协议STRCP(安全实时传输控制协议)则可以用于此类用途。</p>
</li>
</ul>
<h2 id="RTP协议是什么"><a href="#RTP协议是什么" class="headerlink" title="RTP协议是什么"></a>RTP协议是什么</h2><p>RTP（Real-time Transport Protocol，即实时传输协议）是一种网络协议，专门用于通过IP网络传输实时音视频数据。它是由IETF（Internet Engineering Task Force）定义的标准协议，用于在互联网上传输实时媒体流。</p>
<p>RTP协议的主要特点和功能包括：</p>
<ol>
<li><strong>实时传输</strong>：RTP适用于需要低延迟的实时应用，如视频会议、IP电话和流媒体播放。</li>
<li><strong>数据包封装</strong>：RTP将音视频数据封装成数据包，以便在网络上传输。每个RTP包包含一个序列号和时间戳，用于保证数据包的顺序和同步。</li>
<li><strong>传输质量监控</strong>：RTP通常与RTCP（Real-time Transport Control Protocol，即实时传输控制协议）一起使用。RTCP提供了传输质量的反馈信息，如丢包率、延迟和抖动等，帮助优化传输质量。</li>
<li><strong>灵活性</strong>：RTP支持各种音视频编解码器和媒体格式，使其适用于不同类型的媒体流。</li>
</ol>
<p>RTP通常与其他协议一起使用，如：</p>
<ul>
<li><strong>RTSP（实时流传输协议）</strong>：用于控制RTP流的传输。</li>
<li><strong>SIP（会话发起协议）</strong>：用于建立、修改和终止多媒体会话，如IP电话。</li>
<li><strong>SDP（会话描述协议）</strong>：用于描述多媒体会话的参数，包括媒体类型、格式、传输地址和端口等。</li>
</ul>
<p>一个典型的RTP数据包结构如下：</p>
<ul>
<li><strong>版本号</strong>：指示RTP版本。</li>
<li><strong>序列号</strong>：用于标识数据包的顺序。</li>
<li><strong>时间戳</strong>：用于同步音视频流。</li>
<li><strong>有效负载类型</strong>：指示数据包中承载的媒体类型和编码方式。</li>
<li><strong>源标识符（SSRC）</strong>：唯一标识发送RTP流的源。</li>
</ul>
<p>通过这些特性，RTP能够确保实时音视频数据的有效传输和同步，从而在互联网上提供高质量的实时多媒体通信。</p>
<h2 id="RTCP协议是什么"><a href="#RTCP协议是什么" class="headerlink" title="RTCP协议是什么"></a>RTCP协议是什么</h2><p>RTCP（Real-time Transport Control Protocol，即实时传输控制协议）是一种网络协议，用于与RTP（Real-time Transport Protocol，即实时传输协议）一起工作，提供对实时数据流传输质量的监控和控制。RTCP并不传输媒体数据本身，而是传输控制信息，帮助管理和优化媒体传输。</p>
<p>RTCP的主要功能包括：</p>
<ol>
<li><p><strong>传输质量反馈</strong>：RTCP提供有关传输质量的反馈信息，如数据包丢失率、延迟和抖动。这些信息可以帮助发送方和接收方调整传输参数，以提高传输质量。</p>
</li>
<li><p><strong>参与者标识</strong>：RTCP允许每个参与者报告其标识信息，如名称和邮箱地址。这有助于在多方通信中识别各个参与者。</p>
</li>
<li><p><strong>带宽管理</strong>：RTCP可以帮助控制会话的带宽使用。通过反馈信息，发送方可以调整传输速率，以避免网络拥塞。</p>
</li>
<li><p><strong>同步多媒体流</strong>：RTCP可以协助同步来自不同源的多个RTP流（如音频和视频），以确保它们在接收端正确地同步播放。</p>
</li>
</ol>
<p>RTCP报文类型主要有以下几种：</p>
<ol>
<li><p><strong>SR（Sender Report，发送报告）</strong>：由RTP流的发送者定期发送，包含发送的RTP包数和字节数，以及与接收者同步的时间信息。</p>
</li>
<li><p><strong>RR（Receiver Report，接收报告）</strong>：由RTP流的接收者定期发送，包含接收到的RTP包数、丢包率、往返时间等统计信息。</p>
</li>
<li><p><strong>SDES（Source Description Items，源描述项）</strong>：包含源标识符和相关的文本信息（如参与者的名字）。</p>
</li>
<li><p><strong>BYE</strong>：通知结束会话的消息，表示发送者将退出会话。</p>
</li>
<li><p><strong>APP（Application Specific Message，应用特定消息）</strong>：用于传输特定应用定义的控制信息。</p>
</li>
</ol>
<p>通过与RTP一起使用，RTCP能够提供有效的传输控制和质量管理，确保实时媒体流的传输质量和可靠性。这使得RTCP成为多媒体通信中不可或缺的协议之一。</p>
<h2 id="实时消息传输协议RTMP"><a href="#实时消息传输协议RTMP" class="headerlink" title="实时消息传输协议RTMP"></a>实时消息传输协议RTMP</h2><p>RTMP（Real-Time Messaging Protocol，即实时消息传输协议）是一种由Adobe Systems开发的协议，主要用于在互联网或局域网上进行音频、视频和数据的实时传输。RTMP最初用于支持Adobe Flash播放器，但现已被广泛用于各种流媒体传输应用，尤其是在直播流媒体中。</p>
<p>RTMP的主要特点和功能包括：</p>
<ol>
<li><strong>低延迟传输</strong>：RTMP能够实现低延迟的音视频数据传输，这使其非常适用于直播和实时互动场景。</li>
<li><strong>持续连接</strong>：RTMP通过TCP连接传输数据，保持与服务器的持久连接，以确保数据的可靠传输和最小化延迟。</li>
<li><strong>多路复用</strong>：RTMP支持将音频、视频和控制信息多路复用在一个TCP连接上，从而简化了传输过程。</li>
<li><strong>灵活性</strong>：RTMP支持多种音频和视频编解码器，包括H.264和AAC，这使其能够适应不同的媒体格式和质量要求。</li>
<li><strong>控制消息</strong>：RTMP支持多种控制消息，如暂停、播放、停止等，以便对流媒体进行实时控制。</li>
</ol>
<p>RTMP的传输过程通常分为三个阶段：</p>
<ol>
<li><strong>握手阶段</strong>：客户端和服务器通过交换握手消息建立连接，并协商通信参数。</li>
<li><strong>连接阶段</strong>：客户端向服务器发送连接请求，并建立会话。</li>
<li><strong>数据传输阶段</strong>：客户端和服务器之间开始传输音视频数据和控制消息。</li>
</ol>
<p>RTMP有几个变种，包括：</p>
<ul>
<li><strong>RTMPT（RTMP Tunneled）</strong>：通过HTTP进行封装，以绕过防火墙。</li>
<li><strong>RTMPS（RTMP Secure）</strong>：使用SSL&#x2F;TLS加密的RTMP，提供安全的数据传输。</li>
<li><strong>RTMPE（RTMP Encrypted）</strong>：使用Adobe的加密机制进行加密，提供安全的数据传输。</li>
</ul>
<p>一个典型的RTMP URL格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtmp://[服务器IP或域名]/[应用名称]/[流名称]</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtmp://live.example.com/app/stream</span><br></pre></td></tr></table></figure>

<p>这表示客户端可以使用RTMP协议连接到<code>live.example.com</code>服务器，请求<code>app</code>应用中的<code>stream</code>流。</p>
<p>尽管RTMP已经不再是主流，但它仍然在许多直播平台和视频传输系统中使用。现代替代方案如HLS（HTTP Live Streaming）和DASH（Dynamic Adaptive Streaming over HTTP）在许多新应用中更为常见。</p>
<ul>
<li><p>RTMP是Adobe Systems公司为Flash播放器和服务器之间音频，视频和数据传输开发的开放协议。它有三种变种</p>
<ul>
<li>工作在TCP之上的明文协议，使用端口1935</li>
<li>RTMPT封装在HTTP请求之中，可穿越防火墙</li>
<li>RTMPS类似RTMPT，但使用的是HTTPS连接</li>
</ul>
</li>
<li><p>RTMP视频播放的特点是</p>
<ul>
<li>RTMP协议是采用实时的流式传输，所以不会缓存文件到客户端，这种特性说明用户想下载RTMP协议下的视频是比较难的。</li>
<li>视频流可以随意拖动，既可以从任意时间点向服务器发送请求进行播放，并不需要视频有关键帧。相比而言，HTTP协议下视频需要有关键帧才可以随意拖动</li>
<li>RTMP协议支持点播&#x2F;回放(通俗点讲，就是支持把flv, f4v, mp4文件放在RTMP服务器，客户端可以直接播放)，直播(边录制视频边播放)</li>
</ul>
</li>
</ul>
<h2 id="HLS"><a href="#HLS" class="headerlink" title="HLS"></a>HLS</h2><p>HLS（HTTP Live Streaming，即HTTP实时流传输协议）是一种基于HTTP的流媒体传输协议，由苹果公司开发。HLS最早在2009年与iOS 3.0一起发布，现已成为一种广泛使用的流媒体传输标准，适用于直播和点播视频。</p>
<p>HLS的主要特点和功能包括：</p>
<ol>
<li><strong>基于HTTP</strong>：HLS使用标准的HTTP协议传输数据，因此能够通过现有的HTTP基础设施（如CDN和HTTP缓存服务器）进行流媒体分发。</li>
<li><strong>分片传输</strong>：HLS将媒体内容分割成小的时间片段（通常是几秒钟的长度），每个片段以单独的HTTP请求进行传输。这种分片传输方式可以更好地适应网络波动，提供更流畅的观看体验。</li>
<li><strong>自适应比特率</strong>：HLS支持自适应比特率传输，客户端可以根据当前的网络状况动态选择不同质量的媒体片段，从而在网络带宽变化时提供最佳的观看体验。</li>
<li><strong>跨平台支持</strong>：HLS不仅支持苹果设备（如iPhone、iPad和Apple TV），还可以在其他操作系统和设备上使用，包括Android设备、智能电视和Web浏览器。</li>
<li><strong>简单实现</strong>：由于HLS基于HTTP协议，实现相对简单，并且容易与现有的Web技术集成。</li>
</ol>
<p>HLS工作流程如下：</p>
<ol>
<li><strong>媒体切片</strong>：服务器将媒体内容分割成一系列小的、连续的TS（MPEG-2 Transport Stream）文件，这些文件通常是几秒钟的长度。</li>
<li><strong>索引文件（M3U8）</strong>：服务器生成一个索引文件（通常是M3U8格式），列出所有媒体片段的URL。这个文件称为播放列表，包含了媒体片段的顺序和位置。</li>
<li><strong>客户端请求</strong>：客户端请求播放列表（M3U8文件），并根据播放列表中的URL逐个请求媒体片段。</li>
<li><strong>播放和缓存</strong>：客户端下载并播放媒体片段，同时可以缓存一定数量的片段以应对网络波动。</li>
</ol>
<p>一个典型的HLS播放列表文件（M3U8）的示例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#EXTM3U</span><br><span class="line">#EXT-X-VERSION:3</span><br><span class="line">#EXT-X-TARGETDURATION:10</span><br><span class="line">#EXT-X-MEDIA-SEQUENCE:0</span><br><span class="line">#EXTINF:10.0,</span><br><span class="line">http://example.com/segment0.ts</span><br><span class="line">#EXTINF:10.0,</span><br><span class="line">http://example.com/segment1.ts</span><br><span class="line">#EXTINF:10.0,</span><br><span class="line">http://example.com/segment2.ts</span><br></pre></td></tr></table></figure>

<p>这个播放列表文件指示客户端依次请求和播放<code>segment0.ts</code>、<code>segment1.ts</code>和<code>segment2.ts</code>，每个片段长度为10秒。</p>
<p>HLS在流媒体行业中得到广泛应用，特别是在直播和视频点播服务中，成为了许多视频传输解决方案的基础。</p>
<ul>
<li>HTTP Live Streaming(HLS)是苹果公司实现的基于HTTP的流媒体传输协议，可实现流媒体的直播和点播，主要应用于IOS系统。HLS点播是分段HTTP点播，不同在于它的分段非常小。要实现HLS点播，重点在于对媒体文件分段，目前有不少开源工具可以使用。</li>
<li>相对于常见的流媒体直播协议，HLS直播最大的不同在于，直播客户端获得的并不是一个完整的数据流，HLS协议再服务器端将直播数据流存储为连续的，很短时长的媒体文件(MPEG-TS格式)。而客户端则不断的下载并播放这些小文件，因为服务器总是会将最新的直播数据生成新的小文件，这样客户端只要不停的按顺序播放从服务器获取到的文件，就实现了直播。由此可见，基本上可以认为，HLS是以点播的技术方式实现直播。由于数据通过HTTP协议传输，所以完全不用考虑防火墙或者代理的问题，而且分段文件的时长很短，客户端可以很快的选择和切换码率，以适应不同带宽条件下的播放。不过HLS的这种技术特点，决定了它的延迟一般总是会高于普通的流媒体直播协议。</li>
</ul>

    </div>

    
    
    
        <div class="reward-container">
  <div>感谢老板支持！敬礼(^^ゞ</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="zhang junyi WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="zhang junyi Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Tools/" rel="tag"># Tools</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/06/27/notebook/Books/2024-06-27-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AE%97%E6%B3%95%E4%B8%8E%E5%BA%94%E7%94%A8-C++/" rel="prev" title="数据结构，算法与应用 C++">
      <i class="fa fa-chevron-left"></i> 数据结构，算法与应用 C++
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/07/10/notebook/Docker/2024-07-10-docker_4_%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" rel="next" title="docker_4_常见问题">
      docker_4_常见问题 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#rtsp%E8%A7%86%E9%A2%91%E6%B5%81%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.</span> <span class="nav-text">rtsp视频流是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%97%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AERTP%E4%B8%8ERTCP"><span class="nav-number">2.</span> <span class="nav-text">实时传输协议RTP与RTCP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RTP%E5%8D%8F%E8%AE%AE%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">3.</span> <span class="nav-text">RTP协议是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RTCP%E5%8D%8F%E8%AE%AE%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">4.</span> <span class="nav-text">RTCP协议是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%97%B6%E6%B6%88%E6%81%AF%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AERTMP"><span class="nav-number">5.</span> <span class="nav-text">实时消息传输协议RTMP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HLS"><span class="nav-number">6.</span> <span class="nav-text">HLS</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zhang junyi</p>
  <div class="site-description" itemprop="description">工作学习笔记</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">672</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">98</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/junyiha" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;junyiha" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://x.com/zhangjunyiha" title="Twitter → https:&#x2F;&#x2F;x.com&#x2F;zhangjunyiha" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhang junyi</span>
</div>

<!--
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
