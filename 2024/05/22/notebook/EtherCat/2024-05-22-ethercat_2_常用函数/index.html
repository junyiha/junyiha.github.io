<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"junyiha.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="简介 ethercat常用函数  ethercat1.1 启动，设置 ethercat都是在root用户下执行命令  设置从站  ethercat alias -p 2 0:2   启动ethercat  &#x2F;etc&#x2F;init.d&#x2F;ethercat start   查看状态  ethercat slv    1.2 调试命令 查看从站状态码  ethercat upload -t int16 -p">
<meta property="og:type" content="article">
<meta property="og:title" content="EtherCat_2_常用函数">
<meta property="og:url" content="https://junyiha.github.io/2024/05/22/notebook/EtherCat/2024-05-22-ethercat_2_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/index.html">
<meta property="og:site_name" content="junyi&#39;s blog">
<meta property="og:description" content="简介 ethercat常用函数  ethercat1.1 启动，设置 ethercat都是在root用户下执行命令  设置从站  ethercat alias -p 2 0:2   启动ethercat  &#x2F;etc&#x2F;init.d&#x2F;ethercat start   查看状态  ethercat slv    1.2 调试命令 查看从站状态码  ethercat upload -t int16 -p">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-05-22T01:00:00.000Z">
<meta property="article:modified_time" content="2025-04-28T08:08:39.301Z">
<meta property="article:author" content="zhang junyi">
<meta property="article:tag" content="EtherCat">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://junyiha.github.io/2024/05/22/notebook/EtherCat/2024-05-22-ethercat_2_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>EtherCat_2_常用函数 | junyi's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">junyi's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">hahahahaha</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://junyiha.github.io/2024/05/22/notebook/EtherCat/2024-05-22-ethercat_2_%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhang junyi">
      <meta itemprop="description" content="工作学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="junyi's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          EtherCat_2_常用函数
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-05-22 09:00:00" itemprop="dateCreated datePublished" datetime="2024-05-22T09:00:00+08:00">2024-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-28 16:08:39" itemprop="dateModified" datetime="2025-04-28T16:08:39+08:00">2025-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/EtherCat/" itemprop="url" rel="index"><span itemprop="name">EtherCat</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul>
<li>ethercat常用函数</li>
</ul>
<h2 id="ethercat"><a href="#ethercat" class="headerlink" title="ethercat"></a>ethercat</h2><h2 id="1-1-启动，设置"><a href="#1-1-启动，设置" class="headerlink" title="1.1 启动，设置"></a>1.1 启动，设置</h2><ul>
<li><p>ethercat都是在root用户下执行命令</p>
</li>
<li><p>设置从站</p>
<ul>
<li>ethercat alias -p 2 0:2</li>
</ul>
</li>
<li><p>启动ethercat</p>
<ul>
<li><code>/etc/init.d/ethercat start</code></li>
</ul>
</li>
<li><p>查看状态</p>
<ul>
<li><code>ethercat slv</code></li>
</ul>
</li>
</ul>
<h2 id="1-2-调试命令"><a href="#1-2-调试命令" class="headerlink" title="1.2 调试命令"></a>1.2 调试命令</h2><ul>
<li><p>查看从站状态码</p>
<ul>
<li><code>ethercat upload -t int16 -p 0 0x603f 00</code></li>
</ul>
</li>
<li><p>查看从站位置：</p>
<ul>
<li><code>ethercat upload -t int32 -p 0 0x6064 00</code></li>
</ul>
</li>
</ul>
<h2 id="1-2-demo-webserver-c-分析"><a href="#1-2-demo-webserver-c-分析" class="headerlink" title="1.2 demo_webserver.c 分析"></a>1.2 demo_webserver.c 分析</h2><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h2 id="ec-pdo-entry-info-t"><a href="#ec-pdo-entry-info-t" class="headerlink" title="ec_pdo_entry_info_t"></a><code>ec_pdo_entry_info_t</code></h2><ul>
<li>简介：PDO条目配置信息。这是<code>ec_pdo_info_t</code>中的<code>entries</code>字段的数据类型</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">  <span class="type">uint16_t</span> index;      <span class="comment">/**&lt; PDO entry index. */</span></span><br><span class="line">  <span class="type">uint8_t</span>  subindex;   <span class="comment">/**&lt; PDO entry subindex. */</span></span><br><span class="line">  <span class="type">uint8_t</span>  bit_length; <span class="comment">/**&lt; Size of the PDO entry in bit. */</span></span><br><span class="line">&#125; <span class="type">ec_pdo_entry_info_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ec-pdo-info-t"><a href="#ec-pdo-info-t" class="headerlink" title="ec_pdo_info_t"></a><code>ec_pdo_info_t</code></h2><ul>
<li>简介：PDO配置信息。这是<code>ec_sync_info_t</code>中的<code>pdos</code>字段的数据类型</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">  <span class="type">uint16_t</span> index;              <span class="comment">/**&lt; PDO index. */</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> n_entries;      <span class="comment">/**&lt; 要映射的entries PDO条目数 (0表示使用默认映射，这只能在从服务器处于总线配置时完成)*/</span></span><br><span class="line">  <span class="type">ec_pdo_entry_info_t</span> *entries;<span class="comment">/**&lt; 要映射的PDO项数组。可以是NULL，或者必须包含至少n_entries个值*/</span></span><br><span class="line">&#125; <span class="type">ec_pdo_info_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ec-sync-info-t"><a href="#ec-sync-info-t" class="headerlink" title="ec_sync_info_t"></a><code>ec_sync_info_t</code></h2><ul>
<li>简介：同步管理器配置信息。这可以用于配置多个同步管理器，包括PDO分配和PDO映射。它被作为<code>ecrt_slave_config_pdos()</code>函数的输入参数使用</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">  <span class="type">uint8_t</span> index;  <span class="comment">/**&lt; 同步管理器索引。Sync manager index.Must be less than #EC_MAX_SYNC_MANAGERS for a valid sync manager,but can also be \a 0xff to mark the end of the list. */</span></span><br><span class="line">  <span class="type">ec_direction_t</span> dir;  <span class="comment">/**&lt;同步管理器方向 */</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span>   n_pdos;  <span class="comment">/**&lt; PDOs在pdos结构体数组中的数量 */</span></span><br><span class="line">  <span class="type">ec_pdo_info_t</span>  *pdos;  <span class="comment">/**&lt;带有要分配的pdo的数组。所包含的PDOs必须不少于n_pdos</span></span><br><span class="line"><span class="comment">  ec_watchdog_mode_t watchdog_mode;  /**&lt; 看门狗模式 */</span></span><br><span class="line">&#125; <span class="type">ec_sync_info_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ec-master-t"><a href="#ec-master-t" class="headerlink" title="ec_master_t"></a><code>ec_master_t</code></h2><ul>
<li>简介：主站</li>
</ul>
<h2 id="ecrt-master-state-t"><a href="#ecrt-master-state-t" class="headerlink" title="ecrt_master_state_t"></a><code>ecrt_master_state_t</code></h2><ul>
<li>简介：主站状态，这个是用于函数<code>ecrt_master_state()</code>函数的输出参数</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> slaves_responding;  <span class="comment">// 所有Ethernet设备响应从站的总和</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> al_states : <span class="number">4</span>;      <span class="comment">// 所有从站的应用层状态。状态被编码在较低的4位。如果设置了一个比特位，就意味着至少有一个从站在主线上响应：Bit 0: \a INIT；Bit 1: \a PREOP；Bit 2: \a SAFEOP；Bit 3: \a OP */</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> link_up : <span class="number">1</span>;        <span class="comment">// true，如果至少有一个 Ethernet link是在线的，则为true</span></span><br><span class="line">&#125; <span class="type">ec_master_state_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ec-slave-config-t"><a href="#ec-slave-config-t" class="headerlink" title="ec_slave_config_t"></a><code>ec_slave_config_t</code></h2><ul>
<li>简介：从站配置</li>
</ul>
<h2 id="ec-slave-config-state-t"><a href="#ec-slave-config-state-t" class="headerlink" title="ec_slave_config_state_t"></a><code>ec_slave_config_state_t</code></h2><ul>
<li>简介：从站配置状态。它用于函数<code>ecrt_slave_config_state()</code>的输出参数</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> online : <span class="number">1</span>;      <span class="comment">// 这个从站是在线的</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> operational : <span class="number">1</span>; <span class="comment">// 这个从站通过指定配置进入OP状态</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> al_state : <span class="number">4</span>;    <span class="comment">// 应用层的从站状态：1: \a INIT；2: \a PREOP；4: \a SAFEOP；8: \a OP</span></span><br><span class="line">&#125; <span class="type">ec_slave_config_state_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ec-domain-t"><a href="#ec-domain-t" class="headerlink" title="ec_domain_t"></a><code>ec_domain_t</code></h2><ul>
<li>简介：域</li>
</ul>
<h2 id="ec-wc-state-t"><a href="#ec-wc-state-t" class="headerlink" title="ec_wc_state_t"></a><code>ec_wc_state_t</code></h2><ul>
<li>简介：域工作计数器状态说明。这个是在<code>ec_domain_state_t</code>中使用</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">  EC_WC_ZERO = <span class="number">0</span>,   <span class="comment">// 没有交换注册的过程数据</span></span><br><span class="line">  EC_WC_INCOMPLETE, <span class="comment">// 交换了一些已注册的过程数据(部分过程数据)</span></span><br><span class="line">  EC_WC_COMPLETE    <span class="comment">// 交换了所有已注册的过程数据</span></span><br><span class="line">&#125; <span class="type">ec_wc_state_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ec-domain-state-t"><a href="#ec-domain-state-t" class="headerlink" title="ec_domain_state_t"></a><code>ec_domain_state_t</code></h2><ul>
<li>简介：域状态。它被作为函数<code>ecrt_domain_state()</code>的输出参数使用</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> working_counter;   <span class="comment">// 最后一个工作计数器的值</span></span><br><span class="line">  <span class="type">ec_wc_state_t</span> ws_state;         <span class="comment">// 工作计数器状态说明</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> redundancy_active; <span class="comment">// 冗余链路正在使用</span></span><br><span class="line">&#125; <span class="type">ec_domain_state_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ec-pdo-entry-reg-t"><a href="#ec-pdo-entry-reg-t" class="headerlink" title="ec_pdo_entry_reg_t"></a><code>ec_pdo_entry_reg_t</code></h2><ul>
<li>简介：列出PDO条目批量注册的记录类型。此类型用于<code>ecrt_domain_reg_pdo_entry_list()</code>的数组参数。</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">  <span class="type">uint16_t</span> alias;             <span class="comment">// 从站别名地址</span></span><br><span class="line">  <span class="type">uint16_t</span> position;          <span class="comment">// 从站位置</span></span><br><span class="line">  <span class="type">uint32_t</span> vendor_id;         <span class="comment">// 从站供销商ID</span></span><br><span class="line">  <span class="type">uint32_t</span> product_code;      <span class="comment">// 从站产品码</span></span><br><span class="line">  <span class="type">uint16_t</span> index;             <span class="comment">// PDO条目索引</span></span><br><span class="line">  <span class="type">uint8_t</span>  subindex;          <span class="comment">// PDO条目子索引</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> *offset;       <span class="comment">// 指向在进程数据中存储PDO条目(字节-)偏移量的变量的指针。</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> *bit_position; <span class="comment">// 指向一个变量的指针，用于在\a偏移量内存储位位置(0-7)。可以为NULL，在这种情况下，如果PDO条目不字节对齐会引发错误</span></span><br><span class="line">&#125; <span class="type">ec_pdo_entry_reg_t</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h2 id="ecrt-master-create-domain"><a href="#ecrt-master-create-domain" class="headerlink" title="ecrt_master_create_domain"></a><code>ecrt_master_create_domain</code></h2><ul>
<li>简介：创建一个新的过程数据域。对于流程数据交换，至少需要一个流程数据域。这个方法创建一个新的过程数据域，并返回一个指向新域对象的指针。这个对象能够在循环操作中用于注册PDOs和交换PDOs</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">ec_domain_t</span> *<span class="title">ecrt_master_create_domain</span><span class="params">( <span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ecrt-request-master"><a href="#ecrt-request-master" class="headerlink" title="ecrt_request_master"></a><code>ecrt_request_master</code></h2><ul>
<li>简介：请求EtherCAT主机进行实时操作。<ul>
<li>在应用程序可以访问EtherCAT主机之前，它必须预留一个专用的主机。</li>
<li>在用户空间，这是<code>ecrt_open_master()</code>和<code>ecrt_master_reserve()</code>的方便函数。</li>
<li>这个函数必须是应用程序使用EtherCAT时必须调用的第一个函数</li>
<li>该函数以master的索引作为参数。第一个主节点的索引为0，第n个主节点的索引为n- 1。</li>
<li>在加载master时，必须指定master的数量。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">ec_master_t</span> *<span class="title">ecrt_request_master</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> master_index)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ecrt-master-sdo-upload"><a href="#ecrt-master-sdo-upload" class="headerlink" title="ecrt_master_sdo_upload"></a><code>ecrt_master_sdo_upload</code></h2><ul>
<li>简介：执行SDO上传请求从从站读取数据。<ul>
<li>此请求由主状态机处理。</li>
<li>他的方法会阻塞，直到请求被处理，并且不能在实时上下文中调用。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_sdo_upload</span><span class="params">(<span class="type">ec_master_t</span> *master, <span class="type">uint16_t</span> slave_position, <span class="type">uint16_t</span> index, <span class="type">uint8_t</span> subindex, <span class="type">uint8_t</span> *target, <span class="type">size_t</span> target_size, <span class="type">size_t</span> *result_size, <span class="type">uint32_t</span> *abort_code)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>          –  EtherCAT主站</li>
<li><code>slave_position</code>  –  从站位置</li>
<li><code>index</code>           –  SDO索引</li>
<li><code>subindex</code>        –  SDO的子索引</li>
<li><code>target</code>          –  上传的目标缓冲区。</li>
<li><code>target_size</code>     –  目标缓冲区的大小</li>
<li><code>result_size</code>     –  已经上传的数据大小</li>
<li><code>abort_code</code>      –  SDO上传的中止代码。</li>
</ul>
</li>
<li>返回值：<ul>
<li>成功 –  0</li>
<li>失败 –  &lt; 0</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-sdo-download"><a href="#ecrt-master-sdo-download" class="headerlink" title="ecrt_master_sdo_download"></a><code>ecrt_master_sdo_download</code></h2><ul>
<li>简介：执行SDO下载请求，将数据写入从站。<ul>
<li>此请求由主状态机处理。</li>
<li>他的方法会阻塞，直到请求被处理，并且不能在实时上下文中调用。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_sdo_download</span><span class="params">(<span class="type">ec_master_t</span> *master, <span class="type">uint16_t</span> slave_position, <span class="type">uint16_t</span> index, <span class="type">uint8_t</span> subindex, <span class="type">uint8_t</span> *data, <span class="type">size_t</span> data_size, <span class="type">uint32_t</span> *abort_code)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>          –  EtherCAT主站</li>
<li><code>slave_position</code>  –  从站位置</li>
<li><code>index</code>           –  SDO索引</li>
<li><code>subindex</code>        –  SDO的子索引</li>
<li><code>data</code>            –  要下载的数据缓冲区</li>
<li><code>data_size</code>       –  数据缓冲区大小</li>
<li><code>abort_code</code>      –  SDO上传的中止代码。</li>
</ul>
</li>
<li>返回值：<ul>
<li>成功 –  0</li>
<li>失败 –  &lt; 0</li>
</ul>
</li>
</ul>
<h2 id="ecrt-domain-reg-pdo-entry-list"><a href="#ecrt-domain-reg-pdo-entry-list" class="headerlink" title="ecrt_domain_reg_pdo_entry_list"></a><code>ecrt_domain_reg_pdo_entry_list</code></h2><ul>
<li>简介：为一个域注册一堆PDO条目。此方法必须在<code>ecrt_master_activate()</code>之前在非实时上下文中调用。</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_domain_reg_pdo_entry_list</span><span class="params">(<span class="type">ec_domain_t</span> *domain, <span class="type">const</span> <span class="type">ec_pdo_entry_reg_t</span> *pdo_entry_regs)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>domain</code>  – 域</li>
<li><code>pdo_entry_regs</code>  – PDO注册数组。注册数组必须以一个空结构体结束，或者将\a索引字段设置为0 !</li>
</ul>
</li>
<li>返回值：<ul>
<li>成功  – 0</li>
<li>失败  – 其他</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-activate"><a href="#ecrt-master-activate" class="headerlink" title="ecrt_master_activate"></a><code>ecrt_master_activate</code></h2><ul>
<li>简介：完成配置阶段并为循环操作做准备。<ul>
<li>这个函数告诉主机配置阶段已经完成，将开始实时操作。</li>
<li>该函数为域分配内部内存，并为域成员计算逻辑FMMU地址。</li>
<li>它告诉主状态机现在要应用总线配置。</li>
<li>调用此函数后，实时应用程序负责循环调用<code>ecrt_master_send()</code>和<code>ecrt_master_receive()</code>以确保总线通信。</li>
<li>在调用这个函数之前，由主线程负责，所以这些函数可能不会被调用!</li>
<li>该方法本身分配内存，不应该在实时上下文中调用。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_activate</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>  –  EtherCAT 主站</li>
</ul>
</li>
<li>返回值：<ul>
<li>成功  – 0</li>
<li>失败  – &lt; 0</li>
</ul>
</li>
</ul>
<h2 id="ecrt-domain-data"><a href="#ecrt-domain-data" class="headerlink" title="ecrt_domain_data"></a><code>ecrt_domain_data</code></h2><ul>
<li>简介：返回域的过程数据。<ul>
<li>在内核上下文中:<ul>
<li>如果使用<code>ecrt_domain_external_memory()</code>提供外部内存，则返回的指针将包含该内存的地址。</li>
<li>否则它将指向内部分配的内存。</li>
<li>在后一种情况下，在<code>ecrt_master_activate()</code>之前不能调用此方法。</li>
</ul>
</li>
<li>在用户空间上下文中:<ul>
<li>必须在<code>ecrt_master_activate()</code>之后调用此方法以获取映射的域进程数据内存。</li>
</ul>
</li>
</ul>
</li>
<li>声明：<code>uint8_t *ecrt_domain_data(ec_domain_t *domain);</code></li>
<li>参数：<ul>
<li><code>domain</code>  –  域</li>
</ul>
</li>
<li>返回值：<ul>
<li>返回指向过程数据内存区域的指针</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-select-reference-clock"><a href="#ecrt-master-select-reference-clock" class="headerlink" title="ecrt_master_select_reference_clock"></a><code>ecrt_master_select_reference_clock</code></h2><ul>
<li>简介：为分布式时钟选择参考时钟。如果这个方法没有被某个主时钟调用，或者从时钟配置指针为NULL，那么第一个具有DC功能的从时钟将提供参考时钟。</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_select_reference_clock</span><span class="params">(<span class="type">ec_master_t</span> *master, <span class="type">ec_slave_config_t</span> *sc)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>  –  EtherCAT 主站</li>
<li><code>sc</code>      –  Slave的Slave配置要引用的Slave(或NULL)。</li>
</ul>
</li>
<li>返回值：<ul>
<li>成功  – 0</li>
<li>失败  –  负数，错误码</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-application-time"><a href="#ecrt-master-application-time" class="headerlink" title="ecrt_master_application_time"></a><code>ecrt_master_application_time</code></h2><ul>
<li>简介：设置应用时间。在使用分布式时钟操作从服务器时，主服务器必须知道应用程序的时间。主程序本身不会增加时间，因此必须循环调用此方法。<ul>
<li>传递给该方法的时间用于计算从服务器的SYNC0&#x2F;1中断的阶段。它应该经常在实时周期的同一点被调用。因此，建议在计算开始时调用它，以避免由于执行时间的变化而导致的偏差。</li>
<li>该时间用于设置从机的系统时间偏移和循环操作开始时间寄存器，以及通过ecrt_master_sync_reference_clock()将DC参考时钟同步到应用程序时间。</li>
<li>时间定义为从2000-01-01 00:00开始的纳秒。可以使用EC_TIMEVAL2NANO()宏来转换epoch时间，但这不是必需的，因为绝对值无关紧要</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_application_time</span><span class="params">(<span class="type">ec_master_t</span> *master, <span class="type">uint64_t</span> app_time)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>  –  EtherCAT 主站</li>
<li><code>app_time</code>  –  应用时间</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-sync-reference-clock"><a href="#ecrt-master-sync-reference-clock" class="headerlink" title="ecrt_master_sync_reference_clock"></a><code>ecrt_master_sync_reference_clock</code></h2><ul>
<li>简介：将DC参考时钟漂移补偿数据报排队发送。参考时钟将被同步到由最后一次调用取消ecrt_master_application_time()提供的应用程序时间。</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_sync_reference_clock</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>  –  EtherCAT 主站</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-sync-slave-clocks"><a href="#ecrt-master-sync-slave-clocks" class="headerlink" title="ecrt_master_sync_slave_clocks"></a><code>ecrt_master_sync_slave_clocks</code></h2><ul>
<li>简介：将DC时钟漂移补偿数据报排队发送。所有从时钟同步到参考时钟。</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_sync_slave_clocks</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>  –  EtherCAT 主站</li>
</ul>
</li>
</ul>
<h2 id="ecrt-release-master"><a href="#ecrt-release-master" class="headerlink" title="ecrt_release_master"></a><code>ecrt_release_master</code></h2><ul>
<li>简介：释放一个请求的EtherCAT主机。<ul>
<li>在使用后，必须释放master，以便其他应用程序可以使用它。</li>
<li>此方法释放所有已创建的数据结构。它不应该在实时上下文中调用。</li>
<li>如果主站被激活，则内部调用<code>ecrt_master_deactivate()</code>。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_release_master</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>  –  EtherCAT 主站</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-receive"><a href="#ecrt-master-receive" class="headerlink" title="ecrt_master_receive"></a><code>ecrt_master_receive</code></h2><ul>
<li>简介：从硬件中获取接收到的帧并处理数据报。<ul>
<li>通过调用中断服务例程查询网络设备接收的帧。</li>
<li>提取接收到的数据报，并将结果分派到队列中的数据报对象。</li>
<li>接收到的数据报和超时的数据报将被标记，并退出队列</li>
<li>必须在<code>ecrt_master_activate()</code>返回后由实时应用程序循环调用。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_receive</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ecrt-domain-process"><a href="#ecrt-domain-process" class="headerlink" title="ecrt_domain_process"></a><code>ecrt_domain_process</code></h2><ul>
<li>简介：确定域的数据报的状态。<ul>
<li>计算接收到的数据报的工作计数器，并在必要时输出统计信息。</li>
<li>这必须在<code>ecrt_master_receive()</code>接收域数据报之后调用，以便使<code>ecrt_domain_state()</code>返回最后一次进程数据交换的结果。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_domain_process</span><span class="params">(<span class="type">ec_domain_t</span> *domain)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ecrt-domain-queue"><a href="#ecrt-domain-queue" class="headerlink" title="ecrt_domain_queue"></a><code>ecrt_domain_queue</code></h2><ul>
<li>简介：(Re-)将所有域数据报放在主数据报队列中。调用此函数来标记域的数据报，以便在下一次调用<code>ecrt_master_send()</code>时进行交换</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_domain_queue</span><span class="params">(<span class="type">ec_domain_t</span> *domain)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ecrt-master-send"><a href="#ecrt-master-send" class="headerlink" title="ecrt_master_send"></a><code>ecrt_master_send</code></h2><ul>
<li>简介：发送队列中的所有数据报。<ul>
<li>该方法获取所有已排队等待传输的数据报，将它们放入帧中，并将它们传递给以太网设备进行发送。</li>
<li>必须在<code>ecrt_master_activate()</code>返回后由应用程序循环调用。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_send</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ecrt-domain-state"><a href="#ecrt-domain-state" class="headerlink" title="ecrt_domain_state"></a><code>ecrt_domain_state</code></h2><ul>
<li>简介：读取域的状态。<ul>
<li>在给定的\a状态结构中存储域状态。</li>
<li>利用该方法，可以实时监控过程数据交换情况。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_domain_state</span><span class="params">(<span class="type">const</span> <span class="type">ec_domain_t</span> *domain, <span class="type">ec_domain_state_t</span> *state)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>domain</code>  –  域</li>
<li><code>state</code>   –  指向用于存储信息的状态对象的指针。</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-state"><a href="#ecrt-master-state" class="headerlink" title="ecrt_master_state"></a><code>ecrt_master_state</code></h2><ul>
<li>简介：读取当前主站的状态。<ul>
<li>在给定的\a状态结构中存储主站状态。</li>
<li>此方法返回一个全局状态。对于冗余总线拓扑中特定于链路的状态，请使用<code>ecrt_master_link_state()</code>方法。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_state</span><span class="params">(<span class="type">const</span> <span class="type">ec_master_t</span> *master, <span class="type">ec_master_state_t</span> *state)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>master</code>  –  主站</li>
<li><code>state</code>   –  指向用于存储信息的状态对象的指针</li>
</ul>
</li>
</ul>
<h2 id="ecrt-slave-config-state"><a href="#ecrt-slave-config-state" class="headerlink" title="ecrt_slave_config_state"></a><code>ecrt_slave_config_state</code></h2><ul>
<li>简介：输出从站配置的状态。<ul>
<li>在给定的\a状态结构中存储状态信息。状态信息由主状态机更新，因此可能需要几个周期，直到它发生变化。</li>
<li>如果需要实时监控进程数据交换的状态，则应该使用<code>ecrt_domain_state()</code>。</li>
</ul>
</li>
<li>声明：<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_slave_config_state</span><span class="params">(<span class="type">const</span> <span class="type">ec_slave_config_t</span> *sc, <span class="type">ec_slave_config_state_t</span> *state)</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>参数：<ul>
<li><code>sc</code>  –  从站配置</li>
<li><code>state</code>  –  需要写入的状态对象</li>
</ul>
</li>
</ul>
<h2 id="ecrt-request-master-1"><a href="#ecrt-request-master-1" class="headerlink" title="ecrt_request_master"></a>ecrt_request_master</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_request_master() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于请求 EtherCAT 主站的实例</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">ec_master_t</span>* <span class="title">ecrt_request_master</span><span class="params">(<span class="type">uint32_t</span> master_id)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master_id：一个无符号 32 位整数，表示所请求的 EtherCAT 主站的 ID</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>成功时，返回 ec_master_t* 类型的指针，指向请求的 EtherCAT 主站实例。</li>
<li>失败时，返回 NULL</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_request_master() 函数用于请求 EtherCAT 主站的实例，以便后续使用 EtherCAT Master Library 的其他函数进行 EtherCAT 网络的配置和操作。</li>
<li>在调用 ecrt_request_master() 函数之前，需要确保 EtherCAT Master Library 已被正确初始化。</li>
<li>master_id 参数指定所请求的 EtherCAT 主站的 ID。在系统中存在多个 EtherCAT 主站时，可以使用不同的 ID 来区分它们。</li>
<li>请求成功后，将返回指向请求的 EtherCAT 主站实例的指针。通过该指针，可以对 EtherCAT 主站进行配置、管理和操作。</li>
<li>返回的 EtherCAT 主站实例指针将用作其他 EtherCAT Master Library 函数的参数，以标识要操作的 EtherCAT 主站。</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，ecrt_request_master() 函数只是请求 EtherCAT 主站实例的第一步。在使用 EtherCAT Master Library 进行 EtherCAT 网络的配置和操作之前，还需要使用其他函数进行更详细的初始化和配置，如 ecrt_master_open()、ecrt_master_activate() 等函数</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-create-domain-1"><a href="#ecrt-master-create-domain-1" class="headerlink" title="ecrt_master_create_domain"></a>ecrt_master_create_domain</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_create_domain() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于创建 EtherCAT 主站的数据域（Domain）</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">ec_domain_t</span>* <span class="title">ecrt_master_create_domain</span><span class="params">(<span class="type">ec_master_t</span>* master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向已请求的 EtherCAT 主站实例的 ec_master_t* 类型指针</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>成功时，返回 ec_domain_t* 类型的指针，指向创建的 EtherCAT 数据域（Domain）实例。</li>
<li>失败时，返回 NULL</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_create_domain() 函数用于创建 EtherCAT 主站的数据域，用于管理 EtherCAT 从站设备的数据通信。</li>
<li>在调用 ecrt_master_create_domain() 函数之前，需要先通过 ecrt_request_master() 函数请求 EtherCAT 主站的实例。</li>
<li>参数 master 是指向已请求的 EtherCAT 主站实例的指针，用于指定创建数据域的主站。</li>
<li>创建数据域后，可以使用其他 EtherCAT Master Library 函数来配置和管理数据域，如添加从站设备、映射对象字典、读取和写入数据等。</li>
<li>返回的数据域实例指针将用作其他 EtherCAT Master Library 函数的参数，以标识要操作的数据域</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，ecrt_master_create_domain() 函数只是创建数据域的第一步。在使用数据域进行数据通信之前，还需要使用其他函数进行更详细的配置和映射，如 ecrt_domain_register()、ecrt_domain_queue() 等函数</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-slave-config"><a href="#ecrt-master-slave-config" class="headerlink" title="ecrt_master_slave_config"></a>ecrt_master_slave_config</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_slave_config() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于配置 EtherCAT 主站中的从站设备</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">ec_slave_config_t</span>* <span class="title">ecrt_master_slave_config</span><span class="params">(<span class="type">ec_master_t</span>* master, <span class="type">uint16_t</span> alias, <span class="type">uint16_t</span> position, <span class="type">uint32_t</span> vendor_id, <span class="type">uint32_t</span> product_code)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向已请求的 EtherCAT 主站实例的 ec_master_t* 类型指针。</li>
<li>alias：一个无符号 16 位整数，表示从站设备的别名（Alias）。</li>
<li>position：一个无符号 16 位整数，表示从站设备的位置（Position）。</li>
<li>vendor_id：一个无符号 32 位整数，表示从站设备的供应商 ID。</li>
<li>product_code：一个无符号 32 位整数，表示从站设备的产品码</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>成功时，返回 ec_slave_config_t* 类型的指针，指向配置的从站设备实例。</li>
<li>失败时，返回 NULL</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_slave_config() 函数用于配置 EtherCAT 主站中的从站设备。</li>
<li>在调用 ecrt_master_slave_config() 函数之前，需要先通过 ecrt_request_master() 函数请求 EtherCAT 主站的实例。</li>
<li>参数 master 是指向已请求的 EtherCAT 主站实例的指针，用于指定要配置的主站。</li>
<li>参数 alias 和 position 是从站设备的别名和位置，用于唯一标识从站设备在 EtherCAT 网络中的位置。</li>
<li>参数 vendor_id 和 product_code 是从站设备的供应商 ID 和产品码，用于识别特定的从站设备。</li>
<li>配置从站设备后，可以使用其他 EtherCAT Master Library 函数来访问和操作该设备，如读取和写入从站设备的对象字典数据等。</li>
<li>返回的从站设备实例指针将用作其他 EtherCAT Master Library 函数的参数，以标识要操作的从站设备</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，ecrt_master_slave_config() 函数只是配置从站设备的一部分。在配置从站设备后，还需要使用其他函数进行更详细的初始化和设置，如 ecrt_slave_config_pdos()、ecrt_slave_config_sdo() 等函数</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-slave-config-pdos"><a href="#ecrt-slave-config-pdos" class="headerlink" title="ecrt_slave_config_pdos"></a>ecrt_slave_config_pdos</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_slave_config_pdos() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于配置从站设备的过程数据对象（Process Data Objects，PDOs）</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_slave_config_pdos</span><span class="params">(<span class="type">ec_slave_config_t</span>* config, <span class="type">int</span> direction, <span class="type">const</span> <span class="type">ec_pdo_entry_reg_t</span>* entries)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>config：指向已配置的从站设备实例的 ec_slave_config_t* 类型指针。</li>
<li>direction：整数，表示 PDO 的方向。可以是以下值之一<ul>
<li>EC_DIR_OUTPUT：表示输出 PDO。</li>
<li>EC_DIR_INPUT：表示输入 PDO</li>
</ul>
</li>
<li>entries：指向 ec_pdo_entry_reg_t 结构的指针，定义了要配置的 PDO 条目</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>成功时，返回 0。</li>
<li>失败时，返回一个负数表示错误码。</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_slave_config_pdos() 函数用于配置从站设备的 PDOs，即定义输入和输出数据的结构和格式。</li>
<li>在调用 ecrt_slave_config_pdos() 函数之前，需要先通过 ecrt_master_slave_config() 函数配置从站设备。</li>
<li>参数 config 是指向已配置的从站设备实例的指针，用于指定要配置的从站设备。</li>
<li>参数 direction 指定 PDO 的方向，可以是输出（发送给从站设备）或输入（从从站设备接收）。</li>
<li>参数 entries 是指向 ec_pdo_entry_reg_t 结构的指针，用于定义要配置的 PDO 条目。</li>
<li>ec_pdo_entry_reg_t 结构定义了 PDO 条目的索引、子索引、数据类型、长度等信息，用于描述从站设备的数据结构。</li>
<li>通过调用 ecrt_slave_config_pdos() 函数，可以将 PDO 条目注册到指定的方向上，并配置从站设备的数据通信</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，PDO 的配置涉及到更详细的数据结构和通信配置，如 PDO 映射、PDO 类型、PDO 数据长度等。具体的操作流程和函数使用方式应根据实际需求和 EtherCAT Master Library 的文档进行进一步的学习和了解</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-domain-reg-pdo-entry-list-1"><a href="#ecrt-domain-reg-pdo-entry-list-1" class="headerlink" title="ecrt_domain_reg_pdo_entry_list"></a>ecrt_domain_reg_pdo_entry_list</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_domain_reg_pdo_entry_list() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于在数据域（Domain）中注册 PDO 条目列表</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_domain_reg_pdo_entry_list</span><span class="params">(<span class="type">ec_domain_t</span>* domain, <span class="type">const</span> <span class="type">ec_pdo_entry_reg_t</span>* entries)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>domain：指向已创建的数据域（Domain）实例的 ec_domain_t* 类型指针。</li>
<li>entries：指向 ec_pdo_entry_reg_t 结构的指针，定义了要注册的 PDO 条目列表</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>成功时，返回 0。</li>
<li>失败时，返回一个负数表示错误码</li>
</ul>
</li>
<li><p>说明：</p>
<ul>
<li>ecrt_domain_reg_pdo_entry_list() 函数用于在数据域中注册 PDO 条目列表，将 PDO 条目与数据域进行关联。</li>
<li>在调用 ecrt_domain_reg_pdo_entry_list() 函数之前，需要先通过 ecrt_master_create_domain() 函数创建数据域。</li>
<li>参数 domain 是指向已创建的数据域实例的指针，用于指定要注册 PDO 条目的数据域。</li>
<li>参数 entries 是指向 ec_pdo_entry_reg_t 结构的指针，定义了要注册的 PDO 条目列表。</li>
<li>ec_pdo_entry_reg_t 结构定义了 PDO 条目的索引、子索引、数据类型、长度等信息，用于描述从站设备的数据结构。</li>
<li>通过调用 ecrt_domain_reg_pdo_entry_list() 函数，可以将 PDO 条目列表注册到指定的数据域中，以便进行数据通信</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，PDO 条目的注册与数据域的映射和通信相关。在注册 PDO 条目列表后，需要使用其他函数来配置和管理数据域，如 ecrt_domain_queue()、ecrt_domain_state() 等函数</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-slave-config-dc"><a href="#ecrt-slave-config-dc" class="headerlink" title="ecrt_slave_config_dc"></a>ecrt_slave_config_dc</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_slave_config_dc() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于配置从站设备的分布式时钟（Distributed Clock）</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_slave_config_dc</span><span class="params">(<span class="type">ec_slave_config_t</span>* config, <span class="type">uint32_t</span> sync0_shift, <span class="type">uint32_t</span> sync1_shift, <span class="type">uint32_t</span> sync0_cycle_time, <span class="type">uint32_t</span> sync1_cycle_time)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>config：指向已配置的从站设备实例的 ec_slave_config_t* 类型指针。</li>
<li>sync0_shift：一个无符号 32 位整数，表示 Sync 0 时钟的相位偏移。</li>
<li>sync1_shift：一个无符号 32 位整数，表示 Sync 1 时钟的相位偏移。</li>
<li>sync0_cycle_time：一个无符号 32 位整数，表示 Sync 0 时钟的周期时间。</li>
<li>sync1_cycle_time：一个无符号 32 位整数，表示 Sync 1 时钟的周期时间</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>成功时，返回 0。</li>
<li>失败时，返回一个负数表示错误码</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_slave_config_dc() 函数用于配置从站设备的分布式时钟，以便与 EtherCAT 网络的同步机制进行协调。</li>
<li>在调用 ecrt_slave_config_dc() 函数之前，需要先通过 ecrt_master_slave_config() 函数配置从站设备。</li>
<li>参数 config 是指向已配置的从站设备实例的指针，用于指定要配置的从站设备。</li>
<li>参数 sync0_shift 和 sync1_shift 是用于同步时钟的相位偏移值，以微秒为单位。这些值决定了从站设备与主站之间的同步关系。</li>
<li>参数 sync0_cycle_time 和 sync1_cycle_time 是 Sync 0 和 Sync 1 时钟的周期时间，以纳秒为单位。这些值决定了同步时钟的周期性。</li>
<li>通过调用 ecrt_slave_config_dc() 函数，可以配置从站设备的分布式时钟参数，以确保从站设备在 EtherCAT 网络中的同步性能</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，分布式时钟的配置涉及到与 EtherCAT 网络的同步机制和时钟同步周期的相关设置</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-activate-1"><a href="#ecrt-master-activate-1" class="headerlink" title="ecrt_master_activate"></a>ecrt_master_activate</h2><ul>
<li><p>简介</p>
<ul>
<li>ecrt_master_activate() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于激活 EtherCAT 主站。</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_activate</span><span class="params">(<span class="type">ec_master_t</span>* master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向已请求的 EtherCAT 主站实例的 ec_master_t* 类型指针</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>成功时，返回 0。</li>
<li>失败时，返回一个负数表示错误码。</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_activate() 函数用于激活 EtherCAT 主站，启动 EtherCAT 网络通信。</li>
<li>在调用 ecrt_master_activate() 函数之前，需要先通过 ecrt_request_master() 函数请求 EtherCAT 主站的实例，并完成主站的配置和初始化。</li>
<li>参数 master 是指向已请求的 EtherCAT 主站实例的指针，用于指定要激活的主站。</li>
<li>激活主站后，可以使用其他 EtherCAT Master Library 函数来访问和操作从站设备，如读取和写入从站设备的对象字典数据等。</li>
<li>主站激活后，开始进行 EtherCAT 网络的实时通信，主站与从站设备之间进行数据交换和同步</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，激活主站是启动 EtherCAT 网络通信的关键步骤。在激活主站之前，需要确保主站的配置和初始化工作已经完成，并且从站设备已经正确配置和连接到 EtherCAT 网络</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-domain-data-1"><a href="#ecrt-domain-data-1" class="headerlink" title="ecrt_domain_data"></a>ecrt_domain_data</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_domain_data() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于获取数据域（Domain）的数据缓冲区指针</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span>* <span class="title">ecrt_domain_data</span><span class="params">(<span class="type">ec_domain_t</span>* domain)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>domain：指向已创建的数据域（Domain）实例的 ec_domain_t* 类型指针</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>返回 void* 类型的指针，指向数据域的数据缓冲区</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_domain_data() 函数用于获取数据域的数据缓冲区指针，以便读取和写入数据。</li>
<li>在调用 ecrt_domain_data() 函数之前，需要先通过 ecrt_master_create_domain() 函数创建数据域。</li>
<li>参数 domain 是指向已创建的数据域实例的指针，用于指定要获取数据的数据域。</li>
<li>通过调用 ecrt_domain_data() 函数，可以获取数据域的数据缓冲区指针，从而进行数据的读取和写入。</li>
<li>数据缓冲区的类型取决于数据域的配置，可以是一个数组或结构体，用于存储与从站设备进行通信的数据</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，数据域的数据缓冲区指针可以用于直接读取和写入数据，但在进行数据操作之前，需要确保 EtherCAT 主站已经激活并与从站设备进行通信</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-release-master-1"><a href="#ecrt-release-master-1" class="headerlink" title="ecrt_release_master"></a>ecrt_release_master</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_release_master() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于释放已分配的主站资源</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_release_master</span><span class="params">(<span class="type">ec_master_t</span>* master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向已分配的 EtherCAT 主站实例的 ec_master_t* 类型指针</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_release_master() 函数用于释放已分配的 EtherCAT 主站资源。</li>
<li>在使用 EtherCAT 主站进行通信时，需要先使用 ecrt_request_master() 函数来请求主站资源，并在使用完毕后调用 ecrt_release_master() 函数来释放这些资源。</li>
<li>参数 master 是指向已分配的 EtherCAT 主站实例的指针，用于指定要释放的主站资源。</li>
<li>调用 ecrt_release_master() 函数后，主站资源将被释放，该资源将可用于其他目的。</li>
<li>在释放主站资源之前，应确保已完成所有与从站设备的通信和操作，并确保不再需要使用主站</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，在使用 EtherCAT 主站进行通信时，应始终遵循正确的初始化、配置、通信和释放资源的流程。确保按照 EtherCAT Master Library 的文档和指导进行正确的函数调用和顺序。</li>
</ul>
</li>
</ul>
<h2 id="ecrt-master-application-time-1"><a href="#ecrt-master-application-time-1" class="headerlink" title="ecrt_master_application_time"></a>ecrt_master_application_time</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_application_time() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于设置 EtherCAT 主站的应用程序时间</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_application_time</span><span class="params">(<span class="type">uint64_t</span> cycletime)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>cycletime：以纳秒为单位表示的 EtherCAT 主站的应用程序周期时间</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>如果设置成功，返回 0。</li>
<li>如果设置失败，返回一个负数，表示错误的原因</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_application_time() 函数用于设置 EtherCAT 主站的应用程序时间，即 EtherCAT 通信的周期时间。</li>
<li>要使用 ecrt_master_application_time() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>cycletime 参数指定 EtherCAT 主站的应用程序周期时间，以纳秒为单位。它定义了 EtherCAT 网络中的数据交换周期。</li>
<li>在 EtherCAT 网络中，所有从站设备都按照相同的应用程序周期时间进行通信。</li>
<li>通过调用 ecrt_master_application_time() 函数，可以设置主站的应用程序周期时间，以确保从站设备之间的同步性。</li>
<li>设置应用程序周期时间后，主站将按照该周期周期性地发送和接收数据，从而实现同步和通信。</li>
<li>返回值为 0 表示设置成功，否则表示设置失败，可以根据返回值进行错误处理</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_master_application_time() 函数进行 EtherCAT 主站的应用程序时间设置时，需要确保对应的 EtherCAT 主站驱动库支持该功能，并且遵循相关的使用要求和限制</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-receive-1"><a href="#ecrt-master-receive-1" class="headerlink" title="ecrt_master_receive"></a>ecrt_master_receive</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_receive() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于接收从站设备发送的数据</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_receive</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向 EtherCAT 主站的指针，表示要接收数据的主站</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>如果接收数据成功，返回 0。</li>
<li>如果接收数据失败，返回一个负数，表示错误的原因</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_receive() 函数用于从 EtherCAT 主站接收从站设备发送的数据。</li>
<li>要使用 ecrt_master_receive() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>通过调用 ecrt_master_receive() 函数，可以从主站接收数据，并将其存储在主站的内部数据结构中，以供后续处理和访问。</li>
<li>接收的数据通常是从站设备发送的输入数据或状态信息。</li>
<li>ecrt_master_receive() 函数会阻塞当前线程，直到接收到数据或发生错误。</li>
<li>返回值为 0 表示接收数据成功，否则表示接收数据失败，可以根据返回值进行错误处理</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_master_receive() 函数接收从站设备发送的数据时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且在调用该函数之前已经进行了相关的配置和启动操作。具体的使用方法和注意事项，应该根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-domain-process-1"><a href="#ecrt-domain-process-1" class="headerlink" title="ecrt_domain_process"></a>ecrt_domain_process</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_domain_process() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于处理 EtherCAT 领域（Domain）的数据</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_domain_process</span><span class="params">(<span class="type">ec_domain_t</span> *domain)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>domain：指向要处理的 EtherCAT 领域的指针。</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>如果处理成功，返回 0。</li>
<li>如果处理失败，返回一个负数，表示错误的原因。</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_domain_process() 函数用于处理 EtherCAT 领域中的数据，即实现从站设备的数据交换。</li>
<li>要使用 ecrt_domain_process() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>通过调用 ecrt_domain_process() 函数，可以将 EtherCAT 领域中的数据发送给从站设备，并从从站设备接收数据。</li>
<li>在 EtherCAT 网络中，一个领域包含了一组 PDO（Process Data Object），每个 PDO 包含了从站设备的输入或输出数据。</li>
<li>调用 ecrt_domain_process() 函数时，主站会将领域中的数据发送到各个从站设备，并等待从站设备发送响应数据。</li>
<li>ecrt_domain_process() 函数会阻塞当前线程，直到数据交换完成或发生错误。</li>
<li>返回值为 0 表示处理成功，否则表示处理失败，可以根据返回值进行错误处理</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_domain_process() 函数处理 EtherCAT 领域的数据时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且 EtherCAT 主站和从站设备已经正确配置和启动。具体的使用方法和注意事项，应该根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-state-1"><a href="#ecrt-master-state-1" class="headerlink" title="ecrt_master_state"></a>ecrt_master_state</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_state() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于获取 EtherCAT 主站的状态信息</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">ec_master_state_t</span> <span class="title">ecrt_master_state</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向 EtherCAT 主站的指针，表示要获取状态信息的主站</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>ec_master_state_t 类型的值，表示 EtherCAT 主站的状态信息</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_state() 函数用于获取 EtherCAT 主站的状态信息，如主站是否启动、错误状态等。</li>
<li>要使用 ecrt_master_state() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>通过调用 ecrt_master_state() 函数，可以获取主站的当前状态信息。</li>
<li>返回的 ec_master_state_t 类型的值包含了主站的各种状态信息，如启动状态、错误状态、从站数量等。</li>
<li>ec_master_state_t 是一个结构体，包含了以下成员变量：<ul>
<li>int slaves_responding：应答的从站数量。</li>
<li>int al_states：AL 状态。</li>
<li>int link_up：链路是否连接。</li>
<li>int linking：链路状态。</li>
<li>int operational：主站是否进入操作状态。</li>
<li>int error_flag：错误标志。</li>
<li>int slave_states：从站状态</li>
</ul>
</li>
<li>您可以通过访问返回的 ec_master_state_t 结构体的成员变量来获取各个状态信息。</li>
<li>使用 ecrt_master_state() 函数可以帮助您监控和了解 EtherCAT 主站的状态，以便进行适当的处理和错误处理</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_master_state() 函数获取 EtherCAT 主站状态信息时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且主站已经正确配置和启动。具体的使用方法和注意事项，应根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-slave-config-state-1"><a href="#ecrt-slave-config-state-1" class="headerlink" title="ecrt_slave_config_state"></a>ecrt_slave_config_state</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_slave_config_state() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于获取 EtherCAT 从站配置对象的状态信息</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">ec_slave_config_state_t</span> <span class="title">ecrt_slave_config_state</span><span class="params">(<span class="type">ec_slave_config_t</span> *slave_config)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>slave_config：指向 EtherCAT 从站配置对象的指针，表示要获取状态信息的从站配置对象</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>ec_slave_config_state_t 类型的值，表示 EtherCAT 从站配置对象的状态信息</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_slave_config_state() 函数用于获取 EtherCAT 从站配置对象的状态信息，如从站是否应答、错误状态等。</li>
<li>要使用 ecrt_slave_config_state() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>通过调用 ecrt_slave_config_state() 函数，可以获取从站配置对象的当前状态信息。</li>
<li>返回的 ec_slave_config_state_t 类型的值包含了从站配置对象的各种状态信息，如从站是否应答、错误状态、应答延迟等。</li>
<li>ec_slave_config_state_t 是一个结构体，包含了以下成员变量：<ul>
<li>int online：从站是否在线。</li>
<li>int operational：从站是否进入操作状态。</li>
<li>int al_state：从站的 AL 状态。</li>
<li>int state：从站的状态。</li>
<li>int error_flag：错误标志。</li>
<li>int response_delay：应答延迟</li>
</ul>
</li>
<li>您可以通过访问返回的 ec_slave_config_state_t 结构体的成员变量来获取各个状态信息。</li>
<li>使用 ecrt_slave_config_state() 函数可以帮助您监控和了解 EtherCAT 从站配置对象的状态，以便进行适当的处理和错误处理</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_slave_config_state() 函数获取 EtherCAT 从站配置对象状态信息时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且相关的从站配置对象已经正确配置和启动。具体的使用方法和注意事项，应根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-sync-reference-clock-1"><a href="#ecrt-master-sync-reference-clock-1" class="headerlink" title="ecrt_master_sync_reference_clock"></a>ecrt_master_sync_reference_clock</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_sync_reference_clock() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于同步 EtherCAT 主站的参考时钟。</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_sync_reference_clock</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向 EtherCAT 主站的指针，表示要同步参考时钟的主站。</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_sync_reference_clock() 函数用于同步 EtherCAT 主站的参考时钟，以确保整个 EtherCAT 网络的同步性。</li>
<li>要使用 ecrt_master_sync_reference_clock() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>在 EtherCAT 网络中，参考时钟用于同步主站和从站设备的通信，以保证数据的准确性和一致性。</li>
<li>调用 ecrt_master_sync_reference_clock() 函数时，主站会发送同步命令，从而启动参考时钟的同步过程。</li>
<li>在同步过程中，主站会等待从站设备应答并进行相应的时钟调整，以达到整个网络的同步。</li>
<li>一旦参考时钟同步完成，主站和从站设备之间的通信将在同一时基上进行。</li>
<li>ecrt_master_sync_reference_clock() 函数通常在 EtherCAT 网络启动之前被调用，以确保网络中的设备在通信开始之前具有一致的时钟。</li>
<li>请注意，EtherCAT 网络中的参考时钟同步是非常重要的，因为它直接影响到数据的传输和同步性能</li>
</ul>
</li>
<li><p>注:</p>
<ul>
<li>需要注意的是，使用 ecrt_master_sync_reference_clock() 函数进行参考时钟同步时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且主站和从站设备已经正确配置和启动。具体的使用方法和注意事项，应根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-sync-slave-clocks-1"><a href="#ecrt-master-sync-slave-clocks-1" class="headerlink" title="ecrt_master_sync_slave_clocks"></a>ecrt_master_sync_slave_clocks</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_sync_slave_clocks() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于同步 EtherCAT 从站的时钟</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_master_sync_slave_clocks</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向 EtherCAT 主站的指针，表示要同步从站时钟的主站</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_sync_slave_clocks() 函数用于同步 EtherCAT 主站下所有从站的时钟，以确保整个 EtherCAT 网络中从站设备之间的时钟同步。</li>
<li>要使用 ecrt_master_sync_slave_clocks() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>在 EtherCAT 网络中，从站设备的时钟同步是重要的，以保证数据的传输和同步性能。</li>
<li>调用 ecrt_master_sync_slave_clocks() 函数时，主站会发送同步命令，通知所有从站设备进行时钟调整。</li>
<li>从站设备会根据主站发送的同步命令进行时钟调整，以达到整个网络的同步。</li>
<li>一旦从站时钟同步完成，主站和从站设备之间的通信将在同一时基上进行。</li>
<li>ecrt_master_sync_slave_clocks() 函数通常在 EtherCAT 网络启动之前被调用，以确保网络中的所有从站设备在通信开始之前具有一致的时钟。</li>
<li>请注意，EtherCAT 网络中从站的时钟同步对于数据的传输和同步性能非常重要</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_master_sync_slave_clocks() 函数进行从站时钟同步时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且主站和从站设备已经正确配置和启动。具体的使用方法和注意事项，应根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-domain-queue-1"><a href="#ecrt-domain-queue-1" class="headerlink" title="ecrt_domain_queue"></a>ecrt_domain_queue</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_domain_queue() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于将数据写入 EtherCAT 数据域（Domain）</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ecrt_domain_queue</span><span class="params">(<span class="type">ec_domain_t</span> *domain)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>domain：指向 EtherCAT 数据域（Domain）的指针，表示要将数据写入的数据域</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_domain_queue() 函数用于将数据写入 EtherCAT 数据域，以进行数据传输和同步。</li>
<li>要使用 ecrt_domain_queue() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>EtherCAT 数据域是用于存储和传输与从站设备通信的数据的内存区域。</li>
<li>通过调用 ecrt_domain_queue() 函数，可以将待发送的数据放入数据域中，以待发送到从站设备。</li>
<li>调用 ecrt_domain_queue() 函数后，数据将进入数据域的发送队列，等待适当的时间点发送到从站设备。</li>
<li>一旦数据被发送到从站设备，从站设备将读取并处理这些数据，以进行数据交换和通信。</li>
<li>使用 ecrt_domain_queue() 函数可以实现周期性的数据传输和同步，以满足实时控制系统的要求</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_domain_queue() 函数进行数据域写入时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且相关的数据域已经正确配置和启动。具体的使用方法和注意事项，应根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ecrt-master-send-1"><a href="#ecrt-master-send-1" class="headerlink" title="ecrt_master_send"></a>ecrt_master_send</h2><ul>
<li><p>简介：</p>
<ul>
<li>ecrt_master_send() 是 EtherCAT 主站驱动库（EtherCAT Master Library）中的一个函数，用于发送数据到 EtherCAT 从站设备。</li>
</ul>
</li>
<li><p>原型：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ethercat.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ecrt_master_send</span><span class="params">(<span class="type">ec_master_t</span> *master)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li>master：指向 EtherCAT 主站的指针，表示要发送数据的主站</li>
</ul>
</li>
<li><p>返回值：</p>
<ul>
<li>ecrt_master_send() 函数返回一个整数值，表示发送操作的结果。通常情况下，0 表示成功，负数表示失败</li>
</ul>
</li>
<li><p>详解：</p>
<ul>
<li>ecrt_master_send() 函数用于向 EtherCAT 从站设备发送数据，以进行数据传输和通信。</li>
<li>要使用 ecrt_master_send() 函数，需要包含头文件 &lt;ethercat.h&gt;。</li>
<li>在 EtherCAT 网络中，主站负责向从站设备发送数据，并处理从站设备的应答。</li>
<li>通过调用 ecrt_master_send() 函数，可以触发主站向从站设备发送先前通过 ecrt_domain_queue() 函数放置在数据域中的数据。</li>
<li>当调用 ecrt_master_send() 函数时，主站将按照预定的通信周期发送数据到从站设备。</li>
<li>ecrt_master_send() 函数会阻塞主线程，直到发送操作完成或发生错误。</li>
<li>发送操作完成后，可以通过调用 ecrt_master_state() 函数来检查发送的结果状态</li>
</ul>
</li>
<li><p>注：</p>
<ul>
<li>需要注意的是，使用 ecrt_master_send() 函数发送数据时，需要确保 EtherCAT 主站驱动库已经成功初始化，并且相关的数据域已经正确配置和启动。具体的使用方法和注意事项，应根据您所使用的 EtherCAT 主站驱动库的文档和示例进行适当的调整和使用</li>
</ul>
</li>
</ul>

    </div>

    
    
    
        <div class="reward-container">
  <div>感谢老板支持！敬礼(^^ゞ</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="zhang junyi WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="zhang junyi Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/EtherCat/" rel="tag"># EtherCat</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/05/22/notebook/GitHub/2024-05-22-Github/" rel="prev" title="Github">
      <i class="fa fa-chevron-left"></i> Github
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/05/22/notebook/Eigen3/2024-05-22-Eigen_2_%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7/" rel="next" title="Eigen_2_常用技巧">
      Eigen_2_常用技巧 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ethercat"><span class="nav-number">2.</span> <span class="nav-text">ethercat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E5%90%AF%E5%8A%A8%EF%BC%8C%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.</span> <span class="nav-text">1.1 启动，设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E8%B0%83%E8%AF%95%E5%91%BD%E4%BB%A4"><span class="nav-number">4.</span> <span class="nav-text">1.2 调试命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-demo-webserver-c-%E5%88%86%E6%9E%90"><span class="nav-number">5.</span> <span class="nav-text">1.2 demo_webserver.c 分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number">6.</span> <span class="nav-text">数据结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-pdo-entry-info-t"><span class="nav-number">7.</span> <span class="nav-text">ec_pdo_entry_info_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-pdo-info-t"><span class="nav-number">8.</span> <span class="nav-text">ec_pdo_info_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-sync-info-t"><span class="nav-number">9.</span> <span class="nav-text">ec_sync_info_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-master-t"><span class="nav-number">10.</span> <span class="nav-text">ec_master_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-state-t"><span class="nav-number">11.</span> <span class="nav-text">ecrt_master_state_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-slave-config-t"><span class="nav-number">12.</span> <span class="nav-text">ec_slave_config_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-slave-config-state-t"><span class="nav-number">13.</span> <span class="nav-text">ec_slave_config_state_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-domain-t"><span class="nav-number">14.</span> <span class="nav-text">ec_domain_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-wc-state-t"><span class="nav-number">15.</span> <span class="nav-text">ec_wc_state_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-domain-state-t"><span class="nav-number">16.</span> <span class="nav-text">ec_domain_state_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ec-pdo-entry-reg-t"><span class="nav-number">17.</span> <span class="nav-text">ec_pdo_entry_reg_t</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#API"><span class="nav-number">18.</span> <span class="nav-text">API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-create-domain"><span class="nav-number">19.</span> <span class="nav-text">ecrt_master_create_domain</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-request-master"><span class="nav-number">20.</span> <span class="nav-text">ecrt_request_master</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-sdo-upload"><span class="nav-number">21.</span> <span class="nav-text">ecrt_master_sdo_upload</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-sdo-download"><span class="nav-number">22.</span> <span class="nav-text">ecrt_master_sdo_download</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-reg-pdo-entry-list"><span class="nav-number">23.</span> <span class="nav-text">ecrt_domain_reg_pdo_entry_list</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-activate"><span class="nav-number">24.</span> <span class="nav-text">ecrt_master_activate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-data"><span class="nav-number">25.</span> <span class="nav-text">ecrt_domain_data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-select-reference-clock"><span class="nav-number">26.</span> <span class="nav-text">ecrt_master_select_reference_clock</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-application-time"><span class="nav-number">27.</span> <span class="nav-text">ecrt_master_application_time</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-sync-reference-clock"><span class="nav-number">28.</span> <span class="nav-text">ecrt_master_sync_reference_clock</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-sync-slave-clocks"><span class="nav-number">29.</span> <span class="nav-text">ecrt_master_sync_slave_clocks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-release-master"><span class="nav-number">30.</span> <span class="nav-text">ecrt_release_master</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-receive"><span class="nav-number">31.</span> <span class="nav-text">ecrt_master_receive</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-process"><span class="nav-number">32.</span> <span class="nav-text">ecrt_domain_process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-queue"><span class="nav-number">33.</span> <span class="nav-text">ecrt_domain_queue</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-send"><span class="nav-number">34.</span> <span class="nav-text">ecrt_master_send</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-state"><span class="nav-number">35.</span> <span class="nav-text">ecrt_domain_state</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-state"><span class="nav-number">36.</span> <span class="nav-text">ecrt_master_state</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-slave-config-state"><span class="nav-number">37.</span> <span class="nav-text">ecrt_slave_config_state</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-request-master-1"><span class="nav-number">38.</span> <span class="nav-text">ecrt_request_master</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-create-domain-1"><span class="nav-number">39.</span> <span class="nav-text">ecrt_master_create_domain</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-slave-config"><span class="nav-number">40.</span> <span class="nav-text">ecrt_master_slave_config</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-slave-config-pdos"><span class="nav-number">41.</span> <span class="nav-text">ecrt_slave_config_pdos</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-reg-pdo-entry-list-1"><span class="nav-number">42.</span> <span class="nav-text">ecrt_domain_reg_pdo_entry_list</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-slave-config-dc"><span class="nav-number">43.</span> <span class="nav-text">ecrt_slave_config_dc</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-activate-1"><span class="nav-number">44.</span> <span class="nav-text">ecrt_master_activate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-data-1"><span class="nav-number">45.</span> <span class="nav-text">ecrt_domain_data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-release-master-1"><span class="nav-number">46.</span> <span class="nav-text">ecrt_release_master</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-application-time-1"><span class="nav-number">47.</span> <span class="nav-text">ecrt_master_application_time</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-receive-1"><span class="nav-number">48.</span> <span class="nav-text">ecrt_master_receive</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-process-1"><span class="nav-number">49.</span> <span class="nav-text">ecrt_domain_process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-state-1"><span class="nav-number">50.</span> <span class="nav-text">ecrt_master_state</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-slave-config-state-1"><span class="nav-number">51.</span> <span class="nav-text">ecrt_slave_config_state</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-sync-reference-clock-1"><span class="nav-number">52.</span> <span class="nav-text">ecrt_master_sync_reference_clock</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-sync-slave-clocks-1"><span class="nav-number">53.</span> <span class="nav-text">ecrt_master_sync_slave_clocks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-domain-queue-1"><span class="nav-number">54.</span> <span class="nav-text">ecrt_domain_queue</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ecrt-master-send-1"><span class="nav-number">55.</span> <span class="nav-text">ecrt_master_send</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zhang junyi</p>
  <div class="site-description" itemprop="description">工作学习笔记</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">686</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">99</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/junyiha" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;junyiha" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://x.com/zhangjunyiha" title="Twitter → https:&#x2F;&#x2F;x.com&#x2F;zhangjunyiha" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhang junyi</span>
</div>

<!--
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
